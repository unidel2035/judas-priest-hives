/* ============================================================================
 * Application code, helpers, and configuration
 * Lines 242192-278185 from original k_da_deobfuscated.js
 * 
 * NOTE: This file is part of a webpack bundle split for readability.
 * It shares closure scope with other parts and cannot run independently.
 * Use the build script to create a working executable.
 * ============================================================================ */

var qur = qe(or(), 1);
import { Stream as xfr } from 'node:stream';
import cX from 'node:process';
var Lze = qe(or(), 1);
import Tfr from 'node:process';
function z$e(t, e, { signal: r, edges: n } = {}) {
  let i,
    a = null,
    s = n != null && n.includes('leading'),
    o = n == null || n.includes('trailing'),
    l = () => {
      a !== null && (t.apply(i, a), (i = void 0), (a = null));
    },
    u = () => {
      (o && l(), m());
    },
    c = null,
    p = () => {
      (c != null && clearTimeout(c),
        (c = setTimeout(() => {
          ((c = null), u());
        }, e)));
    },
    h = () => {
      c !== null && (clearTimeout(c), (c = null));
    },
    m = () => {
      (h(), (i = void 0), (a = null));
    },
    E = () => {
      (h(), l());
    },
    v = function (...g) {
      if (r?.aborted) return;
      ((i = this), (a = g));
      let _ = c == null;
      (p(), s && _ && l());
    };
  return (
    (v.schedule = p),
    (v.cancel = m),
    (v.flush = E),
    r?.addEventListener('abort', m, { once: !0 }),
    v
  );
}
function J$e(t, e = 0, r = {}) {
  typeof r != 'object' && (r = {});
  let { leading: n = !1, trailing: i = !0, maxWait: a } = r,
    s = Array(2);
  (n && (s[0] = 'leading'), i && (s[1] = 'trailing'));
  let o,
    l = null,
    u = z$e(
      function (...h) {
        ((o = t.apply(this, h)), (l = null));
      },
      e,
      { edges: s }
    ),
    c = function (...h) {
      return a != null && (l === null && (l = Date.now()), Date.now() - l >= a)
        ? ((o = t.apply(this, h)), (l = Date.now()), u.cancel(), u.schedule(), o)
        : (u.apply(this, h), o);
    },
    p = () => (u.flush(), o);
  return ((c.cancel = u.cancel), (c.flush = p), c);
}
function cK(t, e = 0, r = {}) {
  typeof r != 'object' && (r = {});
  let { leading: n = !0, trailing: i = !0 } = r;
  return J$e(t, e, { leading: n, trailing: i, maxWait: e });
}
var x5 = {};
$R(x5, {
  beep: () => Xcr,
  clearScreen: () => Wcr,
  clearTerminal: () => zcr,
  cursorBackward: () => Ocr,
  cursorDown: () => Rcr,
  cursorForward: () => Ncr,
  cursorGetPosition: () => Fcr,
  cursorHide: () => kcr,
  cursorLeft: () => Z$e,
  cursorMove: () => Bcr,
  cursorNextLine: () => Pcr,
  cursorPrevLine: () => Qcr,
  cursorRestorePosition: () => Lcr,
  cursorSavePosition: () => Mcr,
  cursorShow: () => Ucr,
  cursorTo: () => xcr,
  cursorUp: () => X$e,
  enterAlternativeScreen: () => Jcr,
  eraseDown: () => qcr,
  eraseEndLine: () => Vcr,
  eraseLine: () => eje,
  eraseLines: () => Hcr,
  eraseScreen: () => g2e,
  eraseStartLine: () => Gcr,
  eraseUp: () => $cr,
  exitAlternativeScreen: () => Kcr,
  iTerm: () => tdr,
  image: () => edr,
  link: () => Zcr,
  scrollDown: () => Ycr,
  scrollUp: () => jcr,
});
import E2e from 'node:process';
var dK = globalThis.window?.document !== void 0,
  EFn = globalThis.process?.versions?.node !== void 0,
  yFn = globalThis.process?.versions?.bun !== void 0,
  vFn = globalThis.Deno?.version?.deno !== void 0,
  CFn = globalThis.process?.versions?.electron !== void 0,
  _Fn = globalThis.navigator?.userAgent?.includes('jsdom') === !0,
  SFn = typeof WorkerGlobalScope < 'u' && globalThis instanceof WorkerGlobalScope,
  bFn = typeof DedicatedWorkerGlobalScope < 'u' && globalThis instanceof DedicatedWorkerGlobalScope,
  DFn = typeof SharedWorkerGlobalScope < 'u' && globalThis instanceof SharedWorkerGlobalScope,
  wFn = typeof ServiceWorkerGlobalScope < 'u' && globalThis instanceof ServiceWorkerGlobalScope,
  TU = globalThis.navigator?.userAgentData?.platform,
  IFn =
    TU === 'macOS' ||
    globalThis.navigator?.platform === 'MacIntel' ||
    globalThis.navigator?.userAgent?.includes(' Mac ') === !0 ||
    globalThis.process?.platform === 'darwin',
  TFn =
    TU === 'Windows' ||
    globalThis.navigator?.platform === 'Win32' ||
    globalThis.process?.platform === 'win32',
  xFn =
    TU === 'Linux' ||
    globalThis.navigator?.platform?.startsWith('Linux') === !0 ||
    globalThis.navigator?.userAgent?.includes(' Linux ') === !0 ||
    globalThis.process?.platform === 'linux',
  BFn =
    TU === 'iOS' ||
    (globalThis.navigator?.platform === 'MacIntel' && globalThis.navigator?.maxTouchPoints > 1) ||
    /iPad|iPhone|iPod/.test(globalThis.navigator?.platform),
  RFn =
    TU === 'Android' ||
    globalThis.navigator?.platform === 'Android' ||
    globalThis.navigator?.userAgent?.includes(' Android ') === !0 ||
    globalThis.process?.platform === 'android';
var zs = '\x1B[',
  BU = '\x1B]',
  WR = '\x07',
  xU = ';',
  K$e = !dK && E2e.env.TERM_PROGRAM === 'Apple_Terminal',
  Icr = !dK && E2e.platform === 'win32',
  Tcr = dK
    ? () => {
        throw new Error('`process.cwd()` only works in Node.js, not the browser.');
      }
    : E2e.cwd,
  xcr = (t, e) => {
    if (typeof t != 'number') throw new TypeError('The `x` argument is required');
    return typeof e != 'number' ? zs + (t + 1) + 'G' : zs + (e + 1) + xU + (t + 1) + 'H';
  },
  Bcr = (t, e) => {
    if (typeof t != 'number') throw new TypeError('The `x` argument is required');
    let r = '';
    return (
      t < 0 ? (r += zs + -t + 'D') : t > 0 && (r += zs + t + 'C'),
      e < 0 ? (r += zs + -e + 'A') : e > 0 && (r += zs + e + 'B'),
      r
    );
  },
  X$e = (t = 1) => zs + t + 'A',
  Rcr = (t = 1) => zs + t + 'B',
  Ncr = (t = 1) => zs + t + 'C',
  Ocr = (t = 1) => zs + t + 'D',
  Z$e = zs + 'G',
  Mcr = K$e ? '\x1B7' : zs + 's',
  Lcr = K$e ? '\x1B8' : zs + 'u',
  Fcr = zs + '6n',
  Pcr = zs + 'E',
  Qcr = zs + 'F',
  kcr = zs + '?25l',
  Ucr = zs + '?25h',
  Hcr = (t) => {
    let e = '';
    for (let r = 0; r < t; r++) e += eje + (r < t - 1 ? X$e() : '');
    return (t && (e += Z$e), e);
  },
  Vcr = zs + 'K',
  Gcr = zs + '1K',
  eje = zs + '2K',
  qcr = zs + 'J',
  $cr = zs + '1J',
  g2e = zs + '2J',
  jcr = zs + 'S',
  Ycr = zs + 'T',
  Wcr = '\x1Bc',
  zcr = Icr ? `${g2e}${zs}0f` : `${g2e}${zs}3J${zs}H`,
  Jcr = zs + '?1049h',
  Kcr = zs + '?1049l',
  Xcr = WR,
  Zcr = (t, e) => [BU, '8', xU, xU, e, WR, t, BU, '8', xU, xU, WR].join(''),
  edr = (t, e = {}) => {
    let r = `${BU}1337;File=inline=1`;
    return (
      e.width && (r += `;width=${e.width}`),
      e.height && (r += `;height=${e.height}`),
      e.preserveAspectRatio === !1 && (r += ';preserveAspectRatio=0'),
      r + ':' + Buffer.from(t).toString('base64') + WR
    );
  },
  tdr = {
    setCwd: (t = Tcr()) => `${BU}50;CurrentDir=${t}${WR}`,
    annotation(t, e = {}) {
      let r = `${BU}1337;`,
        n = e.x !== void 0,
        i = e.y !== void 0;
      if ((n || i) && !(n && i && e.length !== void 0))
        throw new Error('`x`, `y` and `length` must be defined when `x` or `y` is defined');
      return (
        (t = t.replaceAll('|', '')),
        (r += e.isHidden ? 'AddHiddenAnnotation=' : 'AddAnnotation='),
        e.length > 0 ? (r += (n ? [t, e.length, e.x, e.y] : [e.length, t]).join('|')) : (r += t),
        r + WR
      );
    },
  };
var BD = !1;
var rdr = (t) => {
  let e = new Set();
  do for (let r of Reflect.ownKeys(t)) e.add([t, r]);
  while ((t = Reflect.getPrototypeOf(t)) && t !== Object.prototype);
  return e;
};
function y2e(t, { include: e, exclude: r } = {}) {
  let n = (i) => {
    let a = (s) => (typeof s == 'string' ? i === s : s.test(i));
    return e ? e.some(a) : r ? !r.some(a) : !0;
  };
  for (let [i, a] of rdr(t.constructor.prototype)) {
    if (a === 'constructor' || !n(a)) continue;
    let s = Reflect.getOwnPropertyDescriptor(i, a);
    s && typeof s.value == 'function' && (t[a] = t[a].bind(t));
  }
  return t;
}
var Fze = qe(sje(), 1);
import { PassThrough as oje } from 'node:stream';
var lje = [
    'assert',
    'count',
    'countReset',
    'debug',
    'dir',
    'dirxml',
    'error',
    'group',
    'groupCollapsed',
    'groupEnd',
    'info',
    'log',
    'table',
    'time',
    'timeEnd',
    'timeLog',
    'trace',
    'warn',
  ],
  _2e = {},
  ndr = (t) => {
    let e = new oje(),
      r = new oje();
    ((e.write = (i) => {
      t('stdout', i);
    }),
      (r.write = (i) => {
        t('stderr', i);
      }));
    let n = new console.Console(e, r);
    for (let i of lje) ((_2e[i] = console[i]), (console[i] = n[i]));
    return () => {
      for (let i of lje) console[i] = _2e[i];
      _2e = {};
    };
  },
  uje = ndr;
var Pze = qe(b2e(), 1);
var idr = (() => {
    var t = import.meta.url;
    return function (e) {
      e = e || {};
      var r;
      r || (r = typeof e < 'u' ? e : {});
      var n, i;
      r.ready = new Promise(function (Re, Me) {
        ((n = Re), (i = Me));
      });
      var a = Object.assign({}, r),
        s = '';
      (typeof document < 'u' && document.currentScript && (s = document.currentScript.src),
        t && (s = t),
        s.indexOf('blob:') !== 0
          ? (s = s.substr(0, s.replace(/[?#].*/, '').lastIndexOf('/') + 1))
          : (s = ''));
      var o = r.print || console.log.bind(console),
        l = r.printErr || console.warn.bind(console);
      (Object.assign(r, a), (a = null));
      var u;
      r.wasmBinary && (u = r.wasmBinary);
      var c = r.noExitRuntime || !0;
      typeof WebAssembly != 'object' && ee('no native wasm support detected');
      var p,
        h = !1;
      function m(Re, Me, Ze) {
        Ze = Me + Ze;
        for (var lt = ''; !(Me >= Ze); ) {
          var Et = Re[Me++];
          if (!Et) break;
          if (Et & 128) {
            var Bt = Re[Me++] & 63;
            if ((Et & 224) == 192) lt += String.fromCharCode(((Et & 31) << 6) | Bt);
            else {
              var $t = Re[Me++] & 63;
              ((Et =
                (Et & 240) == 224
                  ? ((Et & 15) << 12) | (Bt << 6) | $t
                  : ((Et & 7) << 18) | (Bt << 12) | ($t << 6) | (Re[Me++] & 63)),
                65536 > Et
                  ? (lt += String.fromCharCode(Et))
                  : ((Et -= 65536),
                    (lt += String.fromCharCode(55296 | (Et >> 10), 56320 | (Et & 1023)))));
            }
          } else lt += String.fromCharCode(Et);
        }
        return lt;
      }
      var E, v, g, _, S, b, I, R, F;
      function G() {
        var Re = p.buffer;
        ((E = Re),
          (r.HEAP8 = v = new Int8Array(Re)),
          (r.HEAP16 = _ = new Int16Array(Re)),
          (r.HEAP32 = b = new Int32Array(Re)),
          (r.HEAPU8 = g = new Uint8Array(Re)),
          (r.HEAPU16 = S = new Uint16Array(Re)),
          (r.HEAPU32 = I = new Uint32Array(Re)),
          (r.HEAPF32 = R = new Float32Array(Re)),
          (r.HEAPF64 = F = new Float64Array(Re)));
      }
      var U,
        M = [],
        Y = [],
        z = [];
      function se() {
        var Re = r.preRun.shift();
        M.unshift(Re);
      }
      var j = 0,
        N = null,
        H = null;
      function ee(Re) {
        throw (
          r.onAbort && r.onAbort(Re),
          (Re = 'Aborted(' + Re + ')'),
          l(Re),
          (h = !0),
          (Re = new WebAssembly.RuntimeError(Re + '. Build with -sASSERTIONS for more info.')),
          i(Re),
          Re
        );
      }
      function me(Re) {
        return Re.startsWith('data:application/octet-stream;base64,');
      }
      var Ae;
      if (
        ((Ae =
          'data:application/octet-stream;base64,AGFzbQEAAAABugM3YAF/AGACf38AYAF/AX9gA39/fwBgAn98AGACf38Bf2ADf39/AX9gBH9/f30BfWADf398AGAAAGAEf39/fwBgAX8BfGACf38BfGAFf39/f38Bf2AAAX9gA39/fwF9YAZ/f31/fX8AYAV/f39/fwBgAn9/AX1gBX9/f319AX1gAX8BfWADf35/AX5gB39/f39/f38AYAZ/f39/f38AYAR/f39/AX9gBn9/f319fQF9YAR/f31/AGADf399AX1gBn98f39/fwF/YAR/fHx/AGACf30AYAh/f39/f39/fwBgDX9/f39/f39/f39/f38AYAp/f39/f39/f39/AGAFf39/f38BfGAEfHx/fwF9YA1/fX1/f399fX9/f39/AX9gB39/f319f38AYAJ+fwF/YAN/fX0BfWABfAF8YAN/fHwAYAR/f319AGAHf39/fX19fQF9YA1/fX99f31/fX19fX1/AX9gC39/f39/f399fX19AX9gCH9/f39/f319AGAEf39+fgBgB39/f39/f38Bf2ACfH8BfGAFf398fH8AYAN/f38BfGAEf39/fABgA39/fQBgBn9/fX99fwF/ArUBHgFhAWEAHwFhAWIAAwFhAWMACQFhAWQAFgFhAWUAEQFhAWYAIAFhAWcAAAFhAWgAIQFhAWkAAwFhAWoAAAFhAWsAFwFhAWwACgFhAW0ABQFhAW4AAwFhAW8AAQFhAXAAFwFhAXEABgFhAXIAAAFhAXMAIgFhAXQACgFhAXUADQFhAXYAFgFhAXcAAgFhAXgAAwFhAXkAGAFhAXoAAgFhAUEAAQFhAUIAEQFhAUMAAQFhAUQAAAOiAqACAgMSBwcACRkDAAoRBgYKEwAPDxMBBiMTCgcHGgMUASQFJRQHAwMKCgMmAQYYDxobFAAKBw8KBwMDAgkCAAAFGwACBwIHBgIDAQMIDAABKAkHBQURACkZASoAAAIrLAIALQcHBy4HLwkFCgMCMA0xAgMJAgACAQYKAQIBBQEACQIFAQEABQAODQ0GFQIBHBUGAgkCEAAAAAUyDzMMBQYINAUCAwUODg41AgMCAgIDBgICNgIBDAwMAQsLCwsLCx0CAAIAAAABABABBQICAQMCEgMMCwEBAQEBAQsLAQICAwICAgICAgIDAgIICAEICAgEBAQEBAQEBAQABAQABAQEBAAE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GiABQQA2AvADIAFCADcC6AMgAigC7AMiAyACKALoAyIERwRAIAMgBGsiBEEASA0FIAEgBBAeIgM2AuwDIAEgAzYC6AMgASADIARqNgLwAyACKALoAyIEIAIoAuwDIghHBEADQCADIAQoAgA2AgAgA0EEaiEDIARBBGoiBCAIRw0ACwsgASADNgLsAwsgASACKQL0AzcC9AMgASACKAKEBDYChAQgASACKQL8AzcC/AMgAUEANgLkAwsgBSABNgIAIAEgADYC5AMLIAZBAWohBiAFQQRqIgUgB0cNAAsLDwsQAgALUAACQAJAAkACQAJAIAIOBAQAAQIDCyAAIAEgAUEwahBDDwsgACABIAFBMGogAxBEDwsgACABIAFBMGoQQg8LECQACyAAIAEgAUEwaiADEEULcAIBfwF9IwBBEGsiBCQAIARBCGogACABQQJ0QdwlaigCACACEDZDAADAfyEFAkACQAJAIAQtAAxBAWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwt5AgF/AX0jAEEQayIDJAAgA0EIaiAAIAFBAnRB7CVqKAIAIAIQU0MAAMB/IQQCQAJAAkAgAy0ADEEBaw4CAAECCyADKgIIIQQMAQsgAyoCCEMAAAAAlEMK1yM8lCEECyADQRBqJAAgBEMAAAAAl0MAAAAAIAQgBFsbC1QAAkACQAJAAkACQCACDgQEAAECAwsgACABIAFBwgBqEEMPCyAAIAEgAUHCAGogAxBEDwsgACABIAFBwgBqEEIPCxAkAAsgACABIAFBwgBqIAMQRQsvACAAIAJFQQF0IgIgASADEGAgACACIAEQS5IgACACIAEgAxB/IAAgAiABEFKSkgvOAQIDfwJ9IwBBEGsiAyQAQQEhBCADQQhqIABB/ABqIgUgACABQQF0akH2AGoiAS8BABAfAkACQCADKgIIIgcgAioCACIGXARAIAcgB1sEQCACLQAEIQIMAgsgBiAGXCEECyACLQAEIQIgBEUNACADLQAMIAJB/wFxRg0BCyAFIAEgBiACEDkDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCyADQRBqJAALzgECA38CfSMAQRBrIgMk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AWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwscACAAIAFBCCACpyACQiCIpyADpyADQiCIpxAVCwUAEFgACzkAIABFBEBBAA8LAn8gAUGAf3FBgL8DRiABQf8ATXJFBEBB/DtBGTYCAEF/DAELIAAgAToAAEEBCwvEAgACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABQQlrDhIACgsMCgsCAwQFDAsMDAoLBwgJCyACIAIoAgAiAUEEajYCACAAIAEoAgA2AgAPCwALIAIgAigCACIBQQRqNgIAIAAgATIBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATMBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATAAADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATEAADcDAA8LAAsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACIAMRAQALDwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMAC84BAgN/An0jAEEQayIDJABBASEEIANBCGogAEH8AGoiBSAAIAFBAXRqQegAaiIBLwEAEB8CQAJAIAMqAggiByACKgIAIgZcBEAgByAHWwRAIAItAAQhAgwCCyAGIAZcIQQLIAItAAQhAiAERQ0AIAMtAAwgAkH/AXFGDQELIAUgASAGIAIQOQNAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLIANBEGokAAtdAQR/IAAoAgAhAgNAIAIsAAAiAxBXBEBBfyEEIAAgAkEBaiICNgIAIAFBzJmz5gBNBH9BfyADQTBrIgMgAUEKbCIEaiADIARB/////wdzShsFIAQLIQEMAQsLIAELrhQCEn8BfiMAQdAAayIIJAAgCCABNgJMIAhBN2ohFyAIQThqIRQCQAJAAkACQANAIAEhDSAHIA5B/////wdzSg0BIAcgDmohDgJAAkACQCANIgctAAAiCQRAA0ACQAJAIAlB/wFxIgFFBEAgByEBDAELIAFBJUcNASAH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IQEgAEIANwIEIAAgATYCACABIAA2AgQgAkEQaiQAIAALGwEBfyAABEAgACgCACIBBEAgARAjCyAAECMLC0kBAn9BBBAeIQFBIBAeIgBBADYCHCAAQoCAgICAgIDAPzcCFCAAQgA3AgwgAEEAOgAIIABBAzYCBCAAQQA2AgAgASAANgIAIAELIAAgAkEFR0EAIAIbRQRAQbgwIAMgBBBJDwsgAyAEEHALIgEBfiABIAKtIAOtQiCGhCAEIAARFQAiBUIgiKckASAFpwuoAQEFfyAAKAJUIgMoAgAhBSADKAIEIgQgACgCFCAAKAIcIgdrIgYgBCAGSRsiBgRAIAUgByAGECsaIAMgAygCACAGaiIFNgIAIAMgAygCBCAGayIENgIECyAEIAIgAiAESxsiBARAIAUgASAEECsaIAMgAygCACAEaiIFNgIAIAMgAygCBCAEazYCBAsgBUEAOgAAIAAgACgCLCIBNgIcIAAgATYCFCACCwQAQgALBABBAAuKBQIGfgJ/IAEgASgCAEEHakF4cSIBQRBqNgIAIAAhCSABKQMAIQMgASkDCCEGIwBBIGsiCCQAAkAgBkL///////////8AgyIEQoCAgICAgMCAPH0gBEKAgICAgIDA/8MAfVQEQCAGQgSGIANCPIiEIQQgA0L//////////w+DIgNCgYCAgICAgIAIWgRAIARCgYCAgICAgIDAAHwhAgwCCyAEQoCAgICAgICAQH0hAiADQoCAgICAgICACFINASACIARCAYN8IQIMAQsgA1AgBEKAgICAgIDA//8AVCAEQoCAgICAgMD//wBRG0UEQCAGQgSGIANCPIiEQv////////8Dg0KAgICAgICA/P8AhCECDAELQoCAgICAgID4/wAhAiAEQv///////7//wwBWDQBCACECIARCMIinIgBBkfcASQ0AIAMhAiAGQv///////z+DQoCAgICAgMAAhCIFIQcCQCAAQYH3AGsiAUHAAHEEQCACIAFBQGqthiEHQgAhAgwBCyABRQ0AIAcgAa0iBIYgAkHAACABa62IhCEHIAIgBIYhAgsgCCACNwMQIAggBzcDGAJAQYH4ACAAayIAQcAAcQRAIAUgAEFAaq2IIQNCACEFDAELIABFDQAgBUHAACAAa62GIAMgAK0iAoiEIQMgBSACiCEFCyAIIAM3AwAgCCAF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ASAAKAIAIQAgASACQQFxBH8gASgCACAAaigCAAUgAAsRCwALYQECfyMAQRBrIgIkACABIAAoAgQiA0EBdWohASAAKAIAIQAgAiABIANBAXEEfyABKAIAIABqKAIABSAACxEBAEEQEB4iACACKQMINwMIIAAgAikDADcDACACQRBqJAAgAAtjAQJ/IwBBEGsiAyQAIAEgACgCBCIEQQF1aiEBIAAoAgAhACADIAEgAiAEQQFxBH8gASgCACAAaigCAAUgAAsRAwBBEBAeIgAgAykDCDcDCCAAIAMpAwA3AwAgA0EQaiQAIAALNwEBfyABIAAoAgQiA0EBdWohASAAKAIAIQAgASACIANBAXEEfyABKAIAIABqKAIABSAACxEEAAs5AQF/IAEgACgCBCIEQQF1aiEBIAAoAgAhACABIAIgAyAEQQFxBH8gASgCACAAaigCAAUgAAsRCAALCQAgASAAEQIACwUAQcM7Cw8AIAEgACgCAGogAjYCAAsNACABIAAoAgBqKAIACxgBAX9BEBAeIgBCADcDCCAAQQA2AgAgAAsYAQF/QRAQHiIAQgA3AwAgAEIANwMIIAALDABBMBAeQQBBMBAqCzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRHgALBQBBvjsLIQAgACABKAIAIAEgASwAC0EASBtBuzsgAigCABAQNgIACyoBAX9BDBAeIgFBADoABCABIAAoAgA2AgggAEEANgIAIAFB2Cc2AgAgAQsFAEG7OwsFAEG4OwshACAAIAEoAgAgASABLAALQQBIG0GkOyACKAIAEBA2AgAL2AEBBH8jAEEgayIDJAAgASgCACIEQfD///8HSQRAAkACQCAEQQtPBEAgBEEPckEBaiIFEB4hBiADIAVBgICAgHhyNgIQIAMgBjYCCCADIAQ2AgwgBCAGaiEFDAELIAMgBDoAEyADQQhqIgYgBGohBSAERQ0BCyAGIAFBBGogBBArGgsgBUEAOgAAIAMgAjYCACADQRhqIANBCGogAyAAEQMAIAMoAhgQHSADKAIYIgAQBiADKAIAEAYgAywAE0EASARAIAMoAggQIwsgA0EgaiQAIAAPCxACAAsqAQF/QQwQHiIBQQA6AAQgASAAKAIANgIIIABBADYCACABQeAmNgIA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AkEIaiAIIAYQHyACIAcgAC8AABAfQQEhAyACKgIIIgogAioCACILXAR/IAogClsNAyALIAtcBSADC0UNAiACLQAMIAItAARHDQILIABBAmohAEEBIQMgBCEGQQEhBCAGRQ0ACyABLwB6IgBBB3FFBEAgBS0AekEHcUUNAgsgCCAAECAiCiAHIAUvAHoQICILWw0BIAogClsNACALIAtcDQELIAFBFGogBUEUakHoABArGiABQfwAaiAFQfwAahCgAQNAIAEtAAAiAEEEcQ0BIAEgAEEEcjoAACABKAIQIgAEQCABIAARAAALIAFBgICA/gc2ApwBIAEoAuQDIgENAAsLIAJBEGokAAvGAwEEfyMAQaAEayICJAAgACgCBCEBIABBADYCBCABBEAgASABKAIAKAIEEQAACyAAKAIIIQEgAEEANgIIIAEEQCABIAEoAgAoAgQRAAALAkAgACgCACIAKALoAyAAKALsA0YEQCAAKALkAw0BIAAgAkEYaiAAKAL0AxBcIgEpAgA3AgAgACABKAIQNgIQIAAgASkCCDcCCCAAQRRqIAFBFGpB6AAQKxogACABKQKMATcCjAEgACABKQKEATcChAEgACABKQJ8NwJ8IAEoApQBIQQgAUEANgKUASAAKAKUASEDIAAgBDYClAEgAwRAIAMQWwsgAEGYAWogAUGYAWpB0AIQKxogACgC6AMiAwRAIAAgAzYC7AMgAxAjCyAAIAEoAugDNgLoAyAAIAEoAuwDNgLsAyAAIAEoAvADNgLwAyABQQA2AvADIAFCADcC6AMgACABKQL8AzcC/AMgACABKQL0AzcC9AMgACABKAKEBDYChAQgASgClAEhACABQQA2ApQBIAAEQCAAEFsLIAJBoARqJAAPCyACQfAcNgIQIABBBUHYJSACQRBqECwQJAALIAJB5hE2AgAgAEEFQdglIAIQLBAkAAsLAEEMEB4gABCiAQsLAEEMEB5BABCiAQsNACAAKAIALQAIQQFxCwoAIAAoAgAoAhQLGQAgAUH/AXEEQBACAAsgACgCACgCEEEBcQsYACAAKAIAIgAgAC0ACEH+AXEgAXI6AAgLJgAgASAAKAIAIgAoAhRHBEAgACABNgIUIAAgACgCDEEBajYCDAsLkgEBAn8jAEEQayICJAAgACgCACEAIAFDAAAAAGAEQCABIAAqAhhcBEAgACABOAIYIAAgACgCDEEBajYCDAsgAkEQaiQADwsgAkGIFDYCACMAQRBrIgMkACADIAI2AgwCQCAARQRAQbgwQdglIAIQSRoMAQsgAEEAQQVB2CUgAiAAKAIEEQ0AGgsgA0EQaiQAECQACz8AIAFB/wFxRQRAIAIgACgCACIAKAIQIgFBAXFHBEAgACABQX5xIAJyNgIQIAAgACgCDEEBajYCDAsPCxACAAsL4CYjAEGACAuBHk9ubHkgbGVhZiBub2RlcyB3aXRoIGN1c3RvbSBtZWFzdXJlIGZ1bmN0aW9ucyBzaG91bGQgbWFudWFsbHkgbWFyayB0aGVtc2VsdmVzIGFzIGRpcnR5AGlzRGlydHkAbWFya0RpcnR5AGRlc3Ryb3kAc2V0RGlzcGxheQBnZXREaXNwbGF5AHNldEZsZXgALSsgICAwWDB4AC0wWCswWCAwWC0weCsweCAweABzZXRGbGV4R3JvdwBnZXRGbGV4R3JvdwBzZXRPdmVyZmxvdwBnZXRPdmVyZmxvdwBoYXNOZXdMYXlvdXQAY2FsY3VsYXRlTGF5b3V0AGdldENvbXB1dGVkTGF5b3V0AHVuc2lnbmVkIHNob3J0AGdldENoaWxkQ291bnQAdW5zaWduZWQgaW50AHNldEp1c3RpZnlDb250ZW50AGdldEp1c3RpZnlDb250ZW50AGF2YWlsYWJsZUhlaWdodCBpcyBpbmRlZmluaXRlIHNvIGhlaWdodFNpemluZ01vZGUgbXVzdCBiZSBTaXppbmdNb2RlOjpNYXhDb250ZW50AGF2YWlsYWJsZVdpZHRoIGlzIGluZGVmaW5pdGUgc28gd2lkdGhTaXppbmdNb2RlIG11c3QgYmUgU2l6aW5nTW9kZTo6TWF4Q29udGVudABzZXRBbGlnbkNvbnRlbnQAZ2V0QWxpZ25Db250ZW50AGdldFBhcmVudABpbXBsZW1lbnQAc2V0TWF4SGVpZ2h0UGVyY2VudABzZXRIZWlnaHRQZXJjZW50AHNldE1pbkhlaWdodFBlcmNlbnQAc2V0RmxleEJhc2lzUGVyY2VudABzZXRHYXBQZXJjZW50AHNldFBvc2l0aW9uUGVyY2VudABzZXRNYXJnaW5QZXJjZW50AHNldE1heFdpZHRoUGVyY2VudABzZXRXaWR0aFBlcmNlbnQAc2V0TWluV2lkdGhQZXJjZW50AHNldFBhZGRpbmdQZXJjZW50AGhhbmRsZS50eXBlKCkgPT0gU3R5bGVWYWx1ZUhhbmRsZTo6VHlwZTo6UG9pbnQgfHwgaGFuZGxlLnR5cGUoKSA9PSBTdHlsZVZhbHVlSGFuZGxlOjpUeXBlOjpQZXJjZW50AGNyZWF0ZURlZmF1bHQAdW5pdAByaWdodABoZWlnaHQAc2V0TWF4SGVpZ2h0AGdldE1heEhlaWdodABzZXRIZWlnaHQAZ2V0SGVpZ2h0AHNldE1pbkhlaWdodABnZXRNaW5IZWlnaHQAZ2V0Q29tcHV0ZWRIZWlnaHQAZ2V0Q29tcHV0ZWRSaWdodABsZWZ0AGdldENvbXB1dGVkTGVmdAByZXNldABfX2Rlc3RydWN0AGZsb2F0AHVpbnQ2NF90AHVzZVdlYkRlZmF1bHRzAHNldFVzZVdlYkRlZmF1bHRzAHNldEFsaWduSXRlbXMAZ2V0QWxpZ25JdGVtcwBzZXRGbGV4QmFzaXMAZ2V0RmxleEJhc2lzAENhbm5vdCBnZXQgbGF5b3V0IHByb3BlcnRpZXMgb2YgbXVsdGktZWRnZSBzaG9ydGhhbmRzAHNldFBvaW50U2NhbGVGYWN0b3IATWVhc3VyZUNhbGxiYWNrV3JhcHBlcgBEaXJ0aWVkQ2FsbGJhY2tXcmFwcGVyAENhbm5vdCByZXNldCBhIG5vZGUgc3RpbGwgYXR0YWNoZWQgdG8gYSBvd25lcgBzZXRCb3JkZXIAZ2V0Qm9yZGVyAGdldENvbXB1dGVkQm9yZGVyAGdldE51bWJlcgBoYW5kbGUudHlwZSgpID09IFN0eWxlVmFsdWVIYW5kbGU6OlR5cGU6Ok51bWJlcgB1bnNpZ25lZCBjaGFyAHRvcABnZXRDb21wdXRlZFRvcABzZXRGbGV4V3JhcABnZXRGbGV4V3JhcABzZXRHYXAAZ2V0R2FwACVwAHNldEhlaWdodEF1dG8Ac2V0RmxleEJhc2lzQXV0bwBzZXRQb3NpdGlvbkF1dG8Ac2V0TWFyZ2luQXV0bwBzZXRXaWR0aEF1dG8AU2NhbGUgZmFjdG9yIHNob3VsZCBub3QgYmUgbGVzcyB0aGFuIHplcm8Ac2V0QXNwZWN0UmF0aW8AZ2V0QXNwZWN0UmF0aW8Ac2V0UG9zaXRpb24AZ2V0UG9zaXRpb24Abm90aWZ5T25EZXN0cnVjdGlvbgBzZXRGbGV4RGlyZWN0aW9uAGdldEZsZXhEaXJlY3Rpb24Ac2V0RGlyZWN0aW9uAGdldERpcmVjdGlvbgBzZXRNYXJnaW4AZ2V0TWFyZ2luAGdldENvbXB1dGVkTWFyZ2luAG1hcmtMYXlvdXRTZWVuAG5hbgBib3R0b20AZ2V0Q29tcHV0ZWRCb3R0b20AYm9vbABlbXNjcmlwdGVuOjp2YWwAc2V0RmxleFNocmluawBnZXRGbGV4U2hyaW5rAHNldEFsd2F5c0Zvcm1zQ29udGFpbmluZ0Jsb2NrAE1lYXN1cmVDYWxsYmFjawBEaXJ0aWVkQ2FsbGJhY2sAZ2V0TGVuZ3RoAHdpZHRoAHNldE1heFdpZHRoAGdldE1heFdpZHRoAHNldFdpZHRoAGdldFdpZHRoAHNldE1pbldpZHRoAGdldE1pbldpZHRoAGdldENvbXB1dGVkV2lkdGgAcHVzaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1NtYWxsVmFsdWVCdWZmZXIuaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1N0eWxlVmFsdWVQb29sLmgAdW5zaWduZWQgbG9uZwBzZXRCb3hTaXppbmcAZ2V0Qm94U2l6aW5nAHN0ZDo6d3N0cmluZwBzdGQ6OnN0cmluZwBzdGQ6OnUxNnN0cmluZwBzdGQ6OnUzMnN0cmluZwBzZXRQYWRkaW5nAGdldFBhZGRpbmcAZ2V0Q29tcHV0ZWRQYWRkaW5nAFRyaWVkIHRvIGNvbnN0cnVjdCBZR05vZGUgd2l0aCBudWxsIGNvbmZpZwBBdHRlbXB0aW5nIHRvIGNvbnN0cnVjdCBOb2RlIHdpdGggbnVsbCBjb25maWcAY3JlYXRlV2l0aENvbmZpZwBpbmYAc2V0QWxpZ25TZWxmAGdldEFsaWduU2VsZgBTaXplAHZhbHVlAFZhbHVlAGNyZWF0ZQBtZWFzdXJlAHNldFBvc2l0aW9uVHlwZQBnZXRQb3NpdGlvblR5cGUAaXNSZWZlcmVuY2VCYXNlbGluZQBzZXRJc1JlZmVyZW5jZUJhc2VsaW5lAGNvcHlTdHlsZQBkb3VibGUATm9kZQBleHRlbmQAaW5zZXJ0Q2hpbGQAZ2V0Q2hpbGQAcmVtb3ZlQ2hpbGQAdm9pZABzZXRFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZABpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkAGRpcnRpZWQAQ2Fubm90IHJlc2V0IGEgbm9kZSB3aGljaCBzdGlsbCBoYXMgY2hpbGRyZW4gYXR0YWNoZWQAdW5zZXRNZWFzdXJlRnVuYwB1bnNldERpcnRpZWRGdW5jAHNldEVycmF0YQBnZXRFcnJhdGEATWVhc3VyZSBmdW5jdGlvbiByZXR1cm5lZCBhbiBpbnZhbGlkIGRpbWVuc2lvbiB0byBZb2dhOiBbd2lkdGg9JWYsIGhlaWdodD0lZl0ARXhwZWN0IGN1c3RvbSBiYXNlbGluZSBmdW5jdGlvbiB0byBub3QgcmV0dXJuIE5hTgBOQU4ASU5GAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8Y2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgY2hhcj4Ac3RkOjpiYXNpY19zdHJpbmc8dW5zaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2lnbmVkIGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGxvbmc+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGxvbmc+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGRvdWJsZT4AQ2hpbGQgYWxyZWFkeSBoYXMgYSBvd25lciwgaXQgbXVzdCBiZSByZW1vdmVkIGZpcnN0LgBDYW5ub3Qgc2V0IG1lYXN1cmUgZnVuY3Rpb246IE5vZGVzIHdpdGggbWVhc3VyZSBmdW5jdGlvbnMgY2Fubm90IGhhdmUgY2hpbGRyZW4uAENhbm5vdCBhZGQgY2hpbGQ6IE5vZGVzIHdpdGggbWVhc3VyZSBmdW5jdGlvbnMgY2Fubm90IGhhdmUgY2hpbGRyZW4uAChudWxsKQBpbmRleCA8IDQwOTYgJiYgIlNtYWxsVmFsdWVCdWZmZXIgY2FuIG9ubHkgaG9sZCB1cCB0byA0MDk2IGNodW5rcyIAJXMKAAEAAAADAAAAAAAAAAIAAAADAAAAAQAAAAIAAAAAAAAAAQAAAAEAQYwmCwdpaQB2AHZpAEGgJgs3ox0AAKEdAADhHQAA2x0AAOEdAADbHQAAaWlpZmlmaQDUHQAApB0AAHZpaQClHQAA6B0AAGlpaQBB4CYLCcQAAADFAAAAxgBB9CYLDsQAAADHAAAAyAAAANQdAEGQJws+ox0AAOEdAADbHQAA4R0AANsdAADoHQAA4x0AAOgdAABpaWlpAAAAANQdAAC5HQAA1B0AALsdAAC8HQAA6B0AQdgnCwnJAAAAygAAAMsAQewnCxbJAAAAzAAAAMgAAAC/HQAA1B0AAL8dAEGQKAuiA9QdAAC/HQAA2x0AANUdAAB2aWlpaQAAANQdAAC/HQAA4R0AAHZpaWYAAAAA1B0AAL8dAADbHQAAdmlpaQAAAADUHQAAvx0AANUdAADVHQAAwB0AANsdAADbHQAAwB0AANUdAADAHQAAaQBkaWkAdmlpZAAAxB0AAMQdAAC/HQAA1B0AAMQdAADUHQAAxB0AAMMdAADUHQAAxB0AANsdAADUHQAAxB0AANsdAADiHQAAdmlpaWQAAADUHQAAxB0AAOIdAADbHQAAxR0AAMIdAADFHQAA2x0AAMIdAADFHQAA4h0AAMUdAADiHQAAxR0AANsdAABkaWlpAAAAAOEdAADEHQAA2x0AAGZpaWkAAAAA1B0AAMQdAADEHQAA3B0AANQdAADEHQAAxB0AANwdAADFHQAAxB0AAMQdAADEHQAAxB0AANwdAADUHQAAxB0AANUdAADVHQAAxB0AANQdAADEHQAAoR0AANQdAADEHQAAuR0AANUdAADFHQAAAAAAANQdAADEHQAA4h0AAOIdAADbHQAAdmlpZGRpAADBHQAAxR0AQcArC0EZAAoAGRkZAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABkAEQoZGRkDCgcAAQAJCxgAAAkGCwAACwAGGQAAABkZGQBBkSwLIQ4AAAAAAAAAABkACg0ZGRkADQAAAgAJDgAAAAkADgAADgBByywLAQwAQdcsCxUTAAAAABMAAAAACQwAAAAAAAwAAAwAQYUtCwEQAEGRLQsVDwAAAAQPAAAAAAkQAAAAAAAQAAAQAEG/LQsBEgBByy0LHhEAAAAAEQAAAAAJEgAAAAAAEgAAEgAAGgAAABoaGgBBgi4LDhoAAAAaGhoAAAAAAAAJAEGzLgsBFABBvy4LFRcAAAAAFwAAAAAJFAAAAAAAFAAAFABB7S4LARYAQfkuCycVAAAAABUAAAAACRYAAAAAABYAABYAADAxMjM0NTY3ODlBQkNERUYAQcQvCwHSAEHsLwsI//////////8AQbAwCwkQIgEAAAAAAAUAQcQwCwHNAEHcMAsKzgAAAM8AAAD8HQBB9DALAQIAQYQxCwj//////////wBByDELAQUAQdQxCwHQAEHsMQsOzgAAANEAAAAIHgAAAAQAQYQyCwEBAEGUMgsF/////woAQdgyCwHT'),
        !me(Ae))
      ) {
        var X = Ae;
        Ae = r.locateFile ? r.locateFile(X, s) : s + X;
      }
      function re() {
        var Re = Ae;
        try {
          if (Re == Ae && u) return new Uint8Array(u);
          if (me(Re))
            try {
              var Me = So(Re.slice(37)),
                Ze = new Uint8Array(Me.length);
              for (Re = 0; Re < Me.length; ++Re) Ze[Re] = Me.charCodeAt(Re);
              var lt = Ze;
            } catch {
              throw Error('Converting base64 string to bytes failed.');
            }
          else lt = void 0;
          var Et = lt;
          if (Et) return Et;
          throw 'both async and sync fetching of the wasm failed';
        } catch (Bt) {
          ee(Bt);
        }
      }
      function de() {
        return u || typeof fetch != 'function'
          ? Promise.resolve().then(function () {
              return re();
            })
          : fetch(Ae, { credentials: 'same-origin' })
              .then(function (Re) {
                if (!Re.ok) throw "failed to load wasm binary file at '" + Ae + "'";
                return Re.arrayBuffer();
              })
              .catch(function () {
                return re();
              });
      }
      function ye(Re) {
        for (; 0 < Re.length; ) Re.shift()(r);
      }
      function he(Re) {
        if (Re === void 0) return '_unknown';
        Re = Re.replace(/[^a-zA-Z0-9_]/g, '$');
        var Me = Re.charCodeAt(0);
        return 48 <= Me && 57 >= Me ? '_' + Re : Re;
      }
      function be(Re, Me) {
        return (
          (Re = he(Re)),
          function () {
            return Me.apply(this, arguments);
          }
        );
      }
      var De = [{}, { value: void 0 }, { value: null }, { value: !0 }, { value: !1 }],
        ce = [];
      function Ce(Re) {
        var Me = Error,
          Ze = be(Re, function (lt) {
            ((this.name = Re),
              (this.message = lt),
              (lt = Error(lt).stack),
              lt !== void 0 &&
                (this.stack =
                  this.toString() +
                  `
` +
                  lt.replace(/^Error(:[^\n]*)?\n/, '')));
          });
        return (
          (Ze.prototype = Object.create(Me.prototype)),
          (Ze.prototype.constructor = Ze),
          (Ze.prototype.toString = function () {
            return this.message === void 0 ? this.name : this.name + ': ' + this.message;
          }),
          Ze
        );
      }
      var J = void 0;
      function te(Re) {
        throw new J(Re);
      }
      var ie = (Re) => (Re || te('Cannot use deleted val. handle = ' + Re), De[Re].value),
        pe = (Re) => {
          switch (Re) {
            case void 0:
              return 1;
            case null:
              return 2;
            case !0:
              return 3;
            case !1:
              return 4;
            default:
              var Me = ce.length ? ce.pop() : De.length;
              return ((De[Me] = { ga: 1, value: Re }), Me);
          }
        },
        ue = void 0,
        ve = void 0;
      function ae(Re) {
        for (var Me = ''; g[Re]; ) Me += ve[g[Re++]];
        return Me;
      }
      var k = [];
      function $() {
        for (; k.length; ) {
          var Re = k.pop();
          ((Re.M.$ = !1), Re.delete());
        }
      }
      var fe = void 0,
        Z = {};
      function Q(Re, Me) {
        for (Me === void 0 && te('ptr should not be undefined'); Re.R; )
          ((Me = Re.ba(Me)), (Re = Re.R));
        return Me;
      }
      var ge = {};
      function xe(Re) {
        Re = qi(Re);
        var Me = ae(Re);
        return (Bs(Re), Me);
      }
      function He(Re, Me) {
        var Ze = ge[Re];
        return (Ze === void 0 && te(Me + ' has unknown type ' + xe(Re)), Ze);
      }
      function mt() {}
      var Tt = !1;
      function jt(Re) {
        (--Re.count.value, Re.count.value === 0 && (Re.T ? Re.U.W(Re.T) : Re.P.N.W(Re.O)));
      }
      function ht(Re, Me, Ze) {
        return Me === Ze
          ? Re
          : Ze.R === void 0
            ? null
            : ((Re = ht(Re, Me, Ze.R)), Re === null ? null : Ze.na(Re));
      }
      var vt = {};
      function kt(Re, Me) {
        return ((Me = Q(Re, Me)), Z[Me]);
      }
      var an = void 0;
      function Jn(Re) {
        throw new an(Re);
      }
      function fi(Re, Me) {
        return (
          (Me.P && Me.O) || Jn('makeClassHandle requires ptr and ptrType'),
          !!Me.U != !!Me.T && Jn('Both smartPtrType and smartPtr must be specified'),
          (Me.count = { value: 1 }),
          Ai(Object.create(Re, { M: { value: Me } }))
        );
      }
      function Ai(Re) {
        return typeof FinalizationRegistry > 'u'
          ? ((Ai = (Me) => Me), Re)
          : ((Tt = new FinalizationRegistry((Me) => {
              jt(Me.M);
            })),
            (Ai = (Me) => {
              var Ze = Me.M;
              return (Ze.T && Tt.register(Me, { M: Ze }, Me), Me);
            }),
            (mt = (Me) => {
              Tt.unregister(Me);
            }),
            Ai(Re));
      }
      var da = {};
      function Mi(Re) {
        for (; Re.length; ) {
          var Me = Re.pop();
          Re.pop()(Me);
        }
      }
      function Be(Re) {
        return this.fromWireType(b[Re >> 2]);
      }
      var rt = {},
        nt = {};
      function Rt(Re, Me, Ze) {
        function lt(Nt) {
          ((Nt = Ze(Nt)), Nt.length !== Re.length && Jn('Mismatched type converter count'));
          for (var Wt = 0; Wt < Re.length; ++Wt) br(Re[Wt], Nt[Wt]);
        }
        Re.forEach(function (Nt) {
          nt[Nt] = Me;
        });
        var Et = Array(Me.length),
          Bt = [],
          $t = 0;
        (Me.forEach((Nt, Wt) => {
          ge.hasOwnProperty(Nt)
            ? (Et[Wt] = ge[Nt])
            : (Bt.push(Nt),
              rt.hasOwnProperty(Nt) || (rt[Nt] = []),
              rt[Nt].push(() => {
                ((Et[Wt] = ge[Nt]), ++$t, $t === Bt.length && lt(Et));
              }));
        }),
          Bt.length === 0 && lt(Et));
      }
      function pr(Re) {
        switch (Re) {
          case 1:
            return 0;
          case 2:
            return 1;
          case 4:
            return 2;
          case 8:
            return 3;
          default:
            throw new TypeError('Unknown type size: ' + Re);
        }
      }
      function br(Re, Me, Ze = {}) {
        if (!('argPackAdvance' in Me))
          throw new TypeError('registerType registeredInstance requires argPackAdvance');
        var lt = Me.name;
        if (
          (Re || te('type "' + lt + '" must have a positive integer typeid pointer'),
          ge.hasOwnProperty(Re))
        ) {
          if (Ze.ua) return;
          te("Cannot register type '" + lt + "' twice");
        }
        ((ge[Re] = Me),
          delete nt[Re],
          rt.hasOwnProperty(Re) && ((Me = rt[Re]), delete rt[Re], Me.forEach((Et) => Et())));
      }
      function fr(Re) {
        te(Re.M.P.N.name + ' instance already deleted');
      }
      function Lr() {}
      function Or(Re, Me, Ze) {
        if (Re[Me].S === void 0) {
          var lt = Re[Me];
          ((Re[Me] = function () {
            return (
              Re[Me].S.hasOwnProperty(arguments.length) ||
                te(
                  "Function '" +
                    Ze +
                    "' called with an invalid number of arguments (" +
                    arguments.length +
                    ') - expects one of (' +
                    Re[Me].S +
                    ')!'
                ),
              Re[Me].S[arguments.length].apply(this, arguments)
            );
          }),
            (Re[Me].S = []),
            (Re[Me].S[lt.Z] = lt));
        }
      }
      function Zs(Re, Me) {
        r.hasOwnProperty(Re)
          ? (te("Cannot register public name '" + Re + "' twice"),
            Or(r, Re, Re),
            r.hasOwnProperty(void 0) &&
              te(
                'Cannot register multiple overloads of a function with the same number of arguments (undefined)!'
              ),
            (r[Re].S[void 0] = Me))
          : (r[Re] = Me);
      }
      function hl(Re, Me, Ze, lt, Et, Bt, $t, Nt) {
        ((this.name = Re),
          (this.constructor = Me),
          (this.X = Ze),
          (this.W = lt),
          (this.R = Et),
          (this.pa = Bt),
          (this.ba = $t),
          (this.na = Nt),
          (this.ja = []));
      }
      function tc(Re, Me, Ze) {
        for (; Me !== Ze; )
          (Me.ba ||
            te('Expected null or instance of ' + Ze.name + ', got an instance of ' + Me.name),
            (Re = Me.ba(Re)),
            (Me = Me.R));
        return Re;
      }
      function kc(Re, Me) {
        return Me === null
          ? (this.ea && te('null is not a valid ' + this.name), 0)
          : (Me.M || te('Cannot pass "' + Fr(Me) + '" as a ' + this.name),
            Me.M.O || te('Cannot pass deleted object as a pointer of type ' + this.name),
            tc(Me.M.O, Me.M.P.N, this.N));
      }
      function Uc(Re, Me) {
        if (Me === null) {
          if ((this.ea && te('null is not a valid ' + this.name), this.da)) {
            var Ze = this.fa();
            return (Re !== null && Re.push(this.W, Ze), Ze);
          }
          return 0;
        }
        if (
          (Me.M || te('Cannot pass "' + Fr(Me) + '" as a ' + this.name),
          Me.M.O || te('Cannot pass deleted object as a pointer of type ' + this.name),
          !this.ca &&
            Me.M.P.ca &&
            te(
              'Cannot convert argument of type ' +
                (Me.M.U ? Me.M.U.name : Me.M.P.name) +
                ' to parameter type ' +
                this.name
            ),
          (Ze = tc(Me.M.O, Me.M.P.N, this.N)),
          this.da)
        )
          switch (
            (Me.M.T === void 0 && te('Passing raw pointer to smart pointer is illegal'), this.Ba)
          ) {
            case 0:
              Me.M.U === this
                ? (Ze = Me.M.T)
                : te(
                    'Cannot convert argument of type ' +
                      (Me.M.U ? Me.M.U.name : Me.M.P.name) +
                      ' to parameter type ' +
                      this.name
                  );
              break;
            case 1:
              Ze = Me.M.T;
              break;
            case 2:
              if (Me.M.U === this) Ze = Me.M.T;
              else {
                var lt = Me.clone();
                ((Ze = this.xa(
                  Ze,
                  pe(function () {
                    lt.delete();
                  })
                )),
                  Re !== null && Re.push(this.W, Ze));
              }
              break;
            default:
              te('Unsupporting sharing policy');
          }
        return Ze;
      }
      function cu(Re, Me) {
        return Me === null
          ? (this.ea && te('null is not a valid ' + this.name), 0)
          : (Me.M || te('Cannot pass "' + Fr(Me) + '" as a ' + this.name),
            Me.M.O || te('Cannot pass deleted object as a pointer of type ' + this.name),
            Me.M.P.ca &&
              te(
                'Cannot convert argument of type ' + Me.M.P.name + ' to parameter type ' + this.name
              ),
            tc(Me.M.O, Me.M.P.N, this.N));
      }
      function eo(Re, Me, Ze, lt) {
        ((this.name = Re),
          (this.N = Me),
          (this.ea = Ze),
          (this.ca = lt),
          (this.da = !1),
          (this.W = this.xa = this.fa = this.ka = this.Ba = this.wa = void 0),
          Me.R !== void 0
            ? (this.toWireType = Uc)
            : ((this.toWireType = lt ? kc : cu), (this.V = null)));
      }
      function zp(Re, Me) {
        (r.hasOwnProperty(Re) || Jn('Replacing nonexistant public symbol'),
          (r[Re] = Me),
          (r[Re].Z = void 0));
      }
      function Jp(Re, Me) {
        var Ze = [];
        return function () {
          if (((Ze.length = 0), Object.assign(Ze, arguments), Re.includes('j'))) {
            var lt = r['dynCall_' + Re];
            lt = Ze && Ze.length ? lt.apply(null, [Me].concat(Ze)) : lt.call(null, Me);
          } else lt = U.get(Me).apply(null, Ze);
          return lt;
        };
      }
      function Je(Re, Me) {
        Re = ae(Re);
        var Ze = Re.includes('j') ? Jp(Re, Me) : U.get(Me);
        return (
          typeof Ze != 'function' &&
            te('unknown function pointer with signature ' + Re + ': ' + Me),
          Ze
        );
      }
      var $e = void 0;
      function ot(Re, Me) {
        function Ze(Bt) {
          Et[Bt] || ge[Bt] || (nt[Bt] ? nt[Bt].forEach(Ze) : (lt.push(Bt), (Et[Bt] = !0)));
        }
        var lt = [],
          Et = {};
        throw (Me.forEach(Ze), new $e(Re + ': ' + lt.map(xe).join([', '])));
      }
      function Ct(Re, Me, Ze, lt, Et) {
        var Bt = Me.length;
        2 > Bt &&
          te("argTypes array size mismatch! Must at least get return value and 'this' types!");
        var $t = Me[1] !== null && Ze !== null,
          Nt = !1;
        for (Ze = 1; Ze < Me.length; ++Ze)
          if (Me[Ze] !== null && Me[Ze].V === void 0) {
            Nt = !0;
            break;
          }
        var Wt = Me[0].name !== 'void',
          Jt = Bt - 2,
          nr = Array(Jt),
          Wr = [],
          gi = [];
        return function () {
          if (
            (arguments.length !== Jt &&
              te(
                'function ' +
                  Re +
                  ' called with ' +
                  arguments.length +
                  ' arguments, expected ' +
                  Jt +
                  ' args!'
              ),
            (gi.length = 0),
            (Wr.length = $t ? 2 : 1),
            (Wr[0] = Et),
            $t)
          ) {
            var Ea = Me[1].toWireType(gi, this);
            Wr[1] = Ea;
          }
          for (var Wn = 0; Wn < Jt; ++Wn)
            ((nr[Wn] = Me[Wn + 2].toWireType(gi, arguments[Wn])), Wr.push(nr[Wn]));
          if (((Wn = lt.apply(null, Wr)), Nt)) Mi(gi);
          else
            for (var uo = $t ? 1 : 2; uo < Me.length; uo++) {
              var Ul = uo === 1 ? Ea : nr[uo - 2];
              Me[uo].V !== null && Me[uo].V(Ul);
            }
          return ((Ea = Wt ? Me[0].fromWireType(Wn) : void 0), Ea);
        };
      }
      function st(Re, Me) {
        for (var Ze = [], lt = 0; lt < Re; lt++) Ze.push(I[(Me + 4 * lt) >> 2]);
        return Ze;
      }
      function dr(Re) {
        4 < Re && --De[Re].ga === 0 && ((De[Re] = void 0), ce.push(Re));
      }
      function Fr(Re) {
        if (Re === null) return 'null';
        var Me = typeof Re;
        return Me === 'object' || Me === 'array' || Me === 'function' ? Re.toString() : '' + Re;
      }
      function Gn(Re, Me) {
        switch (Me) {
          case 2:
            return function (Ze) {
              return this.fromWireType(R[Ze >> 2]);
            };
          case 3:
            return function (Ze) {
              return this.fromWireType(F[Ze >> 3]);
            };
          default:
            throw new TypeError('Unknown float type: ' + Re);
        }
      }
      function si(Re, Me, Ze) {
        switch (Me) {
          case 0:
            return Ze
              ? function (lt) {
                  return v[lt];
                }
              : function (lt) {
                  return g[lt];
                };
          case 1:
            return Ze
              ? function (lt) {
                  return _[lt >> 1];
                }
              : function (lt) {
                  return S[lt >> 1];
                };
          case 2:
            return Ze
              ? function (lt) {
                  return b[lt >> 2];
                }
              : function (lt) {
                  return I[lt >> 2];
                };
          default:
            throw new TypeError('Unknown integer type: ' + Re);
        }
      }
      function Is(Re, Me) {
        for (var Ze = '', lt = 0; !(lt >= Me / 2); ++lt) {
          var Et = _[(Re + 2 * lt) >> 1];
          if (Et == 0) break;
          Ze += String.fromCharCode(Et);
        }
        return Ze;
      }
      function Kn(Re, Me, Ze) {
        if ((Ze === void 0 && (Ze = 2147483647), 2 > Ze)) return 0;
        Ze -= 2;
        var lt = Me;
        Ze = Ze < 2 * Re.length ? Ze / 2 : Re.length;
        for (var Et = 0; Et < Ze; ++Et) ((_[Me >> 1] = Re.charCodeAt(Et)), (Me += 2));
        return ((_[Me >> 1] = 0), Me - lt);
      }
      function Ti(Re) {
        return 2 * Re.length;
      }
      function hs(Re, Me) {
        for (var Ze = 0, lt = ''; !(Ze >= Me / 4); ) {
          var Et = b[(Re + 4 * Ze) >> 2];
          if (Et == 0) break;
          (++Ze,
            65536 <= Et
              ? ((Et -= 65536),
                (lt += String.fromCharCode(55296 | (Et >> 10), 56320 | (Et & 1023))))
              : (lt += String.fromCharCode(Et)));
        }
        return lt;
      }
      function Yr(Re, Me, Ze) {
        if ((Ze === void 0 && (Ze = 2147483647), 4 > Ze)) return 0;
        var lt = Me;
        Ze = lt + Ze - 4;
        for (var Et = 0; Et < Re.length; ++Et) {
          var Bt = Re.charCodeAt(Et);
          if (55296 <= Bt && 57343 >= Bt) {
            var $t = Re.charCodeAt(++Et);
            Bt = (65536 + ((Bt & 1023) << 10)) | ($t & 1023);
          }
          if (((b[Me >> 2] = Bt), (Me += 4), Me + 4 > Ze)) break;
        }
        return ((b[Me >> 2] = 0), Me - lt);
      }
      function xi(Re) {
        for (var Me = 0, Ze = 0; Ze < Re.length; ++Ze) {
          var lt = Re.charCodeAt(Ze);
          (55296 <= lt && 57343 >= lt && ++Ze, (Me += 4));
        }
        return Me;
      }
      var pa = {};
      function ra(Re) {
        var Me = pa[Re];
        return Me === void 0 ? ae(Re) : Me;
      }
      var Al = [];
      function Vs(Re) {
        var Me = Al.length;
        return (Al.push(Re), Me);
      }
      function Ts(Re, Me) {
        for (var Ze = Array(Re), lt = 0; lt < Re; ++lt)
          Ze[lt] = He(I[(Me + 4 * lt) >> 2], 'parameter ' + lt);
        return Ze;
      }
      var Xn = [],
        Ho = [null, [], []];
      ((J = r.BindingError = Ce('BindingError')),
        (r.count_emval_handles = function () {
          for (var Re = 0, Me = 5; Me < De.length; ++Me) De[Me] !== void 0 && ++Re;
          return Re;
        }),
        (r.get_first_emval = function () {
          for (var Re = 5; Re < De.length; ++Re) if (De[Re] !== void 0) return De[Re];
          return null;
        }),
        (ue = r.PureVirtualError = Ce('PureVirtualError')));
      for (var ga = Array(256), Sn = 0; 256 > Sn; ++Sn) ga[Sn] = String.fromCharCode(Sn);
      ((ve = ga),
        (r.getInheritedInstanceCount = function () {
          return Object.keys(Z).length;
        }),
        (r.getLiveInheritedInstances = function () {
          var Re = [],
            Me;
          for (Me in Z) Z.hasOwnProperty(Me) && Re.push(Z[Me]);
          return Re;
        }),
        (r.flushPendingDeletes = $),
        (r.setDelayFunction = function (Re) {
          ((fe = Re), k.length && fe && fe($));
        }),
        (an = r.InternalError = Ce('InternalError')),
        (Lr.prototype.isAliasOf = function (Re) {
          if (!(this instanceof Lr && Re instanceof Lr)) return !1;
          var Me = this.M.P.N,
            Ze = this.M.O,
            lt = Re.M.P.N;
          for (Re = Re.M.O; Me.R; ) ((Ze = Me.ba(Ze)), (Me = Me.R));
          for (; lt.R; ) ((Re = lt.ba(Re)), (lt = lt.R));
          return Me === lt && Ze === Re;
        }),
        (Lr.prototype.clone = function () {
          if ((this.M.O || fr(this), this.M.aa)) return ((this.M.count.value += 1), this);
          var Re = Ai,
            Me = Object,
            Ze = Me.create,
            lt = Object.getPrototypeOf(this),
            Et = this.M;
          return (
            (Re = Re(
              Ze.call(Me, lt, {
                M: {
                  value: {
                    count: Et.count,
                    $: Et.$,
                    aa: Et.aa,
                    O: Et.O,
                    P: Et.P,
                    T: Et.T,
                    U: Et.U,
                  },
                },
              })
            )),
            (Re.M.count.value += 1),
            (Re.M.$ = !1),
            Re
          );
        }),
        (Lr.prototype.delete = function () {
          (this.M.O || fr(this),
            this.M.$ && !this.M.aa && te('Object already scheduled for deletion'),
            mt(this),
            jt(this.M),
            this.M.aa || ((this.M.T = void 0), (this.M.O = void 0)));
        }),
        (Lr.prototype.isDeleted = function () {
          return !this.M.O;
        }),
        (Lr.prototype.deleteLater = function () {
          return (
            this.M.O || fr(this),
            this.M.$ && !this.M.aa && te('Object already scheduled for deletion'),
            k.push(this),
            k.length === 1 && fe && fe($),
            (this.M.$ = !0),
            this
          );
        }),
        (eo.prototype.qa = function (Re) {
          return (this.ka && (Re = this.ka(Re)), Re);
        }),
        (eo.prototype.ha = function (Re) {
          this.W && this.W(Re);
        }),
        (eo.prototype.argPackAdvance = 8),
        (eo.prototype.readValueFromPointer = Be),
        (eo.prototype.deleteObject = function (Re) {
          Re !== null && Re.delete();
        }),
        (eo.prototype.fromWireType = function (Re) {
          function Me() {
            return this.da
              ? fi(this.N.X, { P: this.wa, O: Ze, U: this, T: Re })
              : fi(this.N.X, { P: this, O: Re });
          }
          var Ze = this.qa(Re);
          if (!Ze) return (this.ha(Re), null);
          var lt = kt(this.N, Ze);
          if (lt !== void 0)
            return lt.M.count.value === 0
              ? ((lt.M.O = Ze), (lt.M.T = Re), lt.clone())
              : ((lt = lt.clone()), this.ha(Re), lt);
          if (((lt = this.N.pa(Ze)), (lt = vt[lt]), !lt)) return Me.call(this);
          lt = this.ca ? lt.la : lt.pointerType;
          var Et = ht(Ze, this.N, lt.N);
          return Et === null
            ? Me.call(this)
            : this.da
              ? fi(lt.N.X, { P: lt, O: Et, U: this, T: Re })
              : fi(lt.N.X, { P: lt, O: Et });
        }),
        ($e = r.UnboundTypeError = Ce('UnboundTypeError')));
      var So =
          typeof atob == 'function'
            ? atob
            : function (Re) {
                var Me = '',
                  Ze = 0;
                Re = Re.replace(/[^A-Za-z0-9\+\/=]/g, '');
                do {
                  var lt =
                      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.indexOf(
                        Re.charAt(Ze++)
                      ),
                    Et =
                      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.indexOf(
                        Re.charAt(Ze++)
                      ),
                    Bt =
                      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.indexOf(
                        Re.charAt(Ze++)
                      ),
                    $t =
                      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.indexOf(
                        Re.charAt(Ze++)
                      );
                  ((lt = (lt << 2) | (Et >> 4)), (Et = ((Et & 15) << 4) | (Bt >> 2)));
                  var Nt = ((Bt & 3) << 6) | $t;
                  ((Me += String.fromCharCode(lt)),
                    Bt !== 64 && (Me += String.fromCharCode(Et)),
                    $t !== 64 && (Me += String.fromCharCode(Nt)));
                } while (Ze < Re.length);
                return Me;
              },
        xs = {
          l: function (Re, Me, Ze, lt) {
            ee(
              'Assertion failed: ' +
                (Re ? m(g, Re) : '') +
                ', at: ' +
                [
                  Me ? (Me ? m(g, Me) : '') : 'unknown filename',
                  Ze,
                  lt ? (lt ? m(g, lt) : '') : 'unknown function',
                ]
            );
          },
          q: function (Re, Me, Ze) {
            ((Re = ae(Re)), (Me = He(Me, 'wrapper')), (Ze = ie(Ze)));
            var lt = [].slice,
              Et = Me.N,
              Bt = Et.X,
              $t = Et.R.X,
              Nt = Et.R.constructor;
            ((Re = be(Re, function () {
              (Et.R.ja.forEach(
                function (Jt) {
                  if (this[Jt] === $t[Jt])
                    throw new ue(
                      'Pure virtual function ' + Jt + ' must be implemented in JavaScript'
                    );
                }.bind(this)
              ),
                Object.defineProperty(this, '__parent', { value: Bt }),
                this.__construct.apply(this, lt.call(arguments)));
            })),
              (Bt.__construct = function () {
                this === Bt && te("Pass correct 'this' to __construct");
                var Jt = Nt.implement.apply(void 0, [this].concat(lt.call(arguments)));
                mt(Jt);
                var nr = Jt.M;
                (Jt.notifyOnDestruction(),
                  (nr.aa = !0),
                  Object.defineProperties(this, { M: { value: nr } }),
                  Ai(this),
                  (Jt = nr.O),
                  (Jt = Q(Et, Jt)),
                  Z.hasOwnProperty(Jt)
                    ? te('Tried to register registered instance: ' + Jt)
                    : (Z[Jt] = this));
              }),
              (Bt.__destruct = function () {
                (this === Bt && te("Pass correct 'this' to __destruct"), mt(this));
                var Jt = this.M.O;
                ((Jt = Q(Et, Jt)),
                  Z.hasOwnProperty(Jt)
                    ? delete Z[Jt]
                    : te('Tried to unregister unregistered instance: ' + Jt));
              }),
              (Re.prototype = Object.create(Bt)));
            for (var Wt in Ze) Re.prototype[Wt] = Ze[Wt];
            return pe(Re);
          },
          j: function (Re) {
            var Me = da[Re];
            delete da[Re];
            var Ze = Me.fa,
              lt = Me.W,
              Et = Me.ia,
              Bt = Et.map(($t) => $t.ta).concat(Et.map(($t) => $t.za));
            Rt([Re], Bt, ($t) => {
              var Nt = {};
              return (
                Et.forEach((Wt, Jt) => {
                  var nr = $t[Jt],
                    Wr = Wt.ra,
                    gi = Wt.sa,
                    Ea = $t[Jt + Et.length],
                    Wn = Wt.ya,
                    uo = Wt.Aa;
                  Nt[Wt.oa] = {
                    read: (Ul) => nr.fromWireType(Wr(gi, Ul)),
                    write: (Ul, bo) => {
                      var co = [];
                      (Wn(uo, Ul, Ea.toWireType(co, bo)), Mi(co));
                    },
                  };
                }),
                [
                  {
                    name: Me.name,
                    fromWireType: function (Wt) {
                      var Jt = {},
                        nr;
                      for (nr in Nt) Jt[nr] = Nt[nr].read(Wt);
                      return (lt(Wt), Jt);
                    },
                    toWireType: function (Wt, Jt) {
                      for (var nr in Nt)
                        if (!(nr in Jt)) throw new TypeError('Missing field:  "' + nr + '"');
                      var Wr = Ze();
                      for (nr in Nt) Nt[nr].write(Wr, Jt[nr]);
                      return (Wt !== null && Wt.push(lt, Wr), Wr);
                    },
                    argPackAdvance: 8,
                    readValueFromPointer: Be,
                    V: lt,
                  },
                ]
              );
            });
          },
          v: function () {},
          B: function (Re, Me, Ze, lt, Et) {
            var Bt = pr(Ze);
            ((Me = ae(Me)),
              br(Re, {
                name: Me,
                fromWireType: function ($t) {
                  return !!$t;
                },
                toWireType: function ($t, Nt) {
                  return Nt ? lt : Et;
                },
                argPackAdvance: 8,
                readValueFromPointer: function ($t) {
                  if (Ze === 1) var Nt = v;
                  else if (Ze === 2) Nt = _;
                  else if (Ze === 4) Nt = b;
                  else throw new TypeError('Unknown boolean type size: ' + Me);
                  return this.fromWireType(Nt[$t >> Bt]);
                },
                V: null,
              }));
          },
          f: function (Re, Me, Ze, lt, Et, Bt, $t, Nt, Wt, Jt, nr, Wr, gi) {
            ((nr = ae(nr)),
              (Bt = Je(Et, Bt)),
              Nt && (Nt = Je($t, Nt)),
              Jt && (Jt = Je(Wt, Jt)),
              (gi = Je(Wr, gi)));
            var Ea = he(nr);
            (Zs(Ea, function () {
              ot('Cannot construct ' + nr + ' due to unbound types', [lt]);
            }),
              Rt([Re, Me, Ze], lt ? [lt] : [], function (Wn) {
                if (((Wn = Wn[0]), lt))
                  var uo = Wn.N,
                    Ul = uo.X;
                else Ul = Lr.prototype;
                Wn = be(Ea, function () {
                  if (Object.getPrototypeOf(this) !== bo)
                    throw new J("Use 'new' to construct " + nr);
                  if (co.Y === void 0) throw new J(nr + ' has no accessible constructor');
                  var Kp = co.Y[arguments.length];
                  if (Kp === void 0)
                    throw new J(
                      'Tried to invoke ctor of ' +
                        nr +
                        ' with invalid number of parameters (' +
                        arguments.length +
                        ') - expected (' +
                        Object.keys(co.Y).toString() +
                        ') parameters instead!'
                    );
                  return Kp.apply(this, arguments);
                });
                var bo = Object.create(Ul, { constructor: { value: Wn } });
                Wn.prototype = bo;
                var co = new hl(nr, Wn, bo, gi, uo, Bt, Nt, Jt);
                ((uo = new eo(nr, co, !0, !1)), (Ul = new eo(nr + '*', co, !1, !1)));
                var U1 = new eo(nr + ' const*', co, !1, !0);
                return ((vt[Re] = { pointerType: Ul, la: U1 }), zp(Ea, Wn), [uo, Ul, U1]);
              }));
          },
          d: function (Re, Me, Ze, lt, Et, Bt, $t) {
            var Nt = st(Ze, lt);
            ((Me = ae(Me)),
              (Bt = Je(Et, Bt)),
              Rt([], [Re], function (Wt) {
                function Jt() {
                  ot('Cannot call ' + nr + ' due to unbound types', Nt);
                }
                Wt = Wt[0];
                var nr = Wt.name + '.' + Me;
                Me.startsWith('@@') && (Me = Symbol[Me.substring(2)]);
                var Wr = Wt.N.constructor;
                return (
                  Wr[Me] === void 0
                    ? ((Jt.Z = Ze - 1), (Wr[Me] = Jt))
                    : (Or(Wr, Me, nr), (Wr[Me].S[Ze - 1] = Jt)),
                  Rt([], Nt, function (gi) {
                    return (
                      (gi = Ct(nr, [gi[0], null].concat(gi.slice(1)), null, Bt, $t)),
                      Wr[Me].S === void 0
                        ? ((gi.Z = Ze - 1), (Wr[Me] = gi))
                        : (Wr[Me].S[Ze - 1] = gi),
                      []
                    );
                  }),
                  []
                );
              }));
          },
          p: function (Re, Me, Ze, lt, Et, Bt) {
            0 < Me || ee();
            var $t = st(Me, Ze);
            ((Et = Je(lt, Et)),
              Rt([], [Re], function (Nt) {
                Nt = Nt[0];
                var Wt = 'constructor ' + Nt.name;
                if ((Nt.N.Y === void 0 && (Nt.N.Y = []), Nt.N.Y[Me - 1] !== void 0))
                  throw new J(
                    'Cannot register multiple constructors with identical number of parameters (' +
                      (Me - 1) +
                      ") for class '" +
                      Nt.name +
                      "'! Overload resolution is currently only performed using the parameter count, not actual type info!"
                  );
                return (
                  (Nt.N.Y[Me - 1] = () => {
                    ot('Cannot construct ' + Nt.name + ' due to unbound types', $t);
                  }),
                  Rt([], $t, function (Jt) {
                    return (Jt.splice(1, 0, null), (Nt.N.Y[Me - 1] = Ct(Wt, Jt, null, Et, Bt)), []);
                  }),
                  []
                );
              }));
          },
          a: function (Re, Me, Ze, lt, Et, Bt, $t, Nt) {
            var Wt = st(Ze, lt);
            ((Me = ae(Me)),
              (Bt = Je(Et, Bt)),
              Rt([], [Re], function (Jt) {
                function nr() {
                  ot('Cannot call ' + Wr + ' due to unbound types', Wt);
                }
                Jt = Jt[0];
                var Wr = Jt.name + '.' + Me;
                (Me.startsWith('@@') && (Me = Symbol[Me.substring(2)]), Nt && Jt.N.ja.push(Me));
                var gi = Jt.N.X,
                  Ea = gi[Me];
                return (
                  Ea === void 0 || (Ea.S === void 0 && Ea.className !== Jt.name && Ea.Z === Ze - 2)
                    ? ((nr.Z = Ze - 2), (nr.className = Jt.name), (gi[Me] = nr))
                    : (Or(gi, Me, Wr), (gi[Me].S[Ze - 2] = nr)),
                  Rt([], Wt, function (Wn) {
                    return (
                      (Wn = Ct(Wr, Wn, Jt, Bt, $t)),
                      gi[Me].S === void 0
                        ? ((Wn.Z = Ze - 2), (gi[Me] = Wn))
                        : (gi[Me].S[Ze - 2] = Wn),
                      []
                    );
                  }),
                  []
                );
              }));
          },
          A: function (Re, Me) {
            ((Me = ae(Me)),
              br(Re, {
                name: Me,
                fromWireType: function (Ze) {
                  var lt = ie(Ze);
                  return (dr(Ze), lt);
                },
                toWireType: function (Ze, lt) {
                  return pe(lt);
                },
                argPackAdvance: 8,
                readValueFromPointer: Be,
                V: null,
              }));
          },
          n: function (Re, Me, Ze) {
            ((Ze = pr(Ze)),
              (Me = ae(Me)),
              br(Re, {
                name: Me,
                fromWireType: function (lt) {
                  return lt;
                },
                toWireType: function (lt, Et) {
                  return Et;
                },
                argPackAdvance: 8,
                readValueFromPointer: Gn(Me, Ze),
                V: null,
              }));
          },
          e: function (Re, Me, Ze, lt, Et) {
            ((Me = ae(Me)), Et === -1 && (Et = 4294967295), (Et = pr(Ze)));
            var Bt = (Nt) => Nt;
            if (lt === 0) {
              var $t = 32 - 8 * Ze;
              Bt = (Nt) => (Nt << $t) >>> $t;
            }
            ((Ze = Me.includes('unsigned')
              ? function (Nt, Wt) {
                  return Wt >>> 0;
                }
              : function (Nt, Wt) {
                  return Wt;
                }),
              br(Re, {
                name: Me,
                fromWireType: Bt,
                toWireType: Ze,
                argPackAdvance: 8,
                readValueFromPointer: si(Me, Et, lt !== 0),
                V: null,
              }));
          },
          b: function (Re, Me, Ze) {
            function lt(Bt) {
              Bt >>= 2;
              var $t = I;
              return new Et(E, $t[Bt + 1], $t[Bt]);
            }
            var Et = [
              Int8Array,
              Uint8Array,
              Int16Array,
              Uint16Array,
              Int32Array,
              Uint32Array,
              Float32Array,
              Float64Array,
            ][Me];
            ((Ze = ae(Ze)),
              br(
                Re,
                { name: Ze, fromWireType: lt, argPackAdvance: 8, readValueFromPointer: lt },
                { ua: !0 }
              ));
          },
          o: function (Re, Me) {
            Me = ae(Me);
            var Ze = Me === 'std::string';
            br(Re, {
              name: Me,
              fromWireType: function (lt) {
                var Et = I[lt >> 2],
                  Bt = lt + 4;
                if (Ze)
                  for (var $t = Bt, Nt = 0; Nt <= Et; ++Nt) {
                    var Wt = Bt + Nt;
                    if (Nt == Et || g[Wt] == 0) {
                      if ((($t = $t ? m(g, $t, Wt - $t) : ''), Jt === void 0)) var Jt = $t;
                      else ((Jt += '\0'), (Jt += $t));
                      $t = Wt + 1;
                    }
                  }
                else {
                  for (Jt = Array(Et), Nt = 0; Nt < Et; ++Nt)
                    Jt[Nt] = String.fromCharCode(g[Bt + Nt]);
                  Jt = Jt.join('');
                }
                return (Bs(lt), Jt);
              },
              toWireType: function (lt, Et) {
                Et instanceof ArrayBuffer && (Et = new Uint8Array(Et));
                var Bt,
                  $t = typeof Et == 'string';
                if (
                  ($t ||
                    Et instanceof Uint8Array ||
                    Et instanceof Uint8ClampedArray ||
                    Et instanceof Int8Array ||
                    te('Cannot pass non-string to std::string'),
                  Ze && $t)
                ) {
                  var Nt = 0;
                  for (Bt = 0; Bt < Et.length; ++Bt) {
                    var Wt = Et.charCodeAt(Bt);
                    127 >= Wt
                      ? Nt++
                      : 2047 >= Wt
                        ? (Nt += 2)
                        : 55296 <= Wt && 57343 >= Wt
                          ? ((Nt += 4), ++Bt)
                          : (Nt += 3);
                  }
                  Bt = Nt;
                } else Bt = Et.length;
                if (((Nt = rc(4 + Bt + 1)), (Wt = Nt + 4), (I[Nt >> 2] = Bt), Ze && $t)) {
                  if ((($t = Wt), (Wt = Bt + 1), (Bt = g), 0 < Wt)) {
                    Wt = $t + Wt - 1;
                    for (var Jt = 0; Jt < Et.length; ++Jt) {
                      var nr = Et.charCodeAt(Jt);
                      if (55296 <= nr && 57343 >= nr) {
                        var Wr = Et.charCodeAt(++Jt);
                        nr = (65536 + ((nr & 1023) << 10)) | (Wr & 1023);
                      }
                      if (127 >= nr) {
                        if ($t >= Wt) break;
                        Bt[$t++] = nr;
                      } else {
                        if (2047 >= nr) {
                          if ($t + 1 >= Wt) break;
                          Bt[$t++] = 192 | (nr >> 6);
                        } else {
                          if (65535 >= nr) {
                            if ($t + 2 >= Wt) break;
                            Bt[$t++] = 224 | (nr >> 12);
                          } else {
                            if ($t + 3 >= Wt) break;
                            ((Bt[$t++] = 240 | (nr >> 18)), (Bt[$t++] = 128 | ((nr >> 12) & 63)));
                          }
                          Bt[$t++] = 128 | ((nr >> 6) & 63);
                        }
                        Bt[$t++] = 128 | (nr & 63);
                      }
                    }
                    Bt[$t] = 0;
                  }
                } else if ($t)
                  for ($t = 0; $t < Bt; ++$t)
                    ((Jt = Et.charCodeAt($t)),
                      255 < Jt &&
                        (Bs(Wt), te('String has UTF-16 code units that do not fit in 8 bits')),
                      (g[Wt + $t] = Jt));
                else for ($t = 0; $t < Bt; ++$t) g[Wt + $t] = Et[$t];
                return (lt !== null && lt.push(Bs, Nt), Nt);
              },
              argPackAdvance: 8,
              readValueFromPointer: Be,
              V: function (lt) {
                Bs(lt);
              },
            });
          },
          i: function (Re, Me, Ze) {
            if (((Ze = ae(Ze)), Me === 2))
              var lt = Is,
                Et = Kn,
                Bt = Ti,
                $t = () => S,
                Nt = 1;
            else Me === 4 && ((lt = hs), (Et = Yr), (Bt = xi), ($t = () => I), (Nt = 2));
            br(Re, {
              name: Ze,
              fromWireType: function (Wt) {
                for (var Jt = I[Wt >> 2], nr = $t(), Wr, gi = Wt + 4, Ea = 0; Ea <= Jt; ++Ea) {
                  var Wn = Wt + 4 + Ea * Me;
                  (Ea == Jt || nr[Wn >> Nt] == 0) &&
                    ((gi = lt(gi, Wn - gi)),
                    Wr === void 0 ? (Wr = gi) : ((Wr += '\0'), (Wr += gi)),
                    (gi = Wn + Me));
                }
                return (Bs(Wt), Wr);
              },
              toWireType: function (Wt, Jt) {
                typeof Jt != 'string' && te('Cannot pass non-string to C++ string type ' + Ze);
                var nr = Bt(Jt),
                  Wr = rc(4 + nr + Me);
                return (
                  (I[Wr >> 2] = nr >> Nt),
                  Et(Jt, Wr + 4, nr + Me),
                  Wt !== null && Wt.push(Bs, Wr),
                  Wr
                );
              },
              argPackAdvance: 8,
              readValueFromPointer: Be,
              V: function (Wt) {
                Bs(Wt);
              },
            });
          },
          k: function (Re, Me, Ze, lt, Et, Bt) {
            da[Re] = { name: ae(Me), fa: Je(Ze, lt), W: Je(Et, Bt), ia: [] };
          },
          h: function (Re, Me, Ze, lt, Et, Bt, $t, Nt, Wt, Jt) {
            da[Re].ia.push({
              oa: ae(Me),
              ta: Ze,
              ra: Je(lt, Et),
              sa: Bt,
              za: $t,
              ya: Je(Nt, Wt),
              Aa: Jt,
            });
          },
          C: function (Re, Me) {
            ((Me = ae(Me)),
              br(Re, {
                va: !0,
                name: Me,
                argPackAdvance: 0,
                fromWireType: function () {},
                toWireType: function () {},
              }));
          },
          s: function (Re, Me, Ze, lt, Et) {
            ((Re = Al[Re]), (Me = ie(Me)), (Ze = ra(Ze)));
            var Bt = [];
            return ((I[lt >> 2] = pe(Bt)), Re(Me, Ze, Bt, Et));
          },
          t: function (Re, Me, Ze, lt) {
            ((Re = Al[Re]), (Me = ie(Me)), (Ze = ra(Ze)), Re(Me, Ze, null, lt));
          },
          g: dr,
          m: function (Re, Me) {
            var Ze = Ts(Re, Me),
              lt = Ze[0];
            Me =
              lt.name +
              '_$' +
              Ze.slice(1)
                .map(function ($t) {
                  return $t.name;
                })
                .join('_') +
              '$';
            var Et = Xn[Me];
            if (Et !== void 0) return Et;
            var Bt = Array(Re - 1);
            return (
              (Et = Vs(($t, Nt, Wt, Jt) => {
                for (var nr = 0, Wr = 0; Wr < Re - 1; ++Wr)
                  ((Bt[Wr] = Ze[Wr + 1].readValueFromPointer(Jt + nr)),
                    (nr += Ze[Wr + 1].argPackAdvance));
                for ($t = $t[Nt].apply($t, Bt), Wr = 0; Wr < Re - 1; ++Wr)
                  Ze[Wr + 1].ma && Ze[Wr + 1].ma(Bt[Wr]);
                if (!lt.va) return lt.toWireType(Wt, $t);
              })),
              (Xn[Me] = Et)
            );
          },
          D: function (Re) {
            4 < Re && (De[Re].ga += 1);
          },
          r: function (Re) {
            var Me = ie(Re);
            (Mi(Me), dr(Re));
          },
          c: function () {
            ee('');
          },
          x: function (Re, Me, Ze) {
            g.copyWithin(Re, Me, Me + Ze);
          },
          w: function (Re) {
            var Me = g.length;
            if (((Re >>>= 0), 2147483648 < Re)) return !1;
            for (var Ze = 1; 4 >= Ze; Ze *= 2) {
              var lt = Me * (1 + 0.2 / Ze);
              lt = Math.min(lt, Re + 100663296);
              var Et = Math;
              ((lt = Math.max(Re, lt)),
                (Et = Et.min.call(Et, 2147483648, lt + ((65536 - (lt % 65536)) % 65536))));
              e: {
                try {
                  (p.grow((Et - E.byteLength + 65535) >>> 16), G());
                  var Bt = 1;
                  break e;
                } catch {}
                Bt = void 0;
              }
              if (Bt) return !0;
            }
            return !1;
          },
          z: function () {
            return 52;
          },
          u: function () {
            return 70;
          },
          y: function (Re, Me, Ze, lt) {
            for (var Et = 0, Bt = 0; Bt < Ze; Bt++) {
              var $t = I[Me >> 2],
                Nt = I[(Me + 4) >> 2];
              Me += 8;
              for (var Wt = 0; Wt < Nt; Wt++) {
                var Jt = g[$t + Wt],
                  nr = Ho[Re];
                Jt === 0 || Jt === 10
                  ? ((Re === 1 ? o : l)(m(nr, 0)), (nr.length = 0))
                  : nr.push(Jt);
              }
              Et += Nt;
            }
            return ((I[lt >> 2] = Et), 0);
          },
        };
      ((function () {
        function Re(Et) {
          ((r.asm = Et.exports),
            (p = r.asm.E),
            G(),
            (U = r.asm.J),
            Y.unshift(r.asm.F),
            j--,
            r.monitorRunDependencies && r.monitorRunDependencies(j),
            j == 0 &&
              (N !== null && (clearInterval(N), (N = null)), H && ((Et = H), (H = null), Et())));
        }
        function Me(Et) {
          Re(Et.instance);
        }
        function Ze(Et) {
          return de()
            .then(function (Bt) {
              return WebAssembly.instantiate(Bt, lt);
            })
            .then(function (Bt) {
              return Bt;
            })
            .then(Et, function (Bt) {
              (l('failed to asynchronously prepare wasm: ' + Bt), ee(Bt));
            });
        }
        var lt = { a: xs };
        if ((j++, r.monitorRunDependencies && r.monitorRunDependencies(j), r.instantiateWasm))
          try {
            return r.instantiateWasm(lt, Re);
          } catch (Et) {
            (l('Module.instantiateWasm callback failed with error: ' + Et), i(Et));
          }
        return (
          (function () {
            return u ||
              typeof WebAssembly.instantiateStreaming != 'function' ||
              me(Ae) ||
              typeof fetch != 'function'
              ? Ze(Me)
              : fetch(Ae, { credentials: 'same-origin' }).then(function (Et) {
                  return WebAssembly.instantiateStreaming(Et, lt).then(Me, function (Bt) {
                    return (
                      l('wasm streaming compile failed: ' + Bt),
                      l('falling back to ArrayBuffer instantiation'),
                      Ze(Me)
                    );
                  });
                });
          })().catch(i),
          {}
        );
      })(),
        (r.___wasm_call_ctors = function () {
          return (r.___wasm_call_ctors = r.asm.F).apply(null, arguments);
        }));
      var qi = (r.___getTypeName = function () {
        return (qi = r.___getTypeName = r.asm.G).apply(null, arguments);
      });
      r.__embind_initialize_bindings = function () {
        return (r.__embind_initialize_bindings = r.asm.H).apply(null, arguments);
      };
      var rc = (r._malloc = function () {
          return (rc = r._malloc = r.asm.I).apply(null, arguments);
        }),
        Bs = (r._free = function () {
          return (Bs = r._free = r.asm.K).apply(null, arguments);
        });
      r.dynCall_jiji = function () {
        return (r.dynCall_jiji = r.asm.L).apply(null, arguments);
      };
      var ss;
      H = function Re() {
        (ss || Gs(), ss || (H = Re));
      };
      function Gs() {
        function Re() {
          if (!ss && ((ss = !0), (r.calledRun = !0), !h)) {
            if ((ye(Y), n(r), r.onRuntimeInitialized && r.onRuntimeInitialized(), r.postRun))
              for (
                typeof r.postRun == 'function' && (r.postRun = [r.postRun]);
                r.postRun.length;

              ) {
                var Me = r.postRun.shift();
                z.unshift(Me);
              }
            ye(z);
          }
        }
        if (!(0 < j)) {
          if (r.preRun)
            for (typeof r.preRun == 'function' && (r.preRun = [r.preRun]); r.preRun.length; ) se();
          (ye(M),
            0 < j ||
              (r.setStatus
                ? (r.setStatus('Running...'),
                  setTimeout(function () {
                    (setTimeout(function () {
                      r.setStatus('');
                    }, 1),
                      Re());
                  }, 1))
                : Re()));
        }
      }
      if (r.preInit)
        for (typeof r.preInit == 'function' && (r.preInit = [r.preInit]); 0 < r.preInit.length; )
          r.preInit.pop()();
      return (Gs(), e.ready);
    };
  })(),
  pje = idr;
var B5 = (function (t) {
    return (
      (t[(t.Auto = 0)] = 'Auto'),
      (t[(t.FlexStart = 1)] = 'FlexStart'),
      (t[(t.Center = 2)] = 'Center'),
      (t[(t.FlexEnd = 3)] = 'FlexEnd'),
      (t[(t.Stretch = 4)] = 'Stretch'),
      (t[(t.Baseline = 5)] = 'Baseline'),
      (t[(t.SpaceBetween = 6)] = 'SpaceBetween'),
      (t[(t.SpaceAround = 7)] = 'SpaceAround'),
      (t[(t.SpaceEvenly = 8)] = 'SpaceEvenly'),
      t
    );
  })({}),
  fje = (function (t) {
    return ((t[(t.BorderBox = 0)] = 'BorderBox'), (t[(t.ContentBox = 1)] = 'ContentBox'), t);
  })({}),
  mje = (function (t) {
    return ((t[(t.Width = 0)] = 'Width'), (t[(t.Height = 1)] = 'Height'), t);
  })({}),
  NU = (function (t) {
    return (
      (t[(t.Inherit = 0)] = 'Inherit'),
      (t[(t.LTR = 1)] = 'LTR'),
      (t[(t.RTL = 2)] = 'RTL'),
      t
    );
  })({}),
  D2e = (function (t) {
    return (
      (t[(t.Flex = 0)] = 'Flex'),
      (t[(t.None = 1)] = 'None'),
      (t[(t.Contents = 2)] = 'Contents'),
      t
    );
  })({}),
  R5 = (function (t) {
    return (
      (t[(t.Left = 0)] = 'Left'),
      (t[(t.Top = 1)] = 'Top'),
      (t[(t.Right = 2)] = 'Right'),
      (t[(t.Bottom = 3)] = 'Bottom'),
      (t[(t.Start = 4)] = 'Start'),
      (t[(t.End = 5)] = 'End'),
      (t[(t.Horizontal = 6)] = 'Horizontal'),
      (t[(t.Vertical = 7)] = 'Vertical'),
      (t[(t.All = 8)] = 'All'),
      t
    );
  })({}),
  XR = (function (t) {
    return (
      (t[(t.None = 0)] = 'None'),
      (t[(t.StretchFlexBasis = 1)] = 'StretchFlexBasis'),
      (t[(t.AbsolutePositionWithoutInsetsExcludesPadding = 2)] =
        'AbsolutePositionWithoutInsetsExcludesPadding'),
      (t[(t.AbsolutePercentAgainstInnerSize = 4)] = 'AbsolutePercentAgainstInnerSize'),
      (t[(t.All = 2147483647)] = 'All'),
      (t[(t.Classic = 2147483646)] = 'Classic'),
      t
    );
  })({}),
  adr = (function (t) {
    return ((t[(t.WebFlexBasis = 0)] = 'WebFlexBasis'), t);
  })({}),
  AK = (function (t) {
    return (
      (t[(t.Column = 0)] = 'Column'),
      (t[(t.ColumnReverse = 1)] = 'ColumnReverse'),
      (t[(t.Row = 2)] = 'Row'),
      (t[(t.RowReverse = 3)] = 'RowReverse'),
      t
    );
  })({}),
  w2e = (function (t) {
    return ((t[(t.Column = 0)] = 'Column'), (t[(t.Row = 1)] = 'Row'), (t[(t.All = 2)] = 'All'), t);
  })({}),
  ZR = (function (t) {
    return (
      (t[(t.FlexStart = 0)] = 'FlexStart'),
      (t[(t.Center = 1)] = 'Center'),
      (t[(t.FlexEnd = 2)] = 'FlexEnd'),
      (t[(t.SpaceBetween = 3)] = 'SpaceBetween'),
      (t[(t.SpaceAround = 4)] = 'SpaceAround'),
      (t[(t.SpaceEvenly = 5)] = 'SpaceEvenly'),
      t
    );
  })({}),
  eN = (function (t) {
    return (
      (t[(t.Error = 0)] = 'Error'),
      (t[(t.Warn = 1)] = 'Warn'),
      (t[(t.Info = 2)] = 'Info'),
      (t[(t.Debug = 3)] = 'Debug'),
      (t[(t.Verbose = 4)] = 'Verbose'),
      (t[(t.Fatal = 5)] = 'Fatal'),
      t
    );
  })({}),
  I2e = (function (t) {
    return (
      (t[(t.Undefined = 0)] = 'Undefined'),
      (t[(t.Exactly = 1)] = 'Exactly'),
      (t[(t.AtMost = 2)] = 'AtMost'),
      t
    );
  })({}),
  hje = (function (t) {
    return ((t[(t.Default = 0)] = 'Default'), (t[(t.Text = 1)] = 'Text'), t);
  })({}),
  T2e = (function (t) {
    return (
      (t[(t.Visible = 0)] = 'Visible'),
      (t[(t.Hidden = 1)] = 'Hidden'),
      (t[(t.Scroll = 2)] = 'Scroll'),
      t
    );
  })({}),
  x2e = (function (t) {
    return (
      (t[(t.Static = 0)] = 'Static'),
      (t[(t.Relative = 1)] = 'Relative'),
      (t[(t.Absolute = 2)] = 'Absolute'),
      t
    );
  })({}),
  V6 = (function (t) {
    return (
      (t[(t.Undefined = 0)] = 'Undefined'),
      (t[(t.Point = 1)] = 'Point'),
      (t[(t.Percent = 2)] = 'Percent'),
      (t[(t.Auto = 3)] = 'Auto'),
      t
    );
  })({}),
  B2e = (function (t) {
    return (
      (t[(t.NoWrap = 0)] = 'NoWrap'),
      (t[(t.Wrap = 1)] = 'Wrap'),
      (t[(t.WrapReverse = 2)] = 'WrapReverse'),
      t
    );
  })({}),
  sdr = {
    ALIGN_AUTO: B5.Auto,
    ALIGN_FLEX_START: B5.FlexStart,
    ALIGN_CENTER: B5.Center,
    ALIGN_FLEX_END: B5.FlexEnd,
    ALIGN_STRETCH: B5.Stretch,
    ALIGN_BASELINE: B5.Baseline,
    ALIGN_SPACE_BETWEEN: B5.SpaceBetween,
    ALIGN_SPACE_AROUND: B5.SpaceAround,
    ALIGN_SPACE_EVENLY: B5.SpaceEvenly,
    BOX_SIZING_BORDER_BOX: fje.BorderBox,
    BOX_SIZING_CONTENT_BOX: fje.ContentBox,
    DIMENSION_WIDTH: mje.Width,
    DIMENSION_HEIGHT: mje.Height,
    DIRECTION_INHERIT: NU.Inherit,
    DIRECTION_LTR: NU.LTR,
    DIRECTION_RTL: NU.RTL,
    DISPLAY_FLEX: D2e.Flex,
    DISPLAY_NONE: D2e.None,
    DISPLAY_CONTENTS: D2e.Contents,
    EDGE_LEFT: R5.Left,
    EDGE_TOP: R5.Top,
    EDGE_RIGHT: R5.Right,
    EDGE_BOTTOM: R5.Bottom,
    EDGE_START: R5.Start,
    EDGE_END: R5.End,
    EDGE_HORIZONTAL: R5.Horizontal,
    EDGE_VERTICAL: R5.Vertical,
    EDGE_ALL: R5.All,
    ERRATA_NONE: XR.None,
    ERRATA_STRETCH_FLEX_BASIS: XR.StretchFlexBasis,
    ERRATA_ABSOLUTE_POSITION_WITHOUT_INSETS_EXCLUDES_PADDING:
      XR.AbsolutePositionWithoutInsetsExcludesPadding,
    ERRATA_ABSOLUTE_PERCENT_AGAINST_INNER_SIZE: XR.AbsolutePercentAgainstInnerSize,
    ERRATA_ALL: XR.All,
    ERRATA_CLASSIC: XR.Classic,
    EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS: adr.WebFlexBasis,
    FLEX_DIRECTION_COLUMN: AK.Column,
    FLEX_DIRECTION_COLUMN_REVERSE: AK.ColumnReverse,
    FLEX_DIRECTION_ROW: AK.Row,
    FLEX_DIRECTION_ROW_REVERSE: AK.RowReverse,
    GUTTER_COLUMN: w2e.Column,
    GUTTER_ROW: w2e.Row,
    GUTTER_ALL: w2e.All,
    JUSTIFY_FLEX_START: ZR.FlexStart,
    JUSTIFY_CENTER: ZR.Center,
    JUSTIFY_FLEX_END: ZR.FlexEnd,
    JUSTIFY_SPACE_BETWEEN: ZR.SpaceBetween,
    JUSTIFY_SPACE_AROUND: ZR.SpaceAround,
    JUSTIFY_SPACE_EVENLY: ZR.SpaceEvenly,
    LOG_LEVEL_ERROR: eN.Error,
    LOG_LEVEL_WARN: eN.Warn,
    LOG_LEVEL_INFO: eN.Info,
    LOG_LEVEL_DEBUG: eN.Debug,
    LOG_LEVEL_VERBOSE: eN.Verbose,
    LOG_LEVEL_FATAL: eN.Fatal,
    MEASURE_MODE_UNDEFINED: I2e.Undefined,
    MEASURE_MODE_EXACTLY: I2e.Exactly,
    MEASURE_MODE_AT_MOST: I2e.AtMost,
    NODE_TYPE_DEFAULT: hje.Default,
    NODE_TYPE_TEXT: hje.Text,
    OVERFLOW_VISIBLE: T2e.Visible,
    OVERFLOW_HIDDEN: T2e.Hidden,
    OVERFLOW_SCROLL: T2e.Scroll,
    POSITION_TYPE_STATIC: x2e.Static,
    POSITION_TYPE_RELATIVE: x2e.Relative,
    POSITION_TYPE_ABSOLUTE: x2e.Absolute,
    UNIT_UNDEFINED: V6.Undefined,
    UNIT_POINT: V6.Point,
    UNIT_PERCENT: V6.Percent,
    UNIT_AUTO: V6.Auto,
    WRAP_NO_WRAP: B2e.NoWrap,
    WRAP_WRAP: B2e.Wrap,
    WRAP_WRAP_REVERSE: B2e.WrapReverse,
  },
  Aje = sdr;
function R2e(t) {
  function e(i, a, s) {
    let o = i[a];
    i[a] = function () {
      for (var l = arguments.length, u = new Array(l), c = 0; c < l; c++) u[c] = arguments[c];
      return s.call(this, o, ...u);
    };
  }
  for (let i of [
    'setPosition',
    'setMargin',
    'setFlexBasis',
    'setWidth',
    'setHeight',
    'setMinWidth',
    'setMinHeight',
    'setMaxWidth',
    'setMaxHeight',
    'setPadding',
    'setGap',
  ]) {
    let a = {
      [V6.Point]: t.Node.prototype[i],
      [V6.Percent]: t.Node.prototype[`${i}Percent`],
      [V6.Auto]: t.Node.prototype[`${i}Auto`],
    };
    e(t.Node.prototype, i, function (s) {
      for (var o = arguments.length, l = new Array(o > 1 ? o - 1 : 0), u = 1; u < o; u++)
        l[u - 1] = arguments[u];
      let c = l.pop(),
        p,
        h;
      if (c === 'auto') ((p = V6.Auto), (h = void 0));
      else if (typeof c == 'object') ((p = c.unit), (h = c.valueOf()));
      else if (
        ((p = typeof c == 'string' && c.endsWith('%') ? V6.Percent : V6.Point),
        (h = parseFloat(c)),
        c !== void 0 && !Number.isNaN(c) && Number.isNaN(h))
      )
        throw new Error(`Invalid value ${c} for ${i}`);
      if (!a[p]) throw new Error(`Failed to execute "${i}": Unsupported unit '${c}'`);
      return h !== void 0 ? a[p].call(this, ...l, h) : a[p].call(this, ...l);
    });
  }
  function r(i) {
    return t.MeasureCallback.implement({
      measure: function () {
        let { width: a, height: s } = i(...arguments);
        return { width: a ?? NaN, height: s ?? NaN };
      },
    });
  }
  e(t.Node.prototype, 'setMeasureFunc', function (i, a) {
    return a ? i.call(this, r(a)) : this.unsetMeasureFunc();
  });
  function n(i) {
    return t.DirtiedCallback.implement({ dirtied: i });
  }
  return (
    e(t.Node.prototype, 'setDirtiedFunc', function (i, a) {
      i.call(this, n(a));
    }),
    e(t.Config.prototype, 'free', function () {
      t.Config.destroy(this);
    }),
    e(t.Node, 'create', (i, a) => (a ? t.Node.createWithConfig(a) : t.Node.createDefault())),
    e(t.Node.prototype, 'free', function () {
      t.Node.destroy(this);
    }),
    e(t.Node.prototype, 'freeRecursive', function () {
      for (let i = 0, a = this.getChildCount(); i < a; ++i) this.getChild(0).freeRecursive();
      this.free();
    }),
    e(t.Node.prototype, 'calculateLayout', function (i) {
      let a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : NaN,
        s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : NaN,
        o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : NU.LTR;
      return i.call(this, a, s, o);
    }),
    { Config: t.Config, Node: t.Node, ...Aje }
  );
}
var odr = R2e(await pje()),
  Kr = odr;
var hWe = qe(Bje(), 1),
  WU = qe(b2e(), 1);
import p1r from 'node:process';
var AWe = qe(or(), 1);
function G2e({ onlyFirst: t = !1 } = {}) {
  let r = [
    '[\\][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\|\\\|\))',
    '(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))',
  ].join('|');
  return new RegExp(r, t ? void 0 : 'g');
}
var udr = G2e();
function Qh(t) {
  if (typeof t != 'string') throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);
  return t.replace(udr, '');
}
function Rje(t) {
  return (
    t === 161 ||
    t === 164 ||
    t === 167 ||
    t === 168 ||
    t === 170 ||
    t === 173 ||
    t === 174 ||
    (t >= 176 && t <= 180) ||
    (t >= 182 && t <= 186) ||
    (t >= 188 && t <= 191) ||
    t === 198 ||
    t === 208 ||
    t === 215 ||
    t === 216 ||
    (t >= 222 && t <= 225) ||
    t === 230 ||
    (t >= 232 && t <= 234) ||
    t === 236 ||
    t === 237 ||
    t === 240 ||
    t === 242 ||
    t === 243 ||
    (t >= 247 && t <= 250) ||
    t === 252 ||
    t === 254 ||
    t === 257 ||
    t === 273 ||
    t === 275 ||
    t === 283 ||
    t === 294 ||
    t === 295 ||
    t === 299 ||
    (t >= 305 && t <= 307) ||
    t === 312 ||
    (t >= 319 && t <= 322) ||
    t === 324 ||
    (t >= 328 && t <= 331) ||
    t === 333 ||
    t === 338 ||
    t === 339 ||
    t === 358 ||
    t === 359 ||
    t === 363 ||
    t === 462 ||
    t === 464 ||
    t === 466 ||
    t === 468 ||
    t === 470 ||
    t === 472 ||
    t === 474 ||
    t === 476 ||
    t === 593 ||
    t === 609 ||
    t === 708 ||
    t === 711 ||
    (t >= 713 && t <= 715) ||
    t === 717 ||
    t === 720 ||
    (t >= 728 && t <= 731) ||
    t === 733 ||
    t === 735 ||
    (t >= 768 && t <= 879) ||
    (t >= 913 && t <= 929) ||
    (t >= 931 && t <= 937) ||
    (t >= 945 && t <= 961) ||
    (t >= 963 && t <= 969) ||
    t === 1025 ||
    (t >= 1040 && t <= 1103) ||
    t === 1105 ||
    t === 8208 ||
    (t >= 8211 && t <= 8214) ||
    t === 8216 ||
    t === 8217 ||
    t === 8220 ||
    t === 8221 ||
    (t >= 8224 && t <= 8226) ||
    (t >= 8228 && t <= 8231) ||
    t === 8240 ||
    t === 8242 ||
    t === 8243 ||
    t === 8245 ||
    t === 8251 ||
    t === 8254 ||
    t === 8308 ||
    t === 8319 ||
    (t >= 8321 && t <= 8324) ||
    t === 8364 ||
    t === 8451 ||
    t === 8453 ||
    t === 8457 ||
    t === 8467 ||
    t === 8470 ||
    t === 8481 ||
    t === 8482 ||
    t === 8486 ||
    t === 8491 ||
    t === 8531 ||
    t === 8532 ||
    (t >= 8539 && t <= 8542) ||
    (t >= 8544 && t <= 8555) ||
    (t >= 8560 && t <= 8569) ||
    t === 8585 ||
    (t >= 8592 && t <= 8601) ||
    t === 8632 ||
    t === 8633 ||
    t === 8658 ||
    t === 8660 ||
    t === 8679 ||
    t === 8704 ||
    t === 8706 ||
    t === 8707 ||
    t === 8711 ||
    t === 8712 ||
    t === 8715 ||
    t === 8719 ||
    t === 8721 ||
    t === 8725 ||
    t === 8730 ||
    (t >= 8733 && t <= 8736) ||
    t === 8739 ||
    t === 8741 ||
    (t >= 8743 && t <= 8748) ||
    t === 8750 ||
    (t >= 8756 && t <= 8759) ||
    t === 8764 ||
    t === 8765 ||
    t === 8776 ||
    t === 8780 ||
    t === 8786 ||
    t === 8800 ||
    t === 8801 ||
    (t >= 8804 && t <= 8807) ||
    t === 8810 ||
    t === 8811 ||
    t === 8814 ||
    t === 8815 ||
    t === 8834 ||
    t === 8835 ||
    t === 8838 ||
    t === 8839 ||
    t === 8853 ||
    t === 8857 ||
    t === 8869 ||
    t === 8895 ||
    t === 8978 ||
    (t >= 9312 && t <= 9449) ||
    (t >= 9451 && t <= 9547) ||
    (t >= 9552 && t <= 9587) ||
    (t >= 9600 && t <= 9615) ||
    (t >= 9618 && t <= 9621) ||
    t === 9632 ||
    t === 9633 ||
    (t >= 9635 && t <= 9641) ||
    t === 9650 ||
    t === 9651 ||
    t === 9654 ||
    t === 9655 ||
    t === 9660 ||
    t === 9661 ||
    t === 9664 ||
    t === 9665 ||
    (t >= 9670 && t <= 9672) ||
    t === 9675 ||
    (t >= 9678 && t <= 9681) ||
    (t >= 9698 && t <= 9701) ||
    t === 9711 ||
    t === 9733 ||
    t === 9734 ||
    t === 9737 ||
    t === 9742 ||
    t === 9743 ||
    t === 9756 ||
    t === 9758 ||
    t === 9792 ||
    t === 9794 ||
    t === 9824 ||
    t === 9825 ||
    (t >= 9827 && t <= 9829) ||
    (t >= 9831 && t <= 9834) ||
    t === 9836 ||
    t === 9837 ||
    t === 9839 ||
    t === 9886 ||
    t === 9887 ||
    t === 9919 ||
    (t >= 9926 && t <= 9933) ||
    (t >= 9935 && t <= 9939) ||
    (t >= 9941 && t <= 9953) ||
    t === 9955 ||
    t === 9960 ||
    t === 9961 ||
    (t >= 9963 && t <= 9969) ||
    t === 9972 ||
    (t >= 9974 && t <= 9977) ||
    t === 9979 ||
    t === 9980 ||
    t === 9982 ||
    t === 9983 ||
    t === 10045 ||
    (t >= 10102 && t <= 10111) ||
    (t >= 11094 && t <= 11097) ||
    (t >= 12872 && t <= 12879) ||
    (t >= 57344 && t <= 63743) ||
    (t >= 65024 && t <= 65039) ||
    t === 65533 ||
    (t >= 127232 && t <= 127242) ||
    (t >= 127248 && t <= 127277) ||
    (t >= 127280 && t <= 127337) ||
    (t >= 127344 && t <= 127373) ||
    t === 127375 ||
    t === 127376 ||
    (t >= 127387 && t <= 127404) ||
    (t >= 917760 && t <= 917999) ||
    (t >= 983040 && t <= 1048573) ||
    (t >= 1048576 && t <= 1114109)
  );
}
function Nje(t) {
  return t === 12288 || (t >= 65281 && t <= 65376) || (t >= 65504 && t <= 65510);
}
function Oje(t) {
  return (
    (t >= 4352 && t <= 4447) ||
    t === 8986 ||
    t === 8987 ||
    t === 9001 ||
    t === 9002 ||
    (t >= 9193 && t <= 9196) ||
    t === 9200 ||
    t === 9203 ||
    t === 9725 ||
    t === 9726 ||
    t === 9748 ||
    t === 9749 ||
    (t >= 9776 && t <= 9783) ||
    (t >= 9800 && t <= 9811) ||
    t === 9855 ||
    (t >= 9866 && t <= 9871) ||
    t === 9875 ||
    t === 9889 ||
    t === 9898 ||
    t === 9899 ||
    t === 9917 ||
    t === 9918 ||
    t === 9924 ||
    t === 9925 ||
    t === 9934 ||
    t === 9940 ||
    t === 9962 ||
    t === 9970 ||
    t === 9971 ||
    t === 9973 ||
    t === 9978 ||
    t === 9981 ||
    t === 9989 ||
    t === 9994 ||
    t === 9995 ||
    t === 10024 ||
    t === 10060 ||
    t === 10062 ||
    (t >= 10067 && t <= 10069) ||
    t === 10071 ||
    (t >= 10133 && t <= 10135) ||
    t === 10160 ||
    t === 10175 ||
    t === 11035 ||
    t === 11036 ||
    t === 11088 ||
    t === 11093 ||
    (t >= 11904 && t <= 11929) ||
    (t >= 11931 && t <= 12019) ||
    (t >= 12032 && t <= 12245) ||
    (t >= 12272 && t <= 12287) ||
    (t >= 12289 && t <= 12350) ||
    (t >= 12353 && t <= 12438) ||
    (t >= 12441 && t <= 12543) ||
    (t >= 12549 && t <= 12591) ||
    (t >= 12593 && t <= 12686) ||
    (t >= 12688 && t <= 12773) ||
    (t >= 12783 && t <= 12830) ||
    (t >= 12832 && t <= 12871) ||
    (t >= 12880 && t <= 42124) ||
    (t >= 42128 && t <= 42182) ||
    (t >= 43360 && t <= 43388) ||
    (t >= 44032 && t <= 55203) ||
    (t >= 63744 && t <= 64255) ||
    (t >= 65040 && t <= 65049) ||
    (t >= 65072 && t <= 65106) ||
    (t >= 65108 && t <= 65126) ||
    (t >= 65128 && t <= 65131) ||
    (t >= 94176 && t <= 94180) ||
    t === 94192 ||
    t === 94193 ||
    (t >= 94208 && t <= 100343) ||
    (t >= 100352 && t <= 101589) ||
    (t >= 101631 && t <= 101640) ||
    (t >= 110576 && t <= 110579) ||
    (t >= 110581 && t <= 110587) ||
    t === 110589 ||
    t === 110590 ||
    (t >= 110592 && t <= 110882) ||
    t === 110898 ||
    (t >= 110928 && t <= 110930) ||
    t === 110933 ||
    (t >= 110948 && t <= 110951) ||
    (t >= 110960 && t <= 111355) ||
    (t >= 119552 && t <= 119638) ||
    (t >= 119648 && t <= 119670) ||
    t === 126980 ||
    t === 127183 ||
    t === 127374 ||
    (t >= 127377 && t <= 127386) ||
    (t >= 127488 && t <= 127490) ||
    (t >= 127504 && t <= 127547) ||
    (t >= 127552 && t <= 127560) ||
    t === 127568 ||
    t === 127569 ||
    (t >= 127584 && t <= 127589) ||
    (t >= 127744 && t <= 127776) ||
    (t >= 127789 && t <= 127797) ||
    (t >= 127799 && t <= 127868) ||
    (t >= 127870 && t <= 127891) ||
    (t >= 127904 && t <= 127946) ||
    (t >= 127951 && t <= 127955) ||
    (t >= 127968 && t <= 127984) ||
    t === 127988 ||
    (t >= 127992 && t <= 128062) ||
    t === 128064 ||
    (t >= 128066 && t <= 128252) ||
    (t >= 128255 && t <= 128317) ||
    (t >= 128331 && t <= 128334) ||
    (t >= 128336 && t <= 128359) ||
    t === 128378 ||
    t === 128405 ||
    t === 128406 ||
    t === 128420 ||
    (t >= 128507 && t <= 128591) ||
    (t >= 128640 && t <= 128709) ||
    t === 128716 ||
    (t >= 128720 && t <= 128722) ||
    (t >= 128725 && t <= 128727) ||
    (t >= 128732 && t <= 128735) ||
    t === 128747 ||
    t === 128748 ||
    (t >= 128756 && t <= 128764) ||
    (t >= 128992 && t <= 129003) ||
    t === 129008 ||
    (t >= 129292 && t <= 129338) ||
    (t >= 129340 && t <= 129349) ||
    (t >= 129351 && t <= 129535) ||
    (t >= 129648 && t <= 129660) ||
    (t >= 129664 && t <= 129673) ||
    (t >= 129679 && t <= 129734) ||
    (t >= 129742 && t <= 129756) ||
    (t >= 129759 && t <= 129769) ||
    (t >= 129776 && t <= 129784) ||
    (t >= 131072 && t <= 196605) ||
    (t >= 196608 && t <= 262141)
  );
}
function cdr(t) {
  if (!Number.isSafeInteger(t)) throw new TypeError(`Expected a code point, got \`${typeof t}\`.`);
}
function eC(t, { ambiguousAsWide: e = !1 } = {}) {
  return (cdr(t), Nje(t) || Oje(t) || (e && Rje(t)) ? 2 : 1);
}
var Fje = qe(Lje(), 1),
  ddr = new Intl.Segmenter(),
  pdr = /^\p{Default_Ignorable_Code_Point}$/u;
function G6(t, e = {}) {
  if (typeof t != 'string' || t.length === 0) return 0;
  let { ambiguousIsNarrow: r = !0, countAnsiEscapeCodes: n = !1 } = e;
  if ((n || (t = Qh(t)), t.length === 0)) return 0;
  let i = 0,
    a = { ambiguousAsWide: !r };
  for (let { segment: s } of ddr.segment(t)) {
    let o = s.codePointAt(0);
    if (
      !(o <= 31 || (o >= 127 && o <= 159)) &&
      !((o >= 8203 && o <= 8207) || o === 65279) &&
      !(
        (o >= 768 && o <= 879) ||
        (o >= 6832 && o <= 6911) ||
        (o >= 7616 && o <= 7679) ||
        (o >= 8400 && o <= 8447) ||
        (o >= 65056 && o <= 65071)
      ) &&
      !(o >= 55296 && o <= 57343) &&
      !(o >= 65024 && o <= 65039) &&
      !pdr.test(s)
    ) {
      if ((0, Fje.default)().test(s)) {
        i += 2;
        continue;
      }
      i += eC(o, a);
    }
  }
  return i;
}
function OD(t) {
  let e = 0;
  for (let r of t.split(`
`))
    e = Math.max(e, G6(r));
  return e;
}
var Pje = new Map(),
  fdr = (t) => {
    if (t.length === 0) return { width: 0, height: 0 };
    let e = Pje.get(t);
    if (e) return e;
    let r = OD(t),
      n = t.split(`
`).length,
      i = { width: r, height: n };
    return (Pje.set(t, i), i);
  },
  q2e = fdr;
var Qje =
    (t = 0) =>
    (e) =>
      `\x1B[${e + t}m`,
  kje =
    (t = 0) =>
    (e) =>
      `\x1B[${38 + t};5;${e}m`,
  Uje =
    (t = 0) =>
    (e, r, n) =>
      `\x1B[${38 + t};2;${e};${r};${n}m`,
  zl = {
    modifier: {
      reset: [0, 0],
      bold: [1, 22],
      dim: [2, 22],
      italic: [3, 23],
      underline: [4, 24],
      overline: [53, 55],
      inverse: [7, 27],
      hidden: [8, 28],
      strikethrough: [9, 29],
    },
    color: {
      black: [30, 39],
      red: [31, 39],
      green: [32, 39],
      yellow: [33, 39],
      blue: [34, 39],
      magenta: [35, 39],
      cyan: [36, 39],
      white: [37, 39],
      blackBright: [90, 39],
      gray: [90, 39],
      grey: [90, 39],
      redBright: [91, 39],
      greenBright: [92, 39],
      yellowBright: [93, 39],
      blueBright: [94, 39],
      magentaBright: [95, 39],
      cyanBright: [96, 39],
      whiteBright: [97, 39],
    },
    bgColor: {
      bgBlack: [40, 49],
      bgRed: [41, 49],
      bgGreen: [42, 49],
      bgYellow: [43, 49],
      bgBlue: [44, 49],
      bgMagenta: [45, 49],
      bgCyan: [46, 49],
      bgWhite: [47, 49],
      bgBlackBright: [100, 49],
      bgGray: [100, 49],
      bgGrey: [100, 49],
      bgRedBright: [101, 49],
      bgGreenBright: [102, 49],
      bgYellowBright: [103, 49],
      bgBlueBright: [104, 49],
      bgMagentaBright: [105, 49],
      bgCyanBright: [106, 49],
      bgWhiteBright: [107, 49],
    },
  },
  _Pn = Object.keys(zl.modifier),
  mdr = Object.keys(zl.color),
  hdr = Object.keys(zl.bgColor),
  SPn = [...mdr, ...hdr];
function Adr() {
  let t = new Map();
  for (let [e, r] of Object.entries(zl)) {
    for (let [n, i] of Object.entries(r))
      ((zl[n] = { open: `\x1B[${i[0]}m`, close: `\x1B[${i[1]}m` }),
        (r[n] = zl[n]),
        t.set(i[0], i[1]));
    Object.defineProperty(zl, e, { value: r, enumerable: !1 });
  }
  return (
    Object.defineProperty(zl, 'codes', { value: t, enumerable: !1 }),
    (zl.color.close = '\x1B[39m'),
    (zl.bgColor.close = '\x1B[49m'),
    (zl.color.ansi = Qje()),
    (zl.color.ansi256 = kje()),
    (zl.color.ansi16m = Uje()),
    (zl.bgColor.ansi = Qje(10)),
    (zl.bgColor.ansi256 = kje(10)),
    (zl.bgColor.ansi16m = Uje(10)),
    Object.defineProperties(zl, {
      rgbToAnsi256: {
        value: (e, r, n) =>
          e === r && r === n
            ? e < 8
              ? 16
              : e > 248
                ? 231
                : Math.round(((e - 8) / 247) * 24) + 232
            : 16 +
              36 * Math.round((e / 255) * 5) +
              6 * Math.round((r / 255) * 5) +
              Math.round((n / 255) * 5),
        enumerable: !1,
      },
      hexToRgb: {
        value: (e) => {
          let r = /[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));
          if (!r) return [0, 0, 0];
          let [n] = r;
          n.length === 3 && (n = [...n].map((a) => a + a).join(''));
          let i = Number.parseInt(n, 16);
          return [(i >> 16) & 255, (i >> 8) & 255, i & 255];
        },
        enumerable: !1,
      },
      hexToAnsi256: { value: (e) => zl.rgbToAnsi256(...zl.hexToRgb(e)), enumerable: !1 },
      ansi256ToAnsi: {
        value: (e) => {
          if (e < 8) return 30 + e;
          if (e < 16) return 90 + (e - 8);
          let r, n, i;
          if (e >= 232) ((r = ((e - 232) * 10 + 8) / 255), (n = r), (i = r));
          else {
            e -= 16;
            let o = e % 36;
            ((r = Math.floor(e / 36) / 5), (n = Math.floor(o / 6) / 5), (i = (o % 6) / 5));
          }
          let a = Math.max(r, n, i) * 2;
          if (a === 0) return 30;
          let s = 30 + ((Math.round(i) << 2) | (Math.round(n) << 1) | Math.round(r));
          return (a === 2 && (s += 60), s);
        },
        enumerable: !1,
      },
      rgbToAnsi: { value: (e, r, n) => zl.ansi256ToAnsi(zl.rgbToAnsi256(e, r, n)), enumerable: !1 },
      hexToAnsi: { value: (e) => zl.ansi256ToAnsi(zl.hexToAnsi256(e)), enumerable: !1 },
    }),
    zl
  );
}
var gdr = Adr(),
  Hje = gdr;
var CK = new Set(['\x1B', '\x9B']),
  Edr = 39,
  j2e = '\x07',
  qje = '[',
  ydr = ']',
  $je = 'm',
  vK = `${ydr}8;;`,
  Vje = (t) => `${CK.values().next().value}${qje}${t}${$je}`,
  Gje = (t) => `${CK.values().next().value}${vK}${t}${j2e}`,
  vdr = (t) => t.split(' ').map((e) => G6(e)),
  $2e = (t, e, r) => {
    let n = [...e],
      i = !1,
      a = !1,
      s = G6(Qh(t.at(-1)));
    for (let [o, l] of n.entries()) {
      let u = G6(l);
      if (
        (s + u <= r ? (t[t.length - 1] += l) : (t.push(l), (s = 0)),
        CK.has(l) && ((i = !0), (a = n.slice(o + 1, o + 1 + vK.length).join('') === vK)),
        i)
      ) {
        a ? l === j2e && ((i = !1), (a = !1)) : l === $je && (i = !1);
        continue;
      }
      ((s += u), s === r && o < n.length - 1 && (t.push(''), (s = 0)));
    }
    !s && t.at(-1).length > 0 && t.length > 1 && (t[t.length - 2] += t.pop());
  },
  Cdr = (t) => {
    let e = t.split(' '),
      r = e.length;
    for (; r > 0 && !(G6(e[r - 1]) > 0); ) r--;
    return r === e.length ? t : e.slice(0, r).join(' ') + e.slice(r).join('');
  },
  _dr = (t, e, r = {}) => {
    if (r.trim !== !1 && t.trim() === '') return '';
    let n = '',
      i,
      a,
      s = vdr(t),
      o = [''];
    for (let [p, h] of t.split(' ').entries()) {
      r.trim !== !1 && (o[o.length - 1] = o.at(-1).trimStart());
      let m = G6(o.at(-1));
      if (
        (p !== 0 &&
          (m >= e && (r.wordWrap === !1 || r.trim === !1) && (o.push(''), (m = 0)),
          (m > 0 || r.trim === !1) && ((o[o.length - 1] += ' '), m++)),
        r.hard && s[p] > e)
      ) {
        let E = e - m,
          v = 1 + Math.floor((s[p] - E - 1) / e);
        (Math.floor((s[p] - 1) / e) < v && o.push(''), $2e(o, h, e));
        continue;
      }
      if (m + s[p] > e && m > 0 && s[p] > 0) {
        if (r.wordWrap === !1 && m < e) {
          $2e(o, h, e);
          continue;
        }
        o.push('');
      }
      if (m + s[p] > e && r.wordWrap === !1) {
        $2e(o, h, e);
        continue;
      }
      o[o.length - 1] += h;
    }
    r.trim !== !1 && (o = o.map((p) => Cdr(p)));
    let l = o.join(`
`),
      u = [...l],
      c = 0;
    for (let [p, h] of u.entries()) {
      if (((n += h), CK.has(h))) {
        let { groups: E } = new RegExp(`(?:\\${qje}(?<code>\\d+)m|\\${vK}(?<uri>.*)${j2e})`).exec(
          l.slice(c)
        ) || { groups: {} };
        if (E.code !== void 0) {
          let v = Number.parseFloat(E.code);
          i = v === Edr ? void 0 : v;
        } else E.uri !== void 0 && (a = E.uri.length === 0 ? void 0 : E.uri);
      }
      let m = Hje.codes.get(Number(i));
      (u[p + 1] ===
      `
`
        ? (a && (n += Gje('')), i && m && (n += Vje(m)))
        : h ===
            `
` && (i && m && (n += Vje(i)), a && (n += Gje(a))),
        (c += h.length));
    }
    return n;
  };
function Y2e(t, e, r) {
  return String(t)
    .normalize()
    .replaceAll(
      `\r
`,
      `
`
    )
    .split(
      `
`
    )
    .map((n) => _dr(n, e, r)).join(`
`);
}
function W2e(t) {
  return Number.isInteger(t)
    ? t >= 4352 &&
        (t <= 4447 ||
          t === 9001 ||
          t === 9002 ||
          (11904 <= t && t <= 12871 && t !== 12351) ||
          (12880 <= t && t <= 19903) ||
          (19968 <= t && t <= 42182) ||
          (43360 <= t && t <= 43388) ||
          (44032 <= t && t <= 55203) ||
          (63744 <= t && t <= 64255) ||
          (65040 <= t && t <= 65049) ||
          (65072 <= t && t <= 65131) ||
          (65281 <= t && t <= 65376) ||
          (65504 <= t && t <= 65510) ||
          (110592 <= t && t <= 110593) ||
          (127488 <= t && t <= 127569) ||
          (131072 <= t && t <= 262141))
    : !1;
}
var jje =
    (t = 0) =>
    (e) =>
      `\x1B[${e + t}m`,
  Yje =
    (t = 0) =>
    (e) =>
      `\x1B[${38 + t};5;${e}m`,
  Wje =
    (t = 0) =>
    (e, r, n) =>
      `\x1B[${38 + t};2;${e};${r};${n}m`,
  Jl = {
    modifier: {
      reset: [0, 0],
      bold: [1, 22],
      dim: [2, 22],
      italic: [3, 23],
      underline: [4, 24],
      overline: [53, 55],
      inverse: [7, 27],
      hidden: [8, 28],
      strikethrough: [9, 29],
    },
    color: {
      black: [30, 39],
      red: [31, 39],
      green: [32, 39],
      yellow: [33, 39],
      blue: [34, 39],
      magenta: [35, 39],
      cyan: [36, 39],
      white: [37, 39],
      blackBright: [90, 39],
      gray: [90, 39],
      grey: [90, 39],
      redBright: [91, 39],
      greenBright: [92, 39],
      yellowBright: [93, 39],
      blueBright: [94, 39],
      magentaBright: [95, 39],
      cyanBright: [96, 39],
      whiteBright: [97, 39],
    },
    bgColor: {
      bgBlack: [40, 49],
      bgRed: [41, 49],
      bgGreen: [42, 49],
      bgYellow: [43, 49],
      bgBlue: [44, 49],
      bgMagenta: [45, 49],
      bgCyan: [46, 49],
      bgWhite: [47, 49],
      bgBlackBright: [100, 49],
      bgGray: [100, 49],
      bgGrey: [100, 49],
      bgRedBright: [101, 49],
      bgGreenBright: [102, 49],
      bgYellowBright: [103, 49],
      bgBlueBright: [104, 49],
      bgMagentaBright: [105, 49],
      bgCyanBright: [106, 49],
      bgWhiteBright: [107, 49],
    },
  },
  BPn = Object.keys(Jl.modifier),
  Sdr = Object.keys(Jl.color),
  bdr = Object.keys(Jl.bgColor),
  RPn = [...Sdr, ...bdr];
function Ddr() {
  let t = new Map();
  for (let [e, r] of Object.entries(Jl)) {
    for (let [n, i] of Object.entries(r))
      ((Jl[n] = { open: `\x1B[${i[0]}m`, close: `\x1B[${i[1]}m` }),
        (r[n] = Jl[n]),
        t.set(i[0], i[1]));
    Object.defineProperty(Jl, e, { value: r, enumerable: !1 });
  }
  return (
    Object.defineProperty(Jl, 'codes', { value: t, enumerable: !1 }),
    (Jl.color.close = '\x1B[39m'),
    (Jl.bgColor.close = '\x1B[49m'),
    (Jl.color.ansi = jje()),
    (Jl.color.ansi256 = Yje()),
    (Jl.color.ansi16m = Wje()),
    (Jl.bgColor.ansi = jje(10)),
    (Jl.bgColor.ansi256 = Yje(10)),
    (Jl.bgColor.ansi16m = Wje(10)),
    Object.defineProperties(Jl, {
      rgbToAnsi256: {
        value: (e, r, n) =>
          e === r && r === n
            ? e < 8
              ? 16
              : e > 248
                ? 231
                : Math.round(((e - 8) / 247) * 24) + 232
            : 16 +
              36 * Math.round((e / 255) * 5) +
              6 * Math.round((r / 255) * 5) +
              Math.round((n / 255) * 5),
        enumerable: !1,
      },
      hexToRgb: {
        value: (e) => {
          let r = /[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));
          if (!r) return [0, 0, 0];
          let [n] = r;
          n.length === 3 && (n = [...n].map((a) => a + a).join(''));
          let i = Number.parseInt(n, 16);
          return [(i >> 16) & 255, (i >> 8) & 255, i & 255];
        },
        enumerable: !1,
      },
      hexToAnsi256: { value: (e) => Jl.rgbToAnsi256(...Jl.hexToRgb(e)), enumerable: !1 },
      ansi256ToAnsi: {
        value: (e) => {
          if (e < 8) return 30 + e;
          if (e < 16) return 90 + (e - 8);
          let r, n, i;
          if (e >= 232) ((r = ((e - 232) * 10 + 8) / 255), (n = r), (i = r));
          else {
            e -= 16;
            let o = e % 36;
            ((r = Math.floor(e / 36) / 5), (n = Math.floor(o / 6) / 5), (i = (o % 6) / 5));
          }
          let a = Math.max(r, n, i) * 2;
          if (a === 0) return 30;
          let s = 30 + ((Math.round(i) << 2) | (Math.round(n) << 1) | Math.round(r));
          return (a === 2 && (s += 60), s);
        },
        enumerable: !1,
      },
      rgbToAnsi: { value: (e, r, n) => Jl.ansi256ToAnsi(Jl.rgbToAnsi256(e, r, n)), enumerable: !1 },
      hexToAnsi: { value: (e) => Jl.ansi256ToAnsi(Jl.hexToAnsi256(e)), enumerable: !1 },
    }),
    Jl
  );
}
var wdr = Ddr(),
  z2e = wdr;
var Idr = /^[-][-]$/,
  Jje = ['\x1B', '\x9B'],
  _K = (t) => `${Jje[0]}[${t}m`,
  zje = (t, e, r) => {
    let n = [];
    t = [...t];
    for (let i of t) {
      let a = i;
      i.includes(';') && (i = i.split(';')[0][0] + '0');
      let s = z2e.codes.get(Number.parseInt(i, 10));
      if (s) {
        let o = t.indexOf(s.toString());
        o === -1 ? n.push(_K(e ? s : a)) : t.splice(o, 1);
      } else if (e) {
        n.push(_K(0));
        break;
      } else n.push(_K(a));
    }
    if (e && ((n = n.filter((i, a) => n.indexOf(i) === a)), r !== void 0)) {
      let i = _K(z2e.codes.get(Number.parseInt(r, 10)));
      n = n.reduce((a, s) => (s === i ? [s, ...a] : [...a, s]), []);
    }
    return n.join('');
  };
function gE(t, e, r) {
  let n = [...t],
    i = [],
    a = typeof r == 'number' ? r : n.length,
    s = !1,
    o,
    l = 0,
    u = '';
  for (let [c, p] of n.entries()) {
    let h = !1;
    if (Jje.includes(p)) {
      let m = /\d[^m]*/.exec(t.slice(c, c + 18));
      ((o = m && m.length > 0 ? m[0] : void 0), l < a && ((s = !0), o !== void 0 && i.push(o)));
    } else s && p === 'm' && ((s = !1), (h = !0));
    if (
      (!s && !h && l++,
      !Idr.test(p) && W2e(p.codePointAt()) && (l++, typeof r != 'number' && a++),
      l > e && l <= a)
    )
      u += p;
    else if (l === e && !s && o !== void 0) u = zje(i);
    else if (l >= a) {
      u += zje(i, !0, o);
      break;
    }
  }
  return u;
}
var Zje = qe(Xje(), 1),
  Tdr = new Intl.Segmenter(),
  xdr = /^\p{Default_Ignorable_Code_Point}$/u;
function nN(t, e = {}) {
  if (typeof t != 'string' || t.length === 0) return 0;
  let { ambiguousIsNarrow: r = !0, countAnsiEscapeCodes: n = !1 } = e;
  if ((n || (t = Qh(t)), t.length === 0)) return 0;
  let i = 0,
    a = { ambiguousAsWide: !r };
  for (let { segment: s } of Tdr.segment(t)) {
    let o = s.codePointAt(0);
    if (
      !(o <= 31 || (o >= 127 && o <= 159)) &&
      !((o >= 8203 && o <= 8207) || o === 65279) &&
      !(
        (o >= 768 && o <= 879) ||
        (o >= 6832 && o <= 6911) ||
        (o >= 7616 && o <= 7679) ||
        (o >= 8400 && o <= 8447) ||
        (o >= 65056 && o <= 65071)
      ) &&
      !(o >= 55296 && o <= 57343) &&
      !(o >= 65024 && o <= 65039) &&
      !xdr.test(s)
    ) {
      if ((0, Zje.default)().test(s)) {
        i += 2;
        continue;
      }
      i += eC(o, a);
    }
  }
  return i;
}
function SK(t, e, r) {
  if (t.charAt(e) === ' ') return e;
  let n = r ? 1 : -1;
  for (let i = 0; i <= 3; i++) {
    let a = e + i * n;
    if (t.charAt(a) === ' ') return a;
  }
  return e;
}
function J2e(t, e, r = {}) {
  let { position: n = 'end', space: i = !1, preferTruncationOnSpace: a = !1 } = r,
    { truncationCharacter: s = '' } = r;
  if (typeof t != 'string')
    throw new TypeError(`Expected \`input\` to be a string, got ${typeof t}`);
  if (typeof e != 'number')
    throw new TypeError(`Expected \`columns\` to be a number, got ${typeof e}`);
  if (e < 1) return '';
  if (e === 1) return s;
  let o = nN(t);
  if (o <= e) return t;
  if (n === 'start') {
    if (a) {
      let l = SK(t, o - e + 1, !0);
      return s + gE(t, l, o).trim();
    }
    return (i === !0 && (s += ' '), s + gE(t, o - e + nN(s), o));
  }
  if (n === 'middle') {
    i === !0 && (s = ` ${s} `);
    let l = Math.floor(e / 2);
    if (a) {
      let u = SK(t, l),
        c = SK(t, o - (e - l) + 1, !0);
      return gE(t, 0, u) + s + gE(t, c, o).trim();
    }
    return gE(t, 0, l) + s + gE(t, o - (e - l) + nN(s), o);
  }
  if (n === 'end') {
    if (a) {
      let l = SK(t, e - 1);
      return gE(t, 0, l) + s;
    }
    return (i === !0 && (s = ` ${s}`), gE(t, 0, e - nN(s)) + s);
  }
  throw new Error(
    `Expected \`options.position\` to be either \`start\`, \`middle\` or \`end\`, got ${n}`
  );
}
var eYe = {},
  Bdr = (t, e, r) => {
    let n = t + String(e) + String(r),
      i = eYe[n];
    if (i) return i;
    let a = t;
    if ((r === 'wrap' && (a = Y2e(t, e, { trim: !1, hard: !0 })), r.startsWith('truncate'))) {
      let s = 'end';
      (r === 'truncate-middle' && (s = 'middle'),
        r === 'truncate-start' && (s = 'start'),
        (a = J2e(t, e, { position: s })));
    }
    return ((eYe[n] = a), a);
  },
  bK = Bdr;
var tYe = (t) => {
    let e = '';
    for (let r = 0; r < t.childNodes.length; r++) {
      let n = t.childNodes[r];
      if (n === void 0) continue;
      let i = '';
      (n.nodeName === '#text'
        ? (i = n.nodeValue)
        : ((n.nodeName === 'ink-text' || n.nodeName === 'ink-virtual-text') && (i = tYe(n)),
          i.length > 0 &&
            typeof n.internal_transform == 'function' &&
            (i = n.internal_transform(i, r))),
        (e += i));
    }
    return e;
  },
  DK = tYe;
var wK = (t) => {
    let e = {
      nodeName: t,
      style: {},
      attributes: {},
      childNodes: [],
      parentNode: void 0,
      yogaNode: t === 'ink-virtual-text' ? void 0 : Kr.Node.create(),
    };
    return (t === 'ink-text' && e.yogaNode?.setMeasureFunc(Rdr.bind(null, e)), e);
  },
  IK = (t, e) => {
    (e.parentNode && QU(e.parentNode, e),
      (e.parentNode = t),
      t.childNodes.push(e),
      e.yogaNode && t.yogaNode?.insertChild(e.yogaNode, t.yogaNode.getChildCount()),
      (t.nodeName === 'ink-text' || t.nodeName === 'ink-virtual-text') && TK(t));
  },
  K2e = (t, e, r) => {
    (e.parentNode && QU(e.parentNode, e), (e.parentNode = t));
    let n = t.childNodes.indexOf(r);
    if (n >= 0) {
      (t.childNodes.splice(n, 0, e), e.yogaNode && t.yogaNode?.insertChild(e.yogaNode, n));
      return;
    }
    (t.childNodes.push(e),
      e.yogaNode && t.yogaNode?.insertChild(e.yogaNode, t.yogaNode.getChildCount()),
      (t.nodeName === 'ink-text' || t.nodeName === 'ink-virtual-text') && TK(t));
  },
  QU = (t, e) => {
    (e.yogaNode && e.parentNode?.yogaNode?.removeChild(e.yogaNode), (e.parentNode = void 0));
    let r = t.childNodes.indexOf(e);
    (r >= 0 && t.childNodes.splice(r, 1),
      (t.nodeName === 'ink-text' || t.nodeName === 'ink-virtual-text') && TK(t));
  },
  X2e = (t, e, r) => {
    t.attributes[e] = r;
  },
  Z2e = (t, e) => {
    t.style = e;
  },
  rYe = (t) => {
    let e = { nodeName: '#text', nodeValue: t, yogaNode: void 0, parentNode: void 0, style: {} };
    return (kU(e, t), e);
  },
  Rdr = function (t, e) {
    let r = t.nodeName === '#text' ? t.nodeValue : DK(t),
      n = q2e(r);
    if (n.width <= e || (n.width >= 1 && e > 0 && e < 1)) return n;
    let i = t.style?.textWrap ?? 'wrap',
      a = bK(r, e, i);
    return q2e(a);
  },
  nYe = (t) => {
    if (t?.parentNode) return t.yogaNode ?? nYe(t.parentNode);
  },
  TK = (t) => {
    nYe(t)?.markDirty();
  },
  kU = (t, e) => {
    (typeof e != 'string' && (e = String(e)), (t.nodeValue = e), TK(t));
  };
var Odr = (t, e) => {
    'position' in e &&
      t.setPositionType(
        e.position === 'absolute' ? Kr.POSITION_TYPE_ABSOLUTE : Kr.POSITION_TYPE_RELATIVE
      );
  },
  Mdr = (t, e) => {
    ('margin' in e && t.setMargin(Kr.EDGE_ALL, e.margin ?? 0),
      'marginX' in e && t.setMargin(Kr.EDGE_HORIZONTAL, e.marginX ?? 0),
      'marginY' in e && t.setMargin(Kr.EDGE_VERTICAL, e.marginY ?? 0),
      'marginLeft' in e && t.setMargin(Kr.EDGE_START, e.marginLeft || 0),
      'marginRight' in e && t.setMargin(Kr.EDGE_END, e.marginRight || 0),
      'marginTop' in e && t.setMargin(Kr.EDGE_TOP, e.marginTop || 0),
      'marginBottom' in e && t.setMargin(Kr.EDGE_BOTTOM, e.marginBottom || 0));
  },
  Ldr = (t, e) => {
    ('padding' in e && t.setPadding(Kr.EDGE_ALL, e.padding ?? 0),
      'paddingX' in e && t.setPadding(Kr.EDGE_HORIZONTAL, e.paddingX ?? 0),
      'paddingY' in e && t.setPadding(Kr.EDGE_VERTICAL, e.paddingY ?? 0),
      'paddingLeft' in e && t.setPadding(Kr.EDGE_LEFT, e.paddingLeft || 0),
      'paddingRight' in e && t.setPadding(Kr.EDGE_RIGHT, e.paddingRight || 0),
      'paddingTop' in e && t.setPadding(Kr.EDGE_TOP, e.paddingTop || 0),
      'paddingBottom' in e && t.setPadding(Kr.EDGE_BOTTOM, e.paddingBottom || 0));
  },
  Fdr = (t, e) => {
    ('flexGrow' in e && t.setFlexGrow(e.flexGrow ?? 0),
      'flexShrink' in e && t.setFlexShrink(typeof e.flexShrink == 'number' ? e.flexShrink : 1),
      'flexWrap' in e &&
        (e.flexWrap === 'nowrap' && t.setFlexWrap(Kr.WRAP_NO_WRAP),
        e.flexWrap === 'wrap' && t.setFlexWrap(Kr.WRAP_WRAP),
        e.flexWrap === 'wrap-reverse' && t.setFlexWrap(Kr.WRAP_WRAP_REVERSE)),
      'flexDirection' in e &&
        (e.flexDirection === 'row' && t.setFlexDirection(Kr.FLEX_DIRECTION_ROW),
        e.flexDirection === 'row-reverse' && t.setFlexDirection(Kr.FLEX_DIRECTION_ROW_REVERSE),
        e.flexDirection === 'column' && t.setFlexDirection(Kr.FLEX_DIRECTION_COLUMN),
        e.flexDirection === 'column-reverse' &&
          t.setFlexDirection(Kr.FLEX_DIRECTION_COLUMN_REVERSE)),
      'flexBasis' in e &&
        (typeof e.flexBasis == 'number'
          ? t.setFlexBasis(e.flexBasis)
          : typeof e.flexBasis == 'string'
            ? t.setFlexBasisPercent(Number.parseInt(e.flexBasis, 10))
            : t.setFlexBasis(Number.NaN)),
      'alignItems' in e &&
        ((e.alignItems === 'stretch' || !e.alignItems) && t.setAlignItems(Kr.ALIGN_STRETCH),
        e.alignItems === 'flex-start' && t.setAlignItems(Kr.ALIGN_FLEX_START),
        e.alignItems === 'center' && t.setAlignItems(Kr.ALIGN_CENTER),
        e.alignItems === 'flex-end' && t.setAlignItems(Kr.ALIGN_FLEX_END)),
      'alignSelf' in e &&
        ((e.alignSelf === 'auto' || !e.alignSelf) && t.setAlignSelf(Kr.ALIGN_AUTO),
        e.alignSelf === 'flex-start' && t.setAlignSelf(Kr.ALIGN_FLEX_START),
        e.alignSelf === 'center' && t.setAlignSelf(Kr.ALIGN_CENTER),
        e.alignSelf === 'flex-end' && t.setAlignSelf(Kr.ALIGN_FLEX_END)),
      'justifyContent' in e &&
        ((e.justifyContent === 'flex-start' || !e.justifyContent) &&
          t.setJustifyContent(Kr.JUSTIFY_FLEX_START),
        e.justifyContent === 'center' && t.setJustifyContent(Kr.JUSTIFY_CENTER),
        e.justifyContent === 'flex-end' && t.setJustifyContent(Kr.JUSTIFY_FLEX_END),
        e.justifyContent === 'space-between' && t.setJustifyContent(Kr.JUSTIFY_SPACE_BETWEEN),
        e.justifyContent === 'space-around' && t.setJustifyContent(Kr.JUSTIFY_SPACE_AROUND),
        e.justifyContent === 'space-evenly' && t.setJustifyContent(Kr.JUSTIFY_SPACE_EVENLY)));
  },
  Pdr = (t, e) => {
    ('width' in e &&
      (typeof e.width == 'number'
        ? t.setWidth(e.width)
        : typeof e.width == 'string'
          ? t.setWidthPercent(Number.parseInt(e.width, 10))
          : t.setWidthAuto()),
      'height' in e &&
        (typeof e.height == 'number'
          ? t.setHeight(e.height)
          : typeof e.height == 'string'
            ? t.setHeightPercent(Number.parseInt(e.height, 10))
            : t.setHeightAuto()),
      'minWidth' in e &&
        (typeof e.minWidth == 'string'
          ? t.setMinWidthPercent(Number.parseInt(e.minWidth, 10))
          : t.setMinWidth(e.minWidth ?? 0)),
      'minHeight' in e &&
        (typeof e.minHeight == 'string'
          ? t.setMinHeightPercent(Number.parseInt(e.minHeight, 10))
          : t.setMinHeight(e.minHeight ?? 0)));
  },
  Qdr = (t, e) => {
    'display' in e && t.setDisplay(e.display === 'flex' ? Kr.DISPLAY_FLEX : Kr.DISPLAY_NONE);
  },
  kdr = (t, e) => {
    if ('borderStyle' in e) {
      let r = e.borderStyle ? 1 : 0;
      (e.borderTop !== !1 && t.setBorder(Kr.EDGE_TOP, r),
        e.borderBottom !== !1 && t.setBorder(Kr.EDGE_BOTTOM, r),
        e.borderLeft !== !1 && t.setBorder(Kr.EDGE_LEFT, r),
        e.borderRight !== !1 && t.setBorder(Kr.EDGE_RIGHT, r));
    }
  },
  Udr = (t, e) => {
    ('gap' in e && t.setGap(Kr.GUTTER_ALL, e.gap ?? 0),
      'columnGap' in e && t.setGap(Kr.GUTTER_COLUMN, e.columnGap ?? 0),
      'rowGap' in e && t.setGap(Kr.GUTTER_ROW, e.rowGap ?? 0));
  },
  Hdr = (t, e = {}) => {
    (Odr(t, e), Mdr(t, e), Ldr(t, e), Fdr(t, e), Pdr(t, e), Qdr(t, e), kdr(t, e), Udr(t, e));
  },
  ege = Hdr;
if (p1r.env.DEV === 'true')
  try {
    await Promise.resolve().then(() => (pWe(), d1r));
  } catch (t) {
    if (t.code === 'ERR_MODULE_NOT_FOUND')
      console.warn(
        `
The environment variable DEV is set to true, so Ink tried to import \`react-devtools-core\`,
but this failed as it was not installed. Debugging with React Devtools requires it.

To install use this command:

$ npm install --save-dev react-devtools-core
				`.trim() +
          `
`
      );
    else throw t;
  }
var fWe = (t, e) => {
    if (t === e) return;
    if (!t) return e;
    let r = {},
      n = !1;
    for (let i of Object.keys(t)) (e ? !Object.hasOwn(e, i) : !0) && ((r[i] = void 0), (n = !0));
    if (e) for (let i of Object.keys(e)) e[i] !== t[i] && ((r[i] = e[i]), (n = !0));
    return n ? r : void 0;
  },
  mWe = (t) => {
    (t?.unsetMeasureFunc(), t?.freeRecursive());
  },
  qK = WU.NoEventPriority,
  Dge,
  P5 = (0, hWe.default)({
    getRootHostContext: () => ({ isInsideText: !1 }),
    prepareForCommit: () => null,
    preparePortalMount: () => null,
    clearContainer: () => !1,
    resetAfterCommit(t) {
      if ((typeof t.onComputeLayout == 'function' && t.onComputeLayout(), t.isStaticDirty)) {
        ((t.isStaticDirty = !1), typeof t.onImmediateRender == 'function' && t.onImmediateRender());
        return;
      }
      typeof t.onRender == 'function' && t.onRender();
    },
    getChildHostContext(t, e) {
      let r = t.isInsideText,
        n = e === 'ink-text' || e === 'ink-virtual-text';
      return r === n ? t : { isInsideText: n };
    },
    shouldSetTextContent: () => !1,
    createInstance(t, e, r, n) {
      if (n.isInsideText && t === 'ink-box')
        throw new Error('<Box> cant be nested inside <Text> component');
      let i = t === 'ink-text' && n.isInsideText ? 'ink-virtual-text' : t,
        a = wK(i);
      for (let [s, o] of Object.entries(e))
        if (s !== 'children') {
          if (s === 'style') {
            (Z2e(a, o), a.yogaNode && ege(a.yogaNode, o));
            continue;
          }
          if (s === 'internal_transform') {
            a.internal_transform = o;
            continue;
          }
          if (s === 'internal_static') {
            ((Dge = r), (a.internal_static = !0), (r.isStaticDirty = !0), (r.staticNode = a));
            continue;
          }
          X2e(a, s, o);
        }
      return a;
    },
    createTextInstance(t, e, r) {
      if (!r.isInsideText)
        throw new Error(`Text string "${t}" must be rendered inside <Text> component`);
      return rYe(t);
    },
    resetTextContent() {},
    hideTextInstance(t) {
      kU(t, '');
    },
    unhideTextInstance(t, e) {
      kU(t, e);
    },
    getPublicInstance: (t) => t,
    hideInstance(t) {
      t.yogaNode?.setDisplay(Kr.DISPLAY_NONE);
    },
    unhideInstance(t) {
      t.yogaNode?.setDisplay(Kr.DISPLAY_FLEX);
    },
    appendInitialChild: IK,
    appendChild: IK,
    insertBefore: K2e,
    finalizeInitialChildren() {
      return !1;
    },
    isPrimaryRenderer: !0,
    supportsMutation: !0,
    supportsPersistence: !1,
    supportsHydration: !1,
    scheduleTimeout: setTimeout,
    cancelTimeout: clearTimeout,
    noTimeout: -1,
    beforeActiveInstanceBlur() {},
    afterActiveInstanceBlur() {},
    detachDeletedInstance() {},
    getInstanceFromNode: () => null,
    prepareScopeUpdate() {},
    getInstanceFromScope: () => null,
    appendChildToContainer: IK,
    insertInContainerBefore: K2e,
    removeChildFromContainer(t, e) {
      (QU(t, e), mWe(e.yogaNode));
    },
    commitUpdate(t, e, r, n) {
      Dge && t.internal_static && (Dge.isStaticDirty = !0);
      let i = fWe(r, n),
        a = fWe(r.style, n.style);
      if (!(!i && !a)) {
        if (i)
          for (let [s, o] of Object.entries(i)) {
            if (s === 'style') {
              Z2e(t, o);
              continue;
            }
            if (s === 'internal_transform') {
              t.internal_transform = o;
              continue;
            }
            if (s === 'internal_static') {
              t.internal_static = !0;
              continue;
            }
            X2e(t, s, o);
          }
        a && t.yogaNode && ege(t.yogaNode, a);
      }
    },
    commitTextUpdate(t, e, r) {
      kU(t, r);
    },
    removeChild(t, e) {
      (QU(t, e), mWe(e.yogaNode));
    },
    setCurrentUpdatePriority(t) {
      qK = t;
    },
    getCurrentUpdatePriority: () => qK,
    resolveUpdatePriority() {
      return qK !== WU.NoEventPriority ? qK : WU.DefaultEventPriority;
    },
    maySuspendCommit() {
      return !1;
    },
    NotPendingTransition: void 0,
    HostTransitionContext: (0, AWe.createContext)(null),
    resetFormInstance() {},
    requestPostPaintCallback() {},
    shouldAttemptEagerTransition() {
      return !1;
    },
    trackSchedulerEvent() {},
    resolveEventType() {
      return null;
    },
    resolveEventTimeStamp() {
      return -1.1;
    },
    preloadInstance() {
      return !0;
    },
    startSuspendingCommit() {},
    suspendInstance() {},
    waitForCommitToBeReady() {
      return null;
    },
  });
function wge(t, e = 1, r = {}) {
  let { indent: n = ' ', includeEmptyLines: i = !1 } = r;
  if (typeof t != 'string')
    throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof t}\``);
  if (typeof e != 'number')
    throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof e}\``);
  if (e < 0) throw new RangeError(`Expected \`count\` to be at least 0, got \`${e}\``);
  if (typeof n != 'string')
    throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof n}\``);
  if (e === 0) return t;
  let a = i ? /^/gm : /^(?!\s*$)/gm;
  return t.replace(a, n.repeat(e));
}
var f1r = (t) =>
    t.getComputedWidth() -
    t.getComputedPadding(Kr.EDGE_LEFT) -
    t.getComputedPadding(Kr.EDGE_RIGHT) -
    t.getComputedBorder(Kr.EDGE_LEFT) -
    t.getComputedBorder(Kr.EDGE_RIGHT),
  gWe = f1r;
var NWe = qe(vWe(), 1);
var CWe =
    (t = 0) =>
    (e) =>
      `\x1B[${e + t}m`,
  _We =
    (t = 0) =>
    (e) =>
      `\x1B[${38 + t};5;${e}m`,
  SWe =
    (t = 0) =>
    (e, r, n) =>
      `\x1B[${38 + t};2;${e};${r};${n}m`,
  Xl = {
    modifier: {
      reset: [0, 0],
      bold: [1, 22],
      dim: [2, 22],
      italic: [3, 23],
      underline: [4, 24],
      overline: [53, 55],
      inverse: [7, 27],
      hidden: [8, 28],
      strikethrough: [9, 29],
    },
    color: {
      black: [30, 39],
      red: [31, 39],
      green: [32, 39],
      yellow: [33, 39],
      blue: [34, 39],
      magenta: [35, 39],
      cyan: [36, 39],
      white: [37, 39],
      blackBright: [90, 39],
      gray: [90, 39],
      grey: [90, 39],
      redBright: [91, 39],
      greenBright: [92, 39],
      yellowBright: [93, 39],
      blueBright: [94, 39],
      magentaBright: [95, 39],
      cyanBright: [96, 39],
      whiteBright: [97, 39],
    },
    bgColor: {
      bgBlack: [40, 49],
      bgRed: [41, 49],
      bgGreen: [42, 49],
      bgYellow: [43, 49],
      bgBlue: [44, 49],
      bgMagenta: [45, 49],
      bgCyan: [46, 49],
      bgWhite: [47, 49],
      bgBlackBright: [100, 49],
      bgGray: [100, 49],
      bgGrey: [100, 49],
      bgRedBright: [101, 49],
      bgGreenBright: [102, 49],
      bgYellowBright: [103, 49],
      bgBlueBright: [104, 49],
      bgMagentaBright: [105, 49],
      bgCyanBright: [106, 49],
      bgWhiteBright: [107, 49],
    },
  },
  xQn = Object.keys(Xl.modifier),
  h1r = Object.keys(Xl.color),
  A1r = Object.keys(Xl.bgColor),
  BQn = [...h1r, ...A1r];
function g1r() {
  let t = new Map();
  for (let [e, r] of Object.entries(Xl)) {
    for (let [n, i] of Object.entries(r))
      ((Xl[n] = { open: `\x1B[${i[0]}m`, close: `\x1B[${i[1]}m` }),
        (r[n] = Xl[n]),
        t.set(i[0], i[1]));
    Object.defineProperty(Xl, e, { value: r, enumerable: !1 });
  }
  return (
    Object.defineProperty(Xl, 'codes', { value: t, enumerable: !1 }),
    (Xl.color.close = '\x1B[39m'),
    (Xl.bgColor.close = '\x1B[49m'),
    (Xl.color.ansi = CWe()),
    (Xl.color.ansi256 = _We()),
    (Xl.color.ansi16m = SWe()),
    (Xl.bgColor.ansi = CWe(10)),
    (Xl.bgColor.ansi256 = _We(10)),
    (Xl.bgColor.ansi16m = SWe(10)),
    Object.defineProperties(Xl, {
      rgbToAnsi256: {
        value(e, r, n) {
          return e === r && r === n
            ? e < 8
              ? 16
              : e > 248
                ? 231
                : Math.round(((e - 8) / 247) * 24) + 232
            : 16 +
                36 * Math.round((e / 255) * 5) +
                6 * Math.round((r / 255) * 5) +
                Math.round((n / 255) * 5);
        },
        enumerable: !1,
      },
      hexToRgb: {
        value(e) {
          let r = /[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));
          if (!r) return [0, 0, 0];
          let [n] = r;
          n.length === 3 && (n = [...n].map((a) => a + a).join(''));
          let i = Number.parseInt(n, 16);
          return [(i >> 16) & 255, (i >> 8) & 255, i & 255];
        },
        enumerable: !1,
      },
      hexToAnsi256: { value: (e) => Xl.rgbToAnsi256(...Xl.hexToRgb(e)), enumerable: !1 },
      ansi256ToAnsi: {
        value(e) {
          if (e < 8) return 30 + e;
          if (e < 16) return 90 + (e - 8);
          let r, n, i;
          if (e >= 232) ((r = ((e - 232) * 10 + 8) / 255), (n = r), (i = r));
          else {
            e -= 16;
            let o = e % 36;
            ((r = Math.floor(e / 36) / 5), (n = Math.floor(o / 6) / 5), (i = (o % 6) / 5));
          }
          let a = Math.max(r, n, i) * 2;
          if (a === 0) return 30;
          let s = 30 + ((Math.round(i) << 2) | (Math.round(n) << 1) | Math.round(r));
          return (a === 2 && (s += 60), s);
        },
        enumerable: !1,
      },
      rgbToAnsi: { value: (e, r, n) => Xl.ansi256ToAnsi(Xl.rgbToAnsi256(e, r, n)), enumerable: !1 },
      hexToAnsi: { value: (e) => Xl.ansi256ToAnsi(Xl.hexToAnsi256(e)), enumerable: !1 },
    }),
    Xl
  );
}
var E1r = g1r(),
  $6 = E1r;
import Tge from 'node:process';
import y1r from 'node:os';
import bWe from 'node:tty';
function D2(t, e = globalThis.Deno ? globalThis.Deno.args : Tge.argv) {
  let r = t.startsWith('-') ? '' : t.length === 1 ? '-' : '--',
    n = e.indexOf(r + t),
    i = e.indexOf('--');
  return n !== -1 && (i === -1 || n < i);
}
var { env: Nu } = Tge,
  $K;
D2('no-color') || D2('no-colors') || D2('color=false') || D2('color=never')
  ? ($K = 0)
  : (D2('color') || D2('colors') || D2('color=true') || D2('color=always')) && ($K = 1);
function v1r() {
  if ('FORCE_COLOR' in Nu)
    return Nu.FORCE_COLOR === 'true'
      ? 1
      : Nu.FORCE_COLOR === 'false'
        ? 0
        : Nu.FORCE_COLOR.length === 0
          ? 1
          : Math.min(Number.parseInt(Nu.FORCE_COLOR, 10), 3);
}
function C1r(t) {
  return t === 0 ? !1 : { level: t, hasBasic: !0, has256: t >= 2, has16m: t >= 3 };
}
function _1r(t, { streamIsTTY: e, sniffFlags: r = !0 } = {}) {
  let n = v1r();
  n !== void 0 && ($K = n);
  let i = r ? $K : n;
  if (i === 0) return 0;
  if (r) {
    if (D2('color=16m') || D2('color=full') || D2('color=truecolor')) return 3;
    if (D2('color=256')) return 2;
  }
  if ('TF_BUILD' in Nu && 'AGENT_NAME' in Nu) return 1;
  if (t && !e && i === void 0) return 0;
  let a = i || 0;
  if (Nu.TERM === 'dumb') return a;
  if (Tge.platform === 'win32') {
    let s = y1r.release().split('.');
    return Number(s[0]) >= 10 && Number(s[2]) >= 10586 ? (Number(s[2]) >= 14931 ? 3 : 2) : 1;
  }
  if ('CI' in Nu)
    return ['GITHUB_ACTIONS', 'GITEA_ACTIONS', 'CIRCLECI'].some((s) => s in Nu)
      ? 3
      : ['TRAVIS', 'APPVEYOR', 'GITLAB_CI', 'BUILDKITE', 'DRONE'].some((s) => s in Nu) ||
          Nu.CI_NAME === 'codeship'
        ? 1
        : a;
  if ('TEAMCITY_VERSION' in Nu)
    return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Nu.TEAMCITY_VERSION) ? 1 : 0;
  if (Nu.COLORTERM === 'truecolor' || Nu.TERM === 'xterm-kitty') return 3;
  if ('TERM_PROGRAM' in Nu) {
    let s = Number.parseInt((Nu.TERM_PROGRAM_VERSION || '').split('.')[0], 10);
    switch (Nu.TERM_PROGRAM) {
      case 'iTerm.app':
        return s >= 3 ? 3 : 2;
      case 'Apple_Terminal':
        return 2;
    }
  }
  return /-256(color)?$/i.test(Nu.TERM)
    ? 2
    : /^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Nu.TERM) ||
        'COLORTERM' in Nu
      ? 1
      : a;
}
function DWe(t, e = {}) {
  let r = _1r(t, { streamIsTTY: t && t.isTTY, ...e });
  return C1r(r);
}
var S1r = { stdout: DWe({ isTTY: bWe.isatty(1) }), stderr: DWe({ isTTY: bWe.isatty(2) }) },
  wWe = S1r;
function IWe(t, e, r) {
  let n = t.indexOf(e);
  if (n === -1) return t;
  let i = e.length,
    a = 0,
    s = '';
  do ((s += t.slice(a, n) + e + r), (a = n + i), (n = t.indexOf(e, a)));
  while (n !== -1);
  return ((s += t.slice(a)), s);
}
function TWe(t, e, r, n) {
  let i = 0,
    a = '';
  do {
    let s = t[n - 1] === '\r';
    ((a +=
      t.slice(i, s ? n - 1 : n) +
      e +
      (s
        ? `\r
`
        : `
`) +
      r),
      (i = n + 1),
      (n = t.indexOf(
        `
`,
        i
      )));
  } while (n !== -1);
  return ((a += t.slice(i)), a);
}
var { stdout: xWe, stderr: BWe } = wWe,
  xge = Symbol('GENERATOR'),
  dN = Symbol('STYLER'),
  zU = Symbol('IS_EMPTY'),
  RWe = ['ansi', 'ansi', 'ansi256', 'ansi16m'],
  pN = Object.create(null),
  b1r = (t, e = {}) => {
    if (e.level && !(Number.isInteger(e.level) && e.level >= 0 && e.level <= 3))
      throw new Error('The `level` option should be an integer from 0 to 3');
    let r = xWe ? xWe.level : 0;
    t.level = e.level === void 0 ? r : e.level;
  };
var D1r = (t) => {
  let e = (...r) => r.join(' ');
  return (b1r(e, t), Object.setPrototypeOf(e, JU.prototype), e);
};
function JU(t) {
  return D1r(t);
}
Object.setPrototypeOf(JU.prototype, Function.prototype);
for (let [t, e] of Object.entries($6))
  pN[t] = {
    get() {
      let r = jK(this, Rge(e.open, e.close, this[dN]), this[zU]);
      return (Object.defineProperty(this, t, { value: r }), r);
    },
  };
pN.visible = {
  get() {
    let t = jK(this, this[dN], !0);
    return (Object.defineProperty(this, 'visible', { value: t }), t);
  },
};
var Bge = (t, e, r, ...n) =>
    t === 'rgb'
      ? e === 'ansi16m'
        ? $6[r].ansi16m(...n)
        : e === 'ansi256'
          ? $6[r].ansi256($6.rgbToAnsi256(...n))
          : $6[r].ansi($6.rgbToAnsi(...n))
      : t === 'hex'
        ? Bge('rgb', e, r, ...$6.hexToRgb(...n))
        : $6[r][t](...n),
  w1r = ['rgb', 'hex', 'ansi256'];
for (let t of w1r) {
  pN[t] = {
    get() {
      let { level: r } = this;
      return function (...n) {
        let i = Rge(Bge(t, RWe[r], 'color', ...n), $6.color.close, this[dN]);
        return jK(this, i, this[zU]);
      };
    },
  };
  let e = 'bg' + t[0].toUpperCase() + t.slice(1);
  pN[e] = {
    get() {
      let { level: r } = this;
      return function (...n) {
        let i = Rge(Bge(t, RWe[r], 'bgColor', ...n), $6.bgColor.close, this[dN]);
        return jK(this, i, this[zU]);
      };
    },
  };
}
var I1r = Object.defineProperties(() => {}, {
    ...pN,
    level: {
      enumerable: !0,
      get() {
        return this[xge].level;
      },
      set(t) {
        this[xge].level = t;
      },
    },
  }),
  Rge = (t, e, r) => {
    let n, i;
    return (
      r === void 0 ? ((n = t), (i = e)) : ((n = r.openAll + t), (i = e + r.closeAll)),
      { open: t, close: e, openAll: n, closeAll: i, parent: r }
    );
  },
  jK = (t, e, r) => {
    let n = (...i) => T1r(n, i.length === 1 ? '' + i[0] : i.join(' '));
    return (Object.setPrototypeOf(n, I1r), (n[xge] = t), (n[dN] = e), (n[zU] = r), n);
  },
  T1r = (t, e) => {
    if (t.level <= 0 || !e) return t[zU] ? '' : e;
    let r = t[dN];
    if (r === void 0) return e;
    let { openAll: n, closeAll: i } = r;
    if (e.includes('\x1B')) for (; r !== void 0; ) ((e = IWe(e, r.close, r.open)), (r = r.parent));
    let a = e.indexOf(`
`);
    return (a !== -1 && (e = TWe(e, i, n, a)), n + e + i);
  };
Object.defineProperties(JU.prototype, pN);
var x1r = JU(),
  UQn = JU({ level: BWe ? BWe.level : 0 });
var Ou = x1r;
var B1r = /^rgb\(\s?(\d+),\s?(\d+),\s?(\d+)\s?\)$/,
  R1r = /^ansi256\(\s?(\d+)\s?\)$/,
  N1r = (t) => t in Ou,
  O1r = (t, e, r) => {
    if (!e) return t;
    if (N1r(e)) {
      if (r === 'foreground') return Ou[e](t);
      let n = `bg${e[0].toUpperCase() + e.slice(1)}`;
      return Ou[n](t);
    }
    if (e.startsWith('#')) return r === 'foreground' ? Ou.hex(e)(t) : Ou.bgHex(e)(t);
    if (e.startsWith('ansi256')) {
      let n = R1r.exec(e);
      if (!n) return t;
      let i = Number(n[1]);
      return r === 'foreground' ? Ou.ansi256(i)(t) : Ou.bgAnsi256(i)(t);
    }
    if (e.startsWith('rgb')) {
      let n = B1r.exec(e);
      if (!n) return t;
      let i = Number(n[1]),
        a = Number(n[2]),
        s = Number(n[3]);
      return r === 'foreground' ? Ou.rgb(i, a, s)(t) : Ou.bgRgb(i, a, s)(t);
    }
    return t;
  },
  yE = O1r;
var M1r = (t, e, r, n) => {
    if (r.style.borderStyle) {
      let i = r.yogaNode.getComputedWidth(),
        a = r.yogaNode.getComputedHeight(),
        s =
          typeof r.style.borderStyle == 'string'
            ? NWe.default[r.style.borderStyle]
            : r.style.borderStyle,
        o = r.style.borderTopColor ?? r.style.borderColor,
        l = r.style.borderBottomColor ?? r.style.borderColor,
        u = r.style.borderLeftColor ?? r.style.borderColor,
        c = r.style.borderRightColor ?? r.style.borderColor,
        p = r.style.borderTopDimColor ?? r.style.borderDimColor,
        h = r.style.borderBottomDimColor ?? r.style.borderDimColor,
        m = r.style.borderLeftDimColor ?? r.style.borderDimColor,
        E = r.style.borderRightDimColor ?? r.style.borderDimColor,
        v = r.style.borderTop !== !1,
        g = r.style.borderBottom !== !1,
        _ = r.style.borderLeft !== !1,
        S = r.style.borderRight !== !1,
        b = i - (_ ? 1 : 0) - (S ? 1 : 0),
        I = v
          ? yE((_ ? s.topLeft : '') + s.top.repeat(b) + (S ? s.topRight : ''), o, 'foreground')
          : void 0;
      v && p && (I = Ou.dim(I));
      let R = a;
      (v && (R -= 1), g && (R -= 1));
      let F = (
        yE(s.left, u, 'foreground') +
        `
`
      ).repeat(R);
      m && (F = Ou.dim(F));
      let G = (
        yE(s.right, c, 'foreground') +
        `
`
      ).repeat(R);
      E && (G = Ou.dim(G));
      let U = g
        ? yE(
            (_ ? s.bottomLeft : '') + s.bottom.repeat(b) + (S ? s.bottomRight : ''),
            l,
            'foreground'
          )
        : void 0;
      g && h && (U = Ou.dim(U));
      let M = v ? 1 : 0;
      (I && n.write(t, e, I, { transformers: [] }),
        _ && n.write(t, e + M, F, { transformers: [] }),
        S && n.write(t + i - 1, e + M, G, { transformers: [] }),
        U && n.write(t, e + a - 1, U, { transformers: [] }));
    }
  },
  OWe = M1r;
var L1r = (t, e, r, n) => {
    if (!r.style.backgroundColor) return;
    let i = r.yogaNode.getComputedWidth(),
      a = r.yogaNode.getComputedHeight(),
      s = r.style.borderStyle && r.style.borderLeft !== !1 ? 1 : 0,
      o = r.style.borderStyle && r.style.borderRight !== !1 ? 1 : 0,
      l = r.style.borderStyle && r.style.borderTop !== !1 ? 1 : 0,
      u = r.style.borderStyle && r.style.borderBottom !== !1 ? 1 : 0,
      c = i - s - o,
      p = a - l - u;
    if (!(c > 0 && p > 0)) return;
    let h = yE(' '.repeat(c), r.style.backgroundColor, 'background');
    for (let m = 0; m < p; m++) n.write(t + s, e + l + m, h, { transformers: [] });
  },
  MWe = L1r;
var F1r = (t, e) => {
    let r = t.childNodes[0]?.yogaNode;
    if (r) {
      let n = r.getComputedLeft(),
        i = r.getComputedTop();
      e =
        `
`.repeat(i) + wge(e, n);
    }
    return e;
  },
  LWe = (t, e, r) => {
    let { offsetX: n = 0, offsetY: i = 0, transformers: a = [], skipStaticElements: s } = r;
    if (s && t.internal_static) return;
    let { yogaNode: o } = t;
    if (o) {
      if (o.getDisplay() === Kr.DISPLAY_NONE) return;
      let l = n + o.getComputedLeft(),
        u = i + o.getComputedTop(),
        c = a;
      if (
        (typeof t.internal_transform == 'function' && (c = [t.internal_transform, ...a]),
        t.nodeName === 'ink-text')
      ) {
        let h = DK(t);
        if (h.length > 0) {
          let m = OD(h),
            E = gWe(o);
          if (m > E) {
            let v = t.style.textWrap ?? 'wrap';
            h = bK(h, E, v);
          }
          ((h = F1r(t, h)), e.write(l, u, h, { transformers: c }));
        }
        return;
      }
      let p = !1;
      if (t.nodeName === 'ink-box') {
        (MWe(l, u, t, e), OWe(l, u, t, e));
        let h = t.style.overflowX === 'hidden' || t.style.overflow === 'hidden',
          m = t.style.overflowY === 'hidden' || t.style.overflow === 'hidden';
        if (h || m) {
          let E = h ? l + o.getComputedBorder(Kr.EDGE_LEFT) : void 0,
            v = h ? l + o.getComputedWidth() - o.getComputedBorder(Kr.EDGE_RIGHT) : void 0,
            g = m ? u + o.getComputedBorder(Kr.EDGE_TOP) : void 0,
            _ = m ? u + o.getComputedHeight() - o.getComputedBorder(Kr.EDGE_BOTTOM) : void 0;
          (e.clip({ x1: E, x2: v, y1: g, y2: _ }), (p = !0));
        }
      }
      if (t.nodeName === 'ink-root' || t.nodeName === 'ink-box') {
        for (let h of t.childNodes)
          LWe(h, e, { offsetX: l, offsetY: u, transformers: c, skipStaticElements: s });
        p && e.unclip();
      }
    }
  },
  Nge = LWe;
var FWe =
    (t = 0) =>
    (e) =>
      `\x1B[${e + t}m`,
  PWe =
    (t = 0) =>
    (e) =>
      `\x1B[${38 + t};5;${e}m`,
  QWe =
    (t = 0) =>
    (e, r, n) =>
      `\x1B[${38 + t};2;${e};${r};${n}m`,
  Zl = {
    modifier: {
      reset: [0, 0],
      bold: [1, 22],
      dim: [2, 22],
      italic: [3, 23],
      underline: [4, 24],
      overline: [53, 55],
      inverse: [7, 27],
      hidden: [8, 28],
      strikethrough: [9, 29],
    },
    color: {
      black: [30, 39],
      red: [31, 39],
      green: [32, 39],
      yellow: [33, 39],
      blue: [34, 39],
      magenta: [35, 39],
      cyan: [36, 39],
      white: [37, 39],
      blackBright: [90, 39],
      gray: [90, 39],
      grey: [90, 39],
      redBright: [91, 39],
      greenBright: [92, 39],
      yellowBright: [93, 39],
      blueBright: [94, 39],
      magentaBright: [95, 39],
      cyanBright: [96, 39],
      whiteBright: [97, 39],
    },
    bgColor: {
      bgBlack: [40, 49],
      bgRed: [41, 49],
      bgGreen: [42, 49],
      bgYellow: [43, 49],
      bgBlue: [44, 49],
      bgMagenta: [45, 49],
      bgCyan: [46, 49],
      bgWhite: [47, 49],
      bgBlackBright: [100, 49],
      bgGray: [100, 49],
      bgGrey: [100, 49],
      bgRedBright: [101, 49],
      bgGreenBright: [102, 49],
      bgYellowBright: [103, 49],
      bgBlueBright: [104, 49],
      bgMagentaBright: [105, 49],
      bgCyanBright: [106, 49],
      bgWhiteBright: [107, 49],
    },
  },
  ikn = Object.keys(Zl.modifier),
  P1r = Object.keys(Zl.color),
  Q1r = Object.keys(Zl.bgColor),
  akn = [...P1r, ...Q1r];
function k1r() {
  let t = new Map();
  for (let [e, r] of Object.entries(Zl)) {
    for (let [n, i] of Object.entries(r))
      ((Zl[n] = { open: `\x1B[${i[0]}m`, close: `\x1B[${i[1]}m` }),
        (r[n] = Zl[n]),
        t.set(i[0], i[1]));
    Object.defineProperty(Zl, e, { value: r, enumerable: !1 });
  }
  return (
    Object.defineProperty(Zl, 'codes', { value: t, enumerable: !1 }),
    (Zl.color.close = '\x1B[39m'),
    (Zl.bgColor.close = '\x1B[49m'),
    (Zl.color.ansi = FWe()),
    (Zl.color.ansi256 = PWe()),
    (Zl.color.ansi16m = QWe()),
    (Zl.bgColor.ansi = FWe(10)),
    (Zl.bgColor.ansi256 = PWe(10)),
    (Zl.bgColor.ansi16m = QWe(10)),
    Object.defineProperties(Zl, {
      rgbToAnsi256: {
        value: (e, r, n) =>
          e === r && r === n
            ? e < 8
              ? 16
              : e > 248
                ? 231
                : Math.round(((e - 8) / 247) * 24) + 232
            : 16 +
              36 * Math.round((e / 255) * 5) +
              6 * Math.round((r / 255) * 5) +
              Math.round((n / 255) * 5),
        enumerable: !1,
      },
      hexToRgb: {
        value: (e) => {
          let r = /[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));
          if (!r) return [0, 0, 0];
          let [n] = r;
          n.length === 3 && (n = [...n].map((a) => a + a).join(''));
          let i = Number.parseInt(n, 16);
          return [(i >> 16) & 255, (i >> 8) & 255, i & 255];
        },
        enumerable: !1,
      },
      hexToAnsi256: { value: (e) => Zl.rgbToAnsi256(...Zl.hexToRgb(e)), enumerable: !1 },
      ansi256ToAnsi: {
        value: (e) => {
          if (e < 8) return 30 + e;
          if (e < 16) return 90 + (e - 8);
          let r, n, i;
          if (e >= 232) ((r = ((e - 232) * 10 + 8) / 255), (n = r), (i = r));
          else {
            e -= 16;
            let o = e % 36;
            ((r = Math.floor(e / 36) / 5), (n = Math.floor(o / 6) / 5), (i = (o % 6) / 5));
          }
          let a = Math.max(r, n, i) * 2;
          if (a === 0) return 30;
          let s = 30 + ((Math.round(i) << 2) | (Math.round(n) << 1) | Math.round(r));
          return (a === 2 && (s += 60), s);
        },
        enumerable: !1,
      },
      rgbToAnsi: { value: (e, r, n) => Zl.ansi256ToAnsi(Zl.rgbToAnsi256(e, r, n)), enumerable: !1 },
      hexToAnsi: { value: (e) => Zl.ansi256ToAnsi(Zl.hexToAnsi256(e)), enumerable: !1 },
    }),
    Zl
  );
}
var U1r = k1r(),
  Q5 = U1r;
function Oge(t) {
  return Number.isInteger(t) ? eC(t) === 2 : !1;
}
var H1r = new Set([27, 155]),
  V1r = '0'.codePointAt(0),
  G1r = '9'.codePointAt(0),
  Lge = new Set(),
  Mge = new Map();
for (let [t, e] of Q5.codes)
  (Lge.add(Q5.color.ansi(e)), Mge.set(Q5.color.ansi(t), Q5.color.ansi(e)));
function q1r(t) {
  if (Lge.has(t)) return t;
  if (Mge.has(t)) return Mge.get(t);
  ((t = t.slice(2)), t.includes(';') && (t = t[0] + '0'));
  let e = Q5.codes.get(Number.parseInt(t, 10));
  return e ? Q5.color.ansi(e) : Q5.reset.open;
}
function $1r(t) {
  for (let e = 0; e < t.length; e++) {
    let r = t.codePointAt(e);
    if (r >= V1r && r <= G1r) return e;
  }
  return -1;
}
function j1r(t, e) {
  t = t.slice(e, e + 19);
  let r = $1r(t);
  if (r !== -1) {
    let n = t.indexOf('m', r);
    return (n === -1 && (n = t.length), t.slice(0, n + 1));
  }
}
function Y1r(t, e = Number.POSITIVE_INFINITY) {
  let r = [],
    n = 0,
    i = 0;
  for (; n < t.length; ) {
    let a = t.codePointAt(n);
    if (H1r.has(a)) {
      let l = j1r(t, n);
      if (l) {
        (r.push({ type: 'ansi', code: l, endCode: q1r(l) }), (n += l.length));
        continue;
      }
    }
    let s = Oge(a),
      o = String.fromCodePoint(a);
    if (
      (r.push({ type: 'character', value: o, isFullWidth: s }),
      (n += o.length),
      (i += s ? 2 : o.length),
      i >= e)
    )
      break;
  }
  return r;
}
function kWe(t) {
  let e = [];
  for (let r of t)
    r.code === Q5.reset.open
      ? (e = [])
      : Lge.has(r.code)
        ? (e = e.filter((n) => n.endCode !== r.code))
        : ((e = e.filter((n) => n.endCode !== r.endCode)), e.push(r));
  return e;
}
function W1r(t) {
  return kWe(t)
    .map(({ endCode: n }) => n)
    .reverse()
    .join('');
}
function Fge(t, e, r) {
  let n = Y1r(t, r),
    i = [],
    a = 0,
    s = '',
    o = !1;
  for (let l of n) {
    if (r !== void 0 && a >= r) break;
    l.type === 'ansi'
      ? (i.push(l), o && (s += l.code))
      : (!o && a >= e && ((o = !0), (i = kWe(i)), (s = i.map(({ code: u }) => u).join(''))),
        o && (s += l.value),
        (a += l.isFullWidth ? 2 : l.value.length));
  }
  return ((s += W1r(i)), s);
}
var UWe =
    (t = 0) =>
    (e) =>
      `\x1B[${e + t}m`,
  HWe =
    (t = 0) =>
    (e) =>
      `\x1B[${38 + t};5;${e}m`,
  VWe =
    (t = 0) =>
    (e, r, n) =>
      `\x1B[${38 + t};2;${e};${r};${n}m`,
  eu = {
    modifier: {
      reset: [0, 0],
      bold: [1, 22],
      dim: [2, 22],
      italic: [3, 23],
      underline: [4, 24],
      overline: [53, 55],
      inverse: [7, 27],
      hidden: [8, 28],
      strikethrough: [9, 29],
    },
    color: {
      black: [30, 39],
      red: [31, 39],
      green: [32, 39],
      yellow: [33, 39],
      blue: [34, 39],
      magenta: [35, 39],
      cyan: [36, 39],
      white: [37, 39],
      blackBright: [90, 39],
      gray: [90, 39],
      grey: [90, 39],
      redBright: [91, 39],
      greenBright: [92, 39],
      yellowBright: [93, 39],
      blueBright: [94, 39],
      magentaBright: [95, 39],
      cyanBright: [96, 39],
      whiteBright: [97, 39],
    },
    bgColor: {
      bgBlack: [40, 49],
      bgRed: [41, 49],
      bgGreen: [42, 49],
      bgYellow: [43, 49],
      bgBlue: [44, 49],
      bgMagenta: [45, 49],
      bgCyan: [46, 49],
      bgWhite: [47, 49],
      bgBlackBright: [100, 49],
      bgGray: [100, 49],
      bgGrey: [100, 49],
      bgRedBright: [101, 49],
      bgGreenBright: [102, 49],
      bgYellowBright: [103, 49],
      bgBlueBright: [104, 49],
      bgMagentaBright: [105, 49],
      bgCyanBright: [106, 49],
      bgWhiteBright: [107, 49],
    },
  },
  pkn = Object.keys(eu.modifier),
  z1r = Object.keys(eu.color),
  J1r = Object.keys(eu.bgColor),
  fkn = [...z1r, ...J1r];
function K1r() {
  let t = new Map();
  for (let [e, r] of Object.entries(eu)) {
    for (let [n, i] of Object.entries(r))
      ((eu[n] = { open: `\x1B[${i[0]}m`, close: `\x1B[${i[1]}m` }),
        (r[n] = eu[n]),
        t.set(i[0], i[1]));
    Object.defineProperty(eu, e, { value: r, enumerable: !1 });
  }
  return (
    Object.defineProperty(eu, 'codes', { value: t, enumerable: !1 }),
    (eu.color.close = '\x1B[39m'),
    (eu.bgColor.close = '\x1B[49m'),
    (eu.color.ansi = UWe()),
    (eu.color.ansi256 = HWe()),
    (eu.color.ansi16m = VWe()),
    (eu.bgColor.ansi = UWe(10)),
    (eu.bgColor.ansi256 = HWe(10)),
    (eu.bgColor.ansi16m = VWe(10)),
    Object.defineProperties(eu, {
      rgbToAnsi256: {
        value: (e, r, n) =>
          e === r && r === n
            ? e < 8
              ? 16
              : e > 248
                ? 231
                : Math.round(((e - 8) / 247) * 24) + 232
            : 16 +
              36 * Math.round((e / 255) * 5) +
              6 * Math.round((r / 255) * 5) +
              Math.round((n / 255) * 5),
        enumerable: !1,
      },
      hexToRgb: {
        value: (e) => {
          let r = /[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));
          if (!r) return [0, 0, 0];
          let [n] = r;
          n.length === 3 && (n = [...n].map((a) => a + a).join(''));
          let i = Number.parseInt(n, 16);
          return [(i >> 16) & 255, (i >> 8) & 255, i & 255];
        },
        enumerable: !1,
      },
      hexToAnsi256: { value: (e) => eu.rgbToAnsi256(...eu.hexToRgb(e)), enumerable: !1 },
      ansi256ToAnsi: {
        value: (e) => {
          if (e < 8) return 30 + e;
          if (e < 16) return 90 + (e - 8);
          let r, n, i;
          if (e >= 232) ((r = ((e - 232) * 10 + 8) / 255), (n = r), (i = r));
          else {
            e -= 16;
            let o = e % 36;
            ((r = Math.floor(e / 36) / 5), (n = Math.floor(o / 6) / 5), (i = (o % 6) / 5));
          }
          let a = Math.max(r, n, i) * 2;
          if (a === 0) return 30;
          let s = 30 + ((Math.round(i) << 2) | (Math.round(n) << 1) | Math.round(r));
          return (a === 2 && (s += 60), s);
        },
        enumerable: !1,
      },
      rgbToAnsi: { value: (e, r, n) => eu.ansi256ToAnsi(eu.rgbToAnsi256(e, r, n)), enumerable: !1 },
      hexToAnsi: { value: (e) => eu.ansi256ToAnsi(eu.hexToAnsi256(e)), enumerable: !1 },
    }),
    eu
  );
}
var X1r = K1r(),
  vE = X1r;
var GWe = new Set([27, 155]),
  YK = new Set(),
  Pge = new Map();
for (let [t, e] of vE.codes)
  (YK.add(vE.color.ansi(e)), Pge.set(vE.color.ansi(t), vE.color.ansi(e)));
var WK = '\x1B]8;;',
  Qge = WK.split('').map((t) => t.charCodeAt(0)),
  qWe = '\x07',
  Akn = qWe.charCodeAt(0),
  Z1r = `\x1B]8;;${qWe}`;
function $We(t) {
  if (YK.has(t)) return t;
  if (Pge.has(t)) return Pge.get(t);
  if (t.startsWith(WK)) return Z1r;
  ((t = t.slice(2)), t.includes(';') && (t = t[0] + '0'));
  let e = vE.codes.get(parseInt(t, 10));
  return e ? vE.color.ansi(e) : vE.reset.open;
}
function KU(t) {
  return t.map((e) => e.code).join('');
}
function kge(t) {
  return zK([], t);
}
function zK(t, e) {
  let r = [...t];
  for (let n of e)
    n.code === vE.reset.open
      ? (r = [])
      : YK.has(n.code)
        ? (r = r.filter((i) => i.endCode !== n.code))
        : ((r = r.filter((i) => i.endCode !== n.endCode)), r.push(n));
  return r;
}
function Uge(t) {
  return kge(t)
    .reverse()
    .map((e) => ({ ...e, code: e.endCode }));
}
function JK(t, e) {
  let r = new Set(e.map((i) => i.endCode)),
    n = new Set(t.map((i) => i.code));
  return [...Uge(t.filter((i) => !r.has(i.endCode))), ...e.filter((i) => !n.has(i.code))];
}
function jWe(t) {
  let e = [],
    r = [];
  for (let n of t)
    n.type === 'ansi' ? (e = zK(e, [n])) : n.type === 'char' && r.push({ ...n, styles: [...e] });
  return r;
}
function YWe(t) {
  let e = '';
  for (let r = 0; r < t.length; r++) {
    let n = t[r];
    (r === 0 ? (e += KU(n.styles)) : (e += KU(JK(t[r - 1].styles, n.styles))),
      (e += n.value),
      r === t.length - 1 && (e += KU(JK(n.styles, []))));
  }
  return e;
}
function Hge(t) {
  return Number.isInteger(t)
    ? t >= 4352 &&
        (t <= 4447 ||
          t === 9001 ||
          t === 9002 ||
          (11904 <= t && t <= 12871 && t !== 12351) ||
          (12880 <= t && t <= 19903) ||
          (19968 <= t && t <= 42182) ||
          (43360 <= t && t <= 43388) ||
          (44032 <= t && t <= 55203) ||
          (63744 <= t && t <= 64255) ||
          (65040 <= t && t <= 65049) ||
          (65072 <= t && t <= 65131) ||
          (65281 <= t && t <= 65376) ||
          (65504 <= t && t <= 65510) ||
          (110592 <= t && t <= 110593) ||
          (127488 <= t && t <= 127569) ||
          (131072 <= t && t <= 262141))
    : !1;
}
function efr(t) {
  for (let e = 0; e < t.length; e++) {
    let r = t.charCodeAt(e);
    if (r >= 48 && r <= 57) return e;
  }
  return -1;
}
function tfr(t, e) {
  t = t.slice(e);
  for (let n = 1; n < Qge.length; n++) if (t.charCodeAt(n) !== Qge[n]) return;
  let r = t.indexOf('\x07', WK.length);
  if (r !== -1) return t.slice(0, r + 1);
}
function rfr(t, e) {
  t = t.slice(e, e + 19);
  let r = efr(t);
  if (r !== -1) {
    let n = t.indexOf('m', r);
    return (n === -1 && (n = t.length), t.slice(0, n + 1));
  }
}
function WWe(t, e = Number.POSITIVE_INFINITY) {
  let r = [],
    n = 0,
    i = 0;
  for (; n < t.length; ) {
    let a = t.codePointAt(n);
    if (GWe.has(a)) {
      let l = tfr(t, n) || rfr(t, n);
      if (l) {
        (r.push({ type: 'ansi', code: l, endCode: $We(l) }), (n += l.length));
        continue;
      }
    }
    let s = Hge(a),
      o = String.fromCodePoint(a);
    if (
      (r.push({ type: 'char', value: o, fullWidth: s }),
      (n += o.length),
      (i += s ? 2 : o.length),
      i >= e)
    )
      break;
  }
  return r;
}
var fN = class {
  width;
  height;
  operations = [];
  constructor(e) {
    let { width: r, height: n } = e;
    ((this.width = r), (this.height = n));
  }
  write(e, r, n, i) {
    let { transformers: a } = i;
    n && this.operations.push({ type: 'write', x: e, y: r, text: n, transformers: a });
  }
  clip(e) {
    this.operations.push({ type: 'clip', clip: e });
  }
  unclip() {
    this.operations.push({ type: 'unclip' });
  }
  get() {
    let e = [];
    for (let i = 0; i < this.height; i++) {
      let a = [];
      for (let s = 0; s < this.width; s++)
        a.push({ type: 'char', value: ' ', fullWidth: !1, styles: [] });
      e.push(a);
    }
    let r = [];
    for (let i of this.operations)
      if (
        (i.type === 'clip' && r.push(i.clip), i.type === 'unclip' && r.pop(), i.type === 'write')
      ) {
        let { text: a, transformers: s } = i,
          { x: o, y: l } = i,
          u = a.split(`
`),
          c = r.at(-1);
        if (c) {
          let h = typeof c?.x1 == 'number' && typeof c?.x2 == 'number',
            m = typeof c?.y1 == 'number' && typeof c?.y2 == 'number';
          if (h) {
            let E = OD(a);
            if (o + E < c.x1 || o > c.x2) continue;
          }
          if (m) {
            let E = u.length;
            if (l + E < c.y1 || l > c.y2) continue;
          }
          if (
            (h &&
              ((u = u.map((E) => {
                let v = o < c.x1 ? c.x1 - o : 0,
                  g = G6(E),
                  _ = o + g > c.x2 ? c.x2 - o : g;
                return Fge(E, v, _);
              })),
              o < c.x1 && (o = c.x1)),
            m)
          ) {
            let E = l < c.y1 ? c.y1 - l : 0,
              v = u.length,
              g = l + v > c.y2 ? c.y2 - l : v;
            ((u = u.slice(E, g)), l < c.y1 && (l = c.y1));
          }
        }
        let p = 0;
        for (let [h, m] of u.entries()) {
          let E = e[l + p];
          if (!E) continue;
          for (let _ of s) m = _(m, h);
          let v = jWe(WWe(m)),
            g = o;
          for (let _ of v) {
            E[g] = _;
            let S = _.fullWidth || _.value.length > 1;
            (S && (E[g + 1] = { type: 'char', value: '', fullWidth: !1, styles: _.styles }),
              (g += S ? 2 : 1));
          }
          p++;
        }
      }
    return {
      output: e.map((i) => {
        let a = i.filter((s) => s !== void 0);
        return YWe(a).trimEnd();
      }).join(`
`),
      height: e.length,
    };
  }
};
var nfr = (t) => {
    if (t.yogaNode) {
      let e = new fN({
        width: t.yogaNode.getComputedWidth(),
        height: t.yogaNode.getComputedHeight(),
      });
      Nge(t, e, { skipStaticElements: !0 });
      let r;
      t.staticNode?.yogaNode &&
        ((r = new fN({
          width: t.staticNode.yogaNode.getComputedWidth(),
          height: t.staticNode.yogaNode.getComputedHeight(),
        })),
        Nge(t.staticNode, r, { skipStaticElements: !1 }));
      let { output: n, height: i } = e.get();
      return {
        output: n,
        outputHeight: i,
        staticOutput: r
          ? `${r.get().output}
`
          : '',
      };
    }
    return { output: '', outputHeight: 0, staticOutput: '' };
  },
  zWe = nfr;
import uze from 'node:process';
var sze = qe(ZWe(), 1),
  oze = qe(aze(), 1);
import afr from 'node:process';
var sfr = (0, sze.default)(() => {
    (0, oze.default)(
      () => {
        afr.stderr.write('\x1B[?25h');
      },
      { alwaysLast: !0 }
    );
  }),
  lze = sfr;
var nX = !1,
  gN = {};
gN.show = (t = uze.stderr) => {
  t.isTTY && ((nX = !1), t.write('\x1B[?25h'));
};
gN.hide = (t = uze.stderr) => {
  t.isTTY && (lze(), (nX = !0), t.write('\x1B[?25l'));
};
gN.toggle = (t, e) => {
  (t !== void 0 && (nX = t), nX ? gN.show(e) : gN.hide(e));
};
var EN = gN;
var ofr = (t, { showCursor: e = !1 } = {}) => {
    let r = 0,
      n = '',
      i = !1,
      a = (s) => {
        !e && !i && (EN.hide(), (i = !0));
        let o =
          s +
          `
`;
        o !== n &&
          ((n = o),
          t.write(x5.eraseLines(r) + o),
          (r = o.split(`
`).length));
      };
    return (
      (a.clear = () => {
        (t.write(x5.eraseLines(r)), (n = ''), (r = 0));
      }),
      (a.done = () => {
        ((n = ''), (r = 0), e || (EN.show(), (i = !1)));
      }),
      (a.sync = (s) => {
        let o =
          s +
          `
`;
        ((n = o),
          (r = o.split(`
`).length));
      }),
      a
    );
  },
  lfr = { create: ofr },
  cze = lfr;
var ufr = new WeakMap(),
  yN = ufr;
var k5 = qe(or(), 1);
import { EventEmitter as Sfr } from 'node:events';
import bfr from 'node:process';
var dze = qe(or(), 1),
  pze = (0, dze.createContext)({ exit() {} });
pze.displayName = 'InternalAppContext';
var $ge = pze;
var fze = qe(or(), 1);
import { EventEmitter as cfr } from 'node:events';
import dfr from 'node:process';
var mze = (0, fze.createContext)({
  stdin: dfr.stdin,
  internal_eventEmitter: new cfr(),
  setRawMode() {},
  isRawModeSupported: !1,
  internal_exitOnCtrlC: !0,
});
mze.displayName = 'InternalStdinContext';
var iX = mze;
var hze = qe(or(), 1);
import pfr from 'node:process';
var Aze = (0, hze.createContext)({ stdout: pfr.stdout, write() {} });
Aze.displayName = 'InternalStdoutContext';
var aX = Aze;
var gze = qe(or(), 1);
import ffr from 'node:process';
var Eze = (0, gze.createContext)({ stderr: ffr.stderr, write() {} });
Eze.displayName = 'InternalStderrContext';
var jge = Eze;
var yze = qe(or(), 1),
  vze = (0, yze.createContext)({
    activeId: void 0,
    add() {},
    remove() {},
    activate() {},
    deactivate() {},
    enableFocus() {},
    disableFocus() {},
    focusNext() {},
    focusPrevious() {},
    focus() {},
  });
vze.displayName = 'InternalFocusContext';
var sX = vze;
var td = qe(or(), 1),
  Wge = qe(wze(), 1);
import * as uX from 'node:fs';
import { cwd as Oze } from 'node:process';
var vfr = (t, e = 2) => t.replace(/^\t+/gm, (r) => ' '.repeat(r.length * e)),
  Ize = vfr;
var Cfr = (t, e) => {
    let r = [],
      n = t - e,
      i = t + e;
    for (let a = n; a <= i; a++) r.push(a);
    return r;
  },
  _fr = (t, e, r = {}) => {
    var n;
    if (typeof t != 'string') throw new TypeError('Source code is missing.');
    if (!e || e < 1) throw new TypeError('Line number must start from `1`.');
    let i = Ize(t).split(/\r?\n/);
    if (!(e > i.length))
      return Cfr(e, (n = r.around) !== null && n !== void 0 ? n : 3)
        .filter((a) => i[a - 1] !== void 0)
        .map((a) => ({ line: a, value: i[a - 1] }));
  },
  Tze = _fr;
var ZU = qe(or(), 1);
var xze = qe(or(), 1),
  oX = (0, xze.createContext)(void 0);
var Bze = (0, ZU.forwardRef)(({ children: t, backgroundColor: e, ...r }, n) => {
  let i = ZU.default.createElement(
    'ink-box',
    {
      ref: n,
      style: {
        flexWrap: 'nowrap',
        flexDirection: 'row',
        flexGrow: 0,
        flexShrink: 1,
        ...r,
        backgroundColor: e,
        overflowX: r.overflowX ?? r.overflow ?? 'visible',
        overflowY: r.overflowY ?? r.overflow ?? 'visible',
      },
    },
    t
  );
  return e ? ZU.default.createElement(oX.Provider, { value: e }, i) : i;
});
Bze.displayName = 'Box';
var Fe = Bze;
var lX = qe(or(), 1);
function Se({
  color: t,
  backgroundColor: e,
  dimColor: r = !1,
  bold: n = !1,
  italic: i = !1,
  underline: a = !1,
  strikethrough: s = !1,
  inverse: o = !1,
  wrap: l = 'wrap',
  children: u,
}) {
  let c = (0, lX.useContext)(oX);
  if (u == null) return null;
  let p = (h) => {
    (r && (h = Ou.dim(h)), t && (h = yE(h, t, 'foreground')));
    let m = e ?? c;
    return (
      m && (h = yE(h, m, 'background')),
      n && (h = Ou.bold(h)),
      i && (h = Ou.italic(h)),
      a && (h = Ou.underline(h)),
      s && (h = Ou.strikethrough(h)),
      o && (h = Ou.inverse(h)),
      h
    );
  };
  return lX.default.createElement(
    'ink-text',
    {
      style: { flexGrow: 0, flexShrink: 1, flexDirection: 'row', textWrap: l },
      internal_transform: p,
    },
    u
  );
}
var Rze = (t) => t?.replace(`file://${Oze()}/`, ''),
  Nze = new Wge.default({ cwd: Oze(), internals: Wge.default.nodeInternals() });
function zge({ error: t }) {
  let e = t.stack
      ? t.stack
          .split(
            `
`
          )
          .slice(1)
      : void 0,
    r = e ? Nze.parseLine(e[0]) : void 0,
    n = Rze(r?.file),
    i,
    a = 0;
  if (n && r?.line && uX.existsSync(n)) {
    let s = uX.readFileSync(n, 'utf8');
    if (((i = Tze(s, r.line)), i)) for (let { line: o } of i) a = Math.max(a, String(o).length);
  }
  return td.default.createElement(
    Fe,
    { flexDirection: 'column', padding: 1 },
    td.default.createElement(
      Fe,
      null,
      td.default.createElement(Se, { backgroundColor: 'red', color: 'white' }, ' ', 'ERROR', ' '),
      td.default.createElement(Se, null, ' ', t.message)
    ),
    r &&
      n &&
      td.default.createElement(
        Fe,
        { marginTop: 1 },
        td.default.createElement(Se, { dimColor: !0 }, n, ':', r.line, ':', r.column)
      ),
    r &&
      i &&
      td.default.createElement(
        Fe,
        { marginTop: 1, flexDirection: 'column' },
        i.map(({ line: s, value: o }) =>
          td.default.createElement(
            Fe,
            { key: s },
            td.default.createElement(
              Fe,
              { width: a + 1 },
              td.default.createElement(
                Se,
                {
                  dimColor: s !== r.line,
                  backgroundColor: s === r.line ? 'red' : void 0,
                  color: s === r.line ? 'white' : void 0,
                },
                String(s).padStart(a, ' '),
                ':'
              )
            ),
            td.default.createElement(
              Se,
              {
                key: s,
                backgroundColor: s === r.line ? 'red' : void 0,
                color: s === r.line ? 'white' : void 0,
              },
              ' ' + o
            )
          )
        )
      ),
    t.stack &&
      td.default.createElement(
        Fe,
        { marginTop: 1, flexDirection: 'column' },
        t.stack
          .split(
            `
`
          )
          .slice(1)
          .map((s) => {
            let o = Nze.parseLine(s);
            return o
              ? td.default.createElement(
                  Fe,
                  { key: s },
                  td.default.createElement(Se, { dimColor: !0 }, '- '),
                  td.default.createElement(Se, { dimColor: !0, bold: !0 }, o.function),
                  td.default.createElement(
                    Se,
                    { dimColor: !0, color: 'gray' },
                    ' ',
                    '(',
                    Rze(o.file) ?? '',
                    ':',
                    o.line,
                    ':',
                    o.column,
                    ')'
                  )
                )
              : td.default.createElement(
                  Fe,
                  { key: s },
                  td.default.createElement(Se, { dimColor: !0 }, '- '),
                  td.default.createElement(Se, { dimColor: !0, bold: !0 }, s)
                );
          })
      )
  );
}
var Dfr = '	',
  wfr = '\x1B[Z',
  Ifr = '\x1B',
  eH = class extends k5.PureComponent {
    static displayName = 'InternalApp';
    static getDerivedStateFromError(e) {
      return { error: e };
    }
    state = { isFocusEnabled: !0, activeFocusId: void 0, focusables: [], error: void 0 };
    rawModeEnabledCount = 0;
    internal_eventEmitter = new Sfr();
    isRawModeSupported() {
      return this.props.stdin.isTTY;
    }
    render() {
      return k5.default.createElement(
        $ge.Provider,
        { value: { exit: this.handleExit } },
        k5.default.createElement(
          iX.Provider,
          {
            value: {
              stdin: this.props.stdin,
              setRawMode: this.handleSetRawMode,
              isRawModeSupported: this.isRawModeSupported(),
              internal_exitOnCtrlC: this.props.exitOnCtrlC,
              internal_eventEmitter: this.internal_eventEmitter,
            },
          },
          k5.default.createElement(
            aX.Provider,
            { value: { stdout: this.props.stdout, write: this.props.writeToStdout } },
            k5.default.createElement(
              jge.Provider,
              { value: { stderr: this.props.stderr, write: this.props.writeToStderr } },
              k5.default.createElement(
                sX.Provider,
                {
                  value: {
                    activeId: this.state.activeFocusId,
                    add: this.addFocusable,
                    remove: this.removeFocusable,
                    activate: this.activateFocusable,
                    deactivate: this.deactivateFocusable,
                    enableFocus: this.enableFocus,
                    disableFocus: this.disableFocus,
                    focusNext: this.focusNext,
                    focusPrevious: this.focusPrevious,
                    focus: this.focus,
                  },
                },
                this.state.error
                  ? k5.default.createElement(zge, { error: this.state.error })
                  : this.props.children
              )
            )
          )
        )
      );
    }
    componentDidMount() {
      EN.hide(this.props.stdout);
    }
    componentWillUnmount() {
      (EN.show(this.props.stdout), this.isRawModeSupported() && this.handleSetRawMode(!1));
    }
    componentDidCatch(e) {
      this.handleExit(e);
    }
    handleSetRawMode = (e) => {
      let { stdin: r } = this.props;
      if (!this.isRawModeSupported())
        throw r === bfr.stdin
          ? new Error(`Raw mode is not supported on the current process.stdin, which Ink uses as input stream by default.
Read about how to prevent this error on https://github.com/vadimdemedes/ink/#israwmodesupported`)
          : new Error(`Raw mode is not supported on the stdin provided to Ink.
Read about how to prevent this error on https://github.com/vadimdemedes/ink/#israwmodesupported`);
      if ((r.setEncoding('utf8'), e)) {
        (this.rawModeEnabledCount === 0 &&
          (r.ref(), r.setRawMode(!0), r.addListener('readable', this.handleReadable)),
          this.rawModeEnabledCount++);
        return;
      }
      --this.rawModeEnabledCount === 0 &&
        (r.setRawMode(!1), r.removeListener('readable', this.handleReadable), r.unref());
    };
    handleReadable = () => {
      let e;
      for (; (e = this.props.stdin.read()) !== null; )
        (this.handleInput(e), this.internal_eventEmitter.emit('input', e));
    };
    handleInput = (e) => {
      (e === '' && this.props.exitOnCtrlC && this.handleExit(),
        e === Ifr && this.state.activeFocusId && this.setState({ activeFocusId: void 0 }),
        this.state.isFocusEnabled &&
          this.state.focusables.length > 0 &&
          (e === Dfr && this.focusNext(), e === wfr && this.focusPrevious()));
    };
    handleExit = (e) => {
      (this.isRawModeSupported() && this.handleSetRawMode(!1), this.props.onExit(e));
    };
    enableFocus = () => {
      this.setState({ isFocusEnabled: !0 });
    };
    disableFocus = () => {
      this.setState({ isFocusEnabled: !1 });
    };
    focus = (e) => {
      this.setState((r) => (r.focusables.some((i) => i?.id === e) ? { activeFocusId: e } : r));
    };
    focusNext = () => {
      this.setState((e) => {
        let r = e.focusables.find((i) => i.isActive)?.id;
        return { activeFocusId: this.findNextFocusable(e) ?? r };
      });
    };
    focusPrevious = () => {
      this.setState((e) => {
        let r = e.focusables.findLast((i) => i.isActive)?.id;
        return { activeFocusId: this.findPreviousFocusable(e) ?? r };
      });
    };
    addFocusable = (e, { autoFocus: r }) => {
      this.setState((n) => {
        let i = n.activeFocusId;
        return (
          !i && r && (i = e),
          { activeFocusId: i, focusables: [...n.focusables, { id: e, isActive: !0 }] }
        );
      });
    };
    removeFocusable = (e) => {
      this.setState((r) => ({
        activeFocusId: r.activeFocusId === e ? void 0 : r.activeFocusId,
        focusables: r.focusables.filter((n) => n.id !== e),
      }));
    };
    activateFocusable = (e) => {
      this.setState((r) => ({
        focusables: r.focusables.map((n) => (n.id !== e ? n : { id: e, isActive: !0 })),
      }));
    };
    deactivateFocusable = (e) => {
      this.setState((r) => ({
        activeFocusId: r.activeFocusId === e ? void 0 : r.activeFocusId,
        focusables: r.focusables.map((n) => (n.id !== e ? n : { id: e, isActive: !1 })),
      }));
    };
    findNextFocusable = (e) => {
      let r = e.focusables.findIndex((n) => n.id === e.activeFocusId);
      for (let n = r + 1; n < e.focusables.length; n++) {
        let i = e.focusables[n];
        if (i?.isActive) return i.id;
      }
    };
    findPreviousFocusable = (e) => {
      let r = e.focusables.findIndex((n) => n.id === e.activeFocusId);
      for (let n = r - 1; n >= 0; n--) {
        let i = e.focusables[n];
        if (i?.isActive) return i.id;
      }
    };
  };
var Mze = () => {},
  tH = class {
    options;
    log;
    throttledLog;
    isUnmounted;
    lastOutput;
    lastOutputHeight;
    container;
    rootNode;
    fullStaticOutput;
    exitPromise;
    restoreConsole;
    unsubscribeResize;
    constructor(e) {
      (y2e(this),
        (this.options = e),
        (this.rootNode = wK('ink-root')),
        (this.rootNode.onComputeLayout = this.calculateLayout),
        (this.rootNode.onRender = e.debug
          ? this.onRender
          : cK(this.onRender, 32, { leading: !0, trailing: !0 })),
        (this.rootNode.onImmediateRender = this.onRender),
        (this.log = cze.create(e.stdout)),
        (this.throttledLog = e.debug
          ? this.log
          : cK(this.log, void 0, { leading: !0, trailing: !0 })),
        (this.isUnmounted = !1),
        (this.lastOutput = ''),
        (this.lastOutputHeight = 0),
        (this.fullStaticOutput = ''),
        (this.container = P5.createContainer(
          this.rootNode,
          Pze.LegacyRoot,
          null,
          !1,
          null,
          'id',
          () => {},
          () => {},
          () => {},
          () => {},
          null
        )),
        (this.unsubscribeExit = (0, Fze.default)(this.unmount, { alwaysLast: !1 })),
        Tfr.env.DEV === 'true' &&
          P5.injectIntoDevTools({ bundleType: 0, version: '16.13.1', rendererPackageName: 'ink' }),
        e.patchConsole && this.patchConsole(),
        BD ||
          (e.stdout.on('resize', this.resized),
          (this.unsubscribeResize = () => {
            e.stdout.off('resize', this.resized);
          })));
    }
    resized = () => {
      (this.calculateLayout(), this.onRender());
    };
    resolveExitPromise = () => {};
    rejectExitPromise = () => {};
    unsubscribeExit = () => {};
    calculateLayout = () => {
      let e = this.options.stdout.columns || 80;
      (this.rootNode.yogaNode.setWidth(e),
        this.rootNode.yogaNode.calculateLayout(void 0, void 0, Kr.DIRECTION_LTR));
    };
    onRender = () => {
      if (this.isUnmounted) return;
      let { output: e, outputHeight: r, staticOutput: n } = zWe(this.rootNode),
        i =
          n &&
          n !==
            `
`;
      if (this.options.debug) {
        (i && (this.fullStaticOutput += n), this.options.stdout.write(this.fullStaticOutput + e));
        return;
      }
      if (BD) {
        (i && this.options.stdout.write(n), (this.lastOutput = e), (this.lastOutputHeight = r));
        return;
      }
      if ((i && (this.fullStaticOutput += n), this.lastOutputHeight >= this.options.stdout.rows)) {
        (this.options.stdout.write(
          x5.clearTerminal +
            this.fullStaticOutput +
            e +
            `
`
        ),
          (this.lastOutput = e),
          (this.lastOutputHeight = r),
          this.log.sync(e));
        return;
      }
      (i && (this.log.clear(), this.options.stdout.write(n), this.log(e)),
        !i && e !== this.lastOutput && this.throttledLog(e),
        (this.lastOutput = e),
        (this.lastOutputHeight = r));
    };
    render(e) {
      let r = Lze.default.createElement(
        eH,
        {
          stdin: this.options.stdin,
          stdout: this.options.stdout,
          stderr: this.options.stderr,
          writeToStdout: this.writeToStdout,
          writeToStderr: this.writeToStderr,
          exitOnCtrlC: this.options.exitOnCtrlC,
          onExit: this.unmount,
        },
        e
      );
      (P5.updateContainerSync(r, this.container, null, Mze), P5.flushSyncWork());
    }
    writeToStdout(e) {
      if (!this.isUnmounted) {
        if (this.options.debug) {
          this.options.stdout.write(e + this.fullStaticOutput + this.lastOutput);
          return;
        }
        if (BD) {
          this.options.stdout.write(e);
          return;
        }
        (this.log.clear(), this.options.stdout.write(e), this.log(this.lastOutput));
      }
    }
    writeToStderr(e) {
      if (!this.isUnmounted) {
        if (this.options.debug) {
          (this.options.stderr.write(e),
            this.options.stdout.write(this.fullStaticOutput + this.lastOutput));
          return;
        }
        if (BD) {
          this.options.stderr.write(e);
          return;
        }
        (this.log.clear(), this.options.stderr.write(e), this.log(this.lastOutput));
      }
    }
    unmount(e) {
      this.isUnmounted ||
        (this.calculateLayout(),
        this.onRender(),
        this.unsubscribeExit(),
        typeof this.restoreConsole == 'function' && this.restoreConsole(),
        typeof this.unsubscribeResize == 'function' && this.unsubscribeResize(),
        BD
          ? this.options.stdout.write(
              this.lastOutput +
                `
`
            )
          : this.options.debug || this.log.done(),
        (this.isUnmounted = !0),
        P5.updateContainerSync(null, this.container, null, Mze),
        P5.flushSyncWork(),
        yN.delete(this.options.stdout),
        e instanceof Error ? this.rejectExitPromise(e) : this.resolveExitPromise());
    }
    async waitUntilExit() {
      return (
        (this.exitPromise ||= new Promise((e, r) => {
          ((this.resolveExitPromise = e), (this.rejectExitPromise = r));
        })),
        this.exitPromise
      );
    }
    clear() {
      !BD && !this.options.debug && this.log.clear();
    }
    patchConsole() {
      this.options.debug ||
        (this.restoreConsole = uje((e, r) => {
          (e === 'stdout' && this.writeToStdout(r),
            e === 'stderr' && (r.startsWith('The above error occurred') || this.writeToStderr(r)));
        }));
    }
  };
var Bfr = (t, e) => {
    let r = {
        stdout: cX.stdout,
        stdin: cX.stdin,
        stderr: cX.stderr,
        debug: !1,
        exitOnCtrlC: !0,
        patchConsole: !0,
        ...Rfr(e),
      },
      n = Nfr(r.stdout, () => new tH(r));
    return (
      n.render(t),
      {
        rerender: n.render,
        unmount() {
          n.unmount();
        },
        waitUntilExit: n.waitUntilExit,
        cleanup: () => yN.delete(r.stdout),
        clear: n.clear,
      }
    );
  },
  Jge = Bfr,
  Rfr = (t = {}) => (t instanceof xfr ? { stdout: t, stdin: cX.stdin } : t),
  Nfr = (t, e) => {
    let r = yN.get(t);
    return (r || ((r = e()), yN.set(t, r)), r);
  };
var U5 = qe(or(), 1);
function dX(t) {
  let { items: e, children: r, style: n } = t,
    [i, a] = (0, U5.useState)(0),
    s = (0, U5.useMemo)(() => e.slice(i), [e, i]);
  (0, U5.useLayoutEffect)(() => {
    a(e.length);
  }, [e.length]);
  let o = s.map((u, c) => r(u, i + c)),
    l = (0, U5.useMemo)(() => ({ position: 'absolute', flexDirection: 'column', ...n }), [n]);
  return U5.default.createElement('ink-box', { internal_static: !0, style: l }, o);
}
var Qze = qe(or(), 1);
function pX({ children: t, transform: e }) {
  return t == null
    ? null
    : Qze.default.createElement(
        'ink-text',
        { style: { flexGrow: 0, flexShrink: 1, flexDirection: 'row' }, internal_transform: e },
        t
      );
}
var kze = qe(or(), 1);
function Uh({ count: t = 1 }) {
  return kze.default.createElement(
    'ink-text',
    null,
    `
`.repeat(t)
  );
}
var Ofr = qe(or(), 1);
var Kge = qe(or(), 1);
import { Buffer as Mfr } from 'node:buffer';
var Lfr = /^(?:\x1b)([a-zA-Z0-9])$/,
  Ffr = /^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/,
  Uze = {
    OP: 'f1',
    OQ: 'f2',
    OR: 'f3',
    OS: 'f4',
    '[11~': 'f1',
    '[12~': 'f2',
    '[13~': 'f3',
    '[14~': 'f4',
    '[[A': 'f1',
    '[[B': 'f2',
    '[[C': 'f3',
    '[[D': 'f4',
    '[[E': 'f5',
    '[15~': 'f5',
    '[17~': 'f6',
    '[18~': 'f7',
    '[19~': 'f8',
    '[20~': 'f9',
    '[21~': 'f10',
    '[23~': 'f11',
    '[24~': 'f12',
    '[A': 'up',
    '[B': 'down',
    '[C': 'right',
    '[D': 'left',
    '[E': 'clear',
    '[F': 'end',
    '[H': 'home',
    OA: 'up',
    OB: 'down',
    OC: 'right',
    OD: 'left',
    OE: 'clear',
    OF: 'end',
    OH: 'home',
    '[1~': 'home',
    '[2~': 'insert',
    '[3~': 'delete',
    '[4~': 'end',
    '[5~': 'pageup',
    '[6~': 'pagedown',
    '[[5~': 'pageup',
    '[[6~': 'pagedown',
    '[7~': 'home',
    '[8~': 'end',
    '[a': 'up',
    '[b': 'down',
    '[c': 'right',
    '[d': 'left',
    '[e': 'clear',
    '[2$': 'insert',
    '[3$': 'delete',
    '[5$': 'pageup',
    '[6$': 'pagedown',
    '[7$': 'home',
    '[8$': 'end',
    Oa: 'up',
    Ob: 'down',
    Oc: 'right',
    Od: 'left',
    Oe: 'clear',
    '[2^': 'insert',
    '[3^': 'delete',
    '[5^': 'pageup',
    '[6^': 'pagedown',
    '[7^': 'home',
    '[8^': 'end',
    '[Z': 'tab',
  },
  Hze = [...Object.values(Uze), 'backspace'],
  Pfr = (t) =>
    ['[a', '[b', '[c', '[d', '[e', '[2$', '[3$', '[5$', '[6$', '[7$', '[8$', '[Z'].includes(t),
  Qfr = (t) => ['Oa', 'Ob', 'Oc', 'Od', 'Oe', '[2^', '[3^', '[5^', '[6^', '[7^', '[8^'].includes(t),
  kfr = (t = '') => {
    let e;
    Mfr.isBuffer(t)
      ? t[0] > 127 && t[1] === void 0
        ? ((t[0] -= 128), (t = '\x1B' + String(t)))
        : (t = String(t))
      : t !== void 0 && typeof t != 'string'
        ? (t = String(t))
        : t || (t = '');
    let r = { name: '', ctrl: !1, meta: !1, shift: !1, option: !1, sequence: t, raw: t };
    if (((r.sequence = r.sequence || t || r.name), t === '\r'))
      ((r.raw = void 0), (r.name = 'return'));
    else if (
      t ===
      `
`
    )
      r.name = 'enter';
    else if (t === '	') r.name = 'tab';
    else if (t === '\b' || t === '\x1B\b')
      ((r.name = 'backspace'), (r.meta = t.charAt(0) === '\x1B'));
    else if (t === '\x7F' || t === '\x1B\x7F')
      ((r.name = 'delete'), (r.meta = t.charAt(0) === '\x1B'));
    else if (t === '\x1B' || t === '\x1B\x1B') ((r.name = 'escape'), (r.meta = t.length === 2));
    else if (t === ' ' || t === '\x1B ') ((r.name = 'space'), (r.meta = t.length === 2));
    else if (t.length === 1 && t <= '')
      ((r.name = String.fromCharCode(t.charCodeAt(0) + 97 - 1)), (r.ctrl = !0));
    else if (t.length === 1 && t >= '0' && t <= '9') r.name = 'number';
    else if (t.length === 1 && t >= 'a' && t <= 'z') r.name = t;
    else if (t.length === 1 && t >= 'A' && t <= 'Z') ((r.name = t.toLowerCase()), (r.shift = !0));
    else if ((e = Lfr.exec(t))) ((r.meta = !0), (r.shift = /^[A-Z]$/.test(e[1])));
    else if ((e = Ffr.exec(t))) {
      let n = [...t];
      n[0] === '\x1B' && n[1] === '\x1B' && (r.option = !0);
      let i = [e[1], e[2], e[4], e[6]].filter(Boolean).join(''),
        a = (e[3] || e[5] || 1) - 1;
      ((r.ctrl = !!(a & 4)),
        (r.meta = !!(a & 10)),
        (r.shift = !!(a & 1)),
        (r.code = i),
        (r.name = Uze[i]),
        (r.shift = Pfr(i) || r.shift),
        (r.ctrl = Qfr(i) || r.ctrl));
    }
    return r;
  },
  Vze = kfr;
var Gze = qe(or(), 1);
var Ufr = () => (0, Gze.useContext)(iX),
  CE = Ufr;
var Hfr = (t, e = {}) => {
    let { stdin: r, setRawMode: n, internal_exitOnCtrlC: i, internal_eventEmitter: a } = CE();
    ((0, Kge.useEffect)(() => {
      if (e.isActive !== !1)
        return (
          n(!0),
          () => {
            n(!1);
          }
        );
    }, [e.isActive, n]),
      (0, Kge.useEffect)(() => {
        if (e.isActive === !1) return;
        let s = (o) => {
          let l = Vze(o),
            u = {
              upArrow: l.name === 'up',
              downArrow: l.name === 'down',
              leftArrow: l.name === 'left',
              rightArrow: l.name === 'right',
              pageDown: l.name === 'pagedown',
              pageUp: l.name === 'pageup',
              return: l.name === 'return',
              escape: l.name === 'escape',
              ctrl: l.ctrl,
              shift: l.shift,
              tab: l.name === 'tab',
              backspace: l.name === 'backspace',
              delete: l.name === 'delete',
              meta: l.meta || l.name === 'escape' || l.option,
            },
            c = l.ctrl ? l.name : l.sequence;
          (Hze.includes(l.name) && (c = ''),
            c.startsWith('\x1B') && (c = c.slice(1)),
            c.length === 1 && typeof c[0] == 'string' && /[A-Z]/.test(c[0]) && (u.shift = !0),
            (!(c === 'c' && u.ctrl) || !i) &&
              P5.batchedUpdates(() => {
                t(c, u);
              }));
        };
        return (
          a?.on('input', s),
          () => {
            a?.removeListener('input', s);
          }
        );
      }, [e.isActive, r, i, t]));
  },
  Xge = Hfr;
var Vfr = qe(or(), 1);
var qze = qe(or(), 1);
var Gfr = () => (0, qze.useContext)(aX),
  rH = Gfr;
var qfr = qe(or(), 1);
var Zge = qe(or(), 1);
var $fr = qe(or(), 1);
var jfr = (t) => ({
    width: t.yogaNode?.getComputedWidth() ?? 0,
    height: t.yogaNode?.getComputedHeight() ?? 0,
  }),
  e6e = jfr;
var vr = qe(or(), 1);
var fX = qe(or(), 1);
var $ze = 8;
function w2() {
  let [t, e] = (0, fX.useState)({
    columns: (process.stdout.columns || 60) - $ze,
    rows: process.stdout.rows || 20,
  });
  return (
    (0, fX.useEffect)(() => {
      function r() {
        e({ columns: (process.stdout.columns || 60) - $ze, rows: process.stdout.rows || 20 });
      }
      return (
        process.stdout.on('resize', r),
        () => {
          process.stdout.off('resize', r);
        }
      );
    }, []),
    t
  );
}
var Ps = qe(or(), 1);
Qn();
kq();
import { spawn as tDn } from 'child_process';
var LKt = (t) => t.startsWith('@') || /\s@/.test(t),
  FKt = (t) => t.startsWith('/'),
  PKt = async (t) => {
    let e = (r, n) =>
      new Promise((i, a) => {
        let s = tDn(r, n),
          o = '';
        (s.stderr.on('data', (l) => (o += l.toString())),
          s.on('error', a),
          s.on('close', (l) => {
            if (l === 0) return i();
            let u = o.trim();
            a(new Error(`'${r}' exited with code ${l}${u ? `: ${u}` : ''}`));
          }),
          s.stdin.on('error', a),
          s.stdin.write(t),
          s.stdin.end());
      });
    switch (process.platform) {
      case 'win32':
        return e('clip', []);
      case 'darwin':
        return e('pbcopy', []);
      case 'linux':
        try {
          await e('xclip', ['-selection', 'clipboard']);
        } catch (r) {
          try {
            await e('xsel', ['--clipboard', '--input']);
          } catch (n) {
            let i = r instanceof Error ? r.message : String(r),
              a = n instanceof Error ? n.message : String(n);
            throw new Error(
              `All copy commands failed. xclip: "${i}", xsel: "${a}". Please ensure xclip or xsel is installed and configured.`
            );
          }
        }
        return;
      default:
        throw new Error(`Unsupported platform: ${process.platform}`);
    }
  };
var UKt = qe(or(), 1);
Qn();
var Z0e = 'Shell Command';
var dk = (t) => {
    let e = t / 1073741824;
    return t < 1048576
      ? `${(t / 1024).toFixed(1)} KB`
      : t < 1073741824
        ? `${(t / 1048576).toFixed(1)} MB`
        : `${e.toFixed(2)} GB`;
  },
  uh = (t) => {
    if (t <= 0) return '0s';
    if (t < 1e3) return `${Math.round(t)}ms`;
    let e = t / 1e3;
    if (e < 60) return `${e.toFixed(1)}s`;
    let r = Math.floor(e / 3600),
      n = Math.floor((e % 3600) / 60),
      i = Math.floor(e % 60),
      a = [];
    return (
      r > 0 && a.push(`${r}h`),
      n > 0 && a.push(`${n}m`),
      i > 0 && a.push(`${i}s`),
      a.length === 0 ? (r > 0 ? `${r}h` : n > 0 ? `${n}m` : `${i}s`) : a.join(' ')
    );
  };
import rDn from 'crypto';
import nDn from 'path';
import QKt from 'os';
import pk from 'fs';
var iDn = 1e3,
  kKt = 1e4;
function aDn(t, e, r) {
  let n =
    r.length > kKt
      ? r.substring(0, kKt) +
        `
... (truncated)`
      : r;
  t.addHistory({
    role: 'user',
    parts: [
      {
        text: `I ran the following shell command:
\`\`\`sh
${e}
\`\`\`

This produced the following result:
\`\`\`
${n}
\`\`\``,
      },
    ],
  });
}
var HKt = (t, e, r, n, i, a) => ({
  handleShellCommand: (0, UKt.useCallback)(
    (o, l) => {
      if (typeof o != 'string' || o.trim() === '') return !1;
      let u = Date.now(),
        c = `shell-${u}`;
      t({ type: 'user_shell', text: o }, u);
      let p = QKt.platform() === 'win32',
        h = i.getTargetDir(),
        m = o,
        E;
      if (!p) {
        let g = o.trim(),
          _ = `shell_pwd_${rDn.randomBytes(6).toString('hex')}.tmp`;
        ((E = nDn.join(QKt.tmpdir(), _)),
          !g.endsWith(';') && !g.endsWith('&') && (g += ';'),
          (m = `{ ${g} }; __code=$?; pwd > "${E}"; exit $__code`));
      }
      let v = new Promise((g) => {
        let _ = Date.now(),
          S = '',
          b = !1,
          I = 0,
          R = {
            callId: c,
            name: Z0e,
            description: o,
            status: 'Executing',
            resultDisplay: '',
            confirmationDetails: void 0,
          };
        e({ type: 'tool_group', tools: [R] });
        let F,
          G = () => {
            n(`Aborting shell command (PID: ${F ?? 'unknown'})`);
          };
        (l.addEventListener('abort', G, { once: !0 }), n(`Executing in ${h}: ${m}`));
        try {
          let { pid: U, result: M } = ov.execute(
            m,
            h,
            (Y) => {
              switch (Y.type) {
                case 'data':
                  if (b) break;
                  S = Y.chunk;
                  break;
                case 'binary_detected':
                  b = !0;
                  break;
                case 'binary_progress':
                  ((b = !0), (I = Y.bytesReceived));
                  break;
                default:
                  throw new Error('An unhandled ShellOutputEvent was found.');
              }
              let z;
              (b
                ? I > 0
                  ? (z = `[Receiving binary output... ${dk(I)} received]`)
                  : (z = '[Binary output detected. Halting stream...]')
                : (z = S),
                Date.now() - _ > iDn &&
                  (e({ type: 'tool_group', tools: [{ ...R, resultDisplay: z }] }),
                  (_ = Date.now())));
            },
            l
          );
          ((F = U),
            M.then((Y) => {
              e(null);
              let z;
              LY(Y.rawOutput)
                ? (z = '[Command produced binary output, which is not shown.]')
                : (z = Y.output.trim() || '(Command produced no output)');
              let se = z,
                j = 'Success';
              if (
                (Y.error
                  ? ((j = 'Error'),
                    (se = `${Y.error.message}
${se}`))
                  : Y.aborted
                    ? ((j = 'Canceled'),
                      (se = `Command was cancelled.
${se}`))
                    : Y.signal
                      ? ((j = 'Error'),
                        (se = `Command terminated by signal: ${Y.signal}.
${se}`))
                      : Y.exitCode !== 0 &&
                        ((j = 'Error'),
                        (se = `Command exited with code ${Y.exitCode}.
${se}`)),
                E && pk.existsSync(E))
              ) {
                let H = pk.readFileSync(E, 'utf8').trim();
                H &&
                  H !== h &&
                  (se = `${`WARNING: shell mode is stateless; the directory change to '${H}' will not persist.`}

${se}`);
              }
              let N = { ...R, status: j, resultDisplay: se };
              (t({ type: 'tool_group', tools: [N] }, u), aDn(a, o, se));
            })
              .catch((Y) => {
                e(null);
                let z = Y instanceof Error ? Y.message : String(Y);
                t({ type: 'error', text: `An unexpected error occurred: ${z}` }, u);
              })
              .finally(() => {
                (l.removeEventListener('abort', G), E && pk.existsSync(E) && pk.unlinkSync(E), g());
              }));
        } catch (U) {
          e(null);
          let M = U instanceof Error ? U.message : String(U);
          (t({ type: 'error', text: `An unexpected error occurred: ${M}` }, u),
            E && pk.existsSync(E) && pk.unlinkSync(E),
            g());
        }
      });
      return (r(v), !0);
    },
    [i, n, t, e, r, a]
  ),
});
Qn();
import * as VKt from 'fs/promises';
import * as fk from 'path';
function sDn(t) {
  let e = [],
    r = 0;
  for (; r < t.length; ) {
    let n = -1,
      i = r;
    for (; i < t.length; ) {
      if (t[i] === '@' && (i === 0 || t[i - 1] !== '\\')) {
        n = i;
        break;
      }
      i++;
    }
    if (n === -1) {
      r < t.length && e.push({ type: 'text', content: t.substring(r) });
      break;
    }
    n > r && e.push({ type: 'text', content: t.substring(r, n) });
    let a = n + 1,
      s = !1;
    for (; a < t.length; ) {
      let u = t[a];
      if (s) s = !1;
      else if (u === '\\') s = !0;
      else {
        if (/[,\s;!?()[\]{}]/.test(u)) break;
        if (u === '.') {
          let c = a + 1 < t.length ? t[a + 1] : '';
          if (c === '' || /\s/.test(c)) break;
        }
      }
      a++;
    }
    let o = t.substring(n, a),
      l = QG(o);
    (e.push({ type: 'atPath', content: l }), (r = a));
  }
  return e.filter((n) => !(n.type === 'text' && n.content.trim() === ''));
}
async function GKt({
  query: t,
  config: e,
  addItem: r,
  onDebugMessage: n,
  messageId: i,
  signal: a,
}) {
  let s = sDn(t),
    o = s.filter((G) => G.type === 'atPath');
  if (o.length === 0)
    return (r({ type: 'user', text: t }, i), { processedQuery: [{ text: t }], shouldProceed: !0 });
  r({ type: 'user', text: t }, i);
  let l = e.getFileService(),
    u = e.getFileFilteringOptions(),
    c = [],
    p = new Map(),
    h = [],
    m = { git: [], koda: [], both: [] },
    E = await e.getToolRegistry(),
    v = E.getTool('read_many_files'),
    g = E.getTool('glob');
  if (!v)
    return (
      r({ type: 'error', text: 'Error: read_many_files tool not found.' }, i),
      { processedQuery: null, shouldProceed: !1 }
    );
  for (let G of o) {
    let U = G.content;
    if (U === '@') {
      n('Lone @ detected, will be treated as text in the modified query.');
      continue;
    }
    let M = U.substring(1);
    if (!M)
      return (
        r({ type: 'error', text: `Error: Invalid @ command '${U}'. No path specified.` }, i),
        { processedQuery: null, shouldProceed: !1 }
      );
    if (!e.getWorkspaceContext().isPathWithinWorkspace(M)) {
      n(`Path ${M} is not in the workspace and will be skipped.`);
      continue;
    }
    let z =
        u.respectGitIgnore &&
        l.shouldIgnoreFile(M, { respectGitIgnore: !0, respectKodaIgnore: !1 }),
      se =
        u.respectKodaIgnore &&
        l.shouldIgnoreFile(M, { respectGitIgnore: !1, respectKodaIgnore: !0 });
    if (z || se) {
      let j = z && se ? 'both' : z ? 'git' : 'koda';
      (m[j].push(M),
        n(
          `Path ${M} is ${j === 'both' ? 'ignored by both git and koda' : j === 'git' ? 'git-ignored' : 'koda-ignored'} and will be skipped.`
        ));
      continue;
    }
    for (let j of e.getWorkspaceContext().getDirectories()) {
      let N = M,
        H = !1;
      try {
        let ee = fk.resolve(j, M);
        ((await VKt.stat(ee)).isDirectory()
          ? ((N = M + (M.endsWith(fk.sep) ? '**' : '/**')),
            n(`Path ${M} resolved to directory, using glob: ${N}`))
          : n(`Path ${M} resolved to file: ${ee}`),
          (H = !0));
      } catch (ee) {
        if (Cs(ee) && ee.code === 'ENOENT')
          if (e.getEnableRecursiveFileSearch() && g) {
            n(`Path ${M} not found directly, attempting glob search.`);
            try {
              let me = await g.buildAndExecute({ pattern: `**/*${M}*`, path: j }, a);
              if (
                me.llmContent &&
                typeof me.llmContent == 'string' &&
                !me.llmContent.startsWith('No files found') &&
                !me.llmContent.startsWith('Error:')
              ) {
                let Ae = me.llmContent.split(`
`);
                if (Ae.length > 1 && Ae[1]) {
                  let X = Ae[1].trim();
                  ((N = fk.relative(j, X)),
                    n(`Glob search for ${M} found ${X}, using relative path: ${N}`),
                    (H = !0));
                } else
                  n(
                    `Glob search for '**/*${M}*' did not return a usable path. Path ${M} will be skipped.`
                  );
              } else
                n(
                  `Glob search for '**/*${M}*' found no files or an error. Path ${M} will be skipped.`
                );
            } catch (me) {
              (console.error(`Error during glob search for ${M}: ${ir(me)}`),
                n(`Error during glob search for ${M}. Path ${M} will be skipped.`));
            }
          } else n(`Glob tool not found. Path ${M} will be skipped.`);
        else
          (console.error(`Error stating path ${M}: ${ir(ee)}`),
            n(`Error stating path ${M}. Path ${M} will be skipped.`));
      }
      if (H) {
        (c.push(N), p.set(U, N), h.push(M));
        break;
      }
    }
  }
  let _ = '';
  for (let G = 0; G < s.length; G++) {
    let U = s[G];
    if (U.type === 'text') _ += U.content;
    else {
      let M = p.get(U.content);
      if (G > 0 && _.length > 0 && !_.endsWith(' ')) {
        let Y = s[G - 1];
        (Y.type === 'text' || (Y.type === 'atPath' && p.has(Y.content))) && (_ += ' ');
      }
      M
        ? (_ += `@${M}`)
        : (G > 0 && _.length > 0 && !_.endsWith(' ') && !U.content.startsWith(' ') && (_ += ' '),
          (_ += U.content));
    }
  }
  _ = _.trim();
  let S = m.git.length + m.koda.length + m.both.length;
  if (S > 0) {
    let G = [];
    (m.git.length && G.push(`Git-ignored: ${m.git.join(', ')}`),
      m.koda.length && G.push(`Koda-ignored: ${m.koda.join(', ')}`),
      m.both.length && G.push(`Ignored by both: ${m.both.join(', ')}`));
    let U = `Ignored ${S} files:
${G.join(`
`)}`;
    (console.log(U), n(U));
  }
  if (c.length === 0)
    return (
      n('No valid file paths found in @ commands to read.'),
      _ === '@' && t.trim() === '@'
        ? { processedQuery: [{ text: t }], shouldProceed: !0 }
        : !_ && t
          ? { processedQuery: [{ text: t }], shouldProceed: !0 }
          : { processedQuery: [{ text: _ || t }], shouldProceed: !0 }
    );
  let b = [{ text: _ }],
    I = {
      paths: c,
      file_filtering_options: {
        respect_git_ignore: u.respectGitIgnore,
        respect_koda_ignore: u.respectKodaIgnore,
      },
    },
    R,
    F;
  try {
    F = v.build(I);
    let G = await F.execute(a);
    if (
      ((R = {
        callId: `client-read-${i}`,
        name: v.displayName,
        description: F.getDescription(),
        status: 'Success',
        resultDisplay: G.returnDisplay || `Successfully read: ${h.join(', ')}`,
        confirmationDetails: void 0,
      }),
      Array.isArray(G.llmContent))
    ) {
      let U = /^--- (.*?) ---\n\n([\s\S]*?)\n\n$/;
      b.push({
        text: `
--- Content from referenced files ---`,
      });
      for (let M of G.llmContent)
        if (typeof M == 'string') {
          let Y = U.exec(M);
          if (Y) {
            let z = Y[1],
              se = Y[2].trim();
            (b.push({
              text: `
Content from @${z}:
`,
            }),
              b.push({ text: se }));
          } else b.push({ text: M });
        } else b.push(M);
      b.push({
        text: `
--- End of content ---`,
      });
    } else n('read_many_files tool returned no content or empty content.');
    return (r({ type: 'tool_group', tools: [R] }, i), { processedQuery: b, shouldProceed: !0 });
  } catch (G) {
    return (
      (R = {
        callId: `client-read-${i}`,
        name: v.displayName,
        description: F?.getDescription() ?? 'Error attempting to execute tool to read files',
        status: 'Error',
        resultDisplay: `Error reading files (${h.join(', ')}): ${ir(G)}`,
        confirmationDetails: void 0,
      }),
      r({ type: 'tool_group', tools: [R] }, i),
      { processedQuery: null, shouldProceed: !1 }
    );
  }
}
var qKt = (t, e) => {
    let r = 0,
      n = 0;
    for (; n < t.length; ) {
      let i = t.indexOf('```', n);
      if (i === -1 || i >= e) break;
      (r++, (n = i + 3));
    }
    return r % 2 === 1;
  },
  oDn = (t, e) => {
    if (!qKt(t, e)) return -1;
    let r = 0;
    for (; r < e; ) {
      let n = t.indexOf('```', r);
      if (n === -1 || n >= e) break;
      let i = t.indexOf('```', n + 3);
      if (n < e && (i === -1 || e < i + 3)) return n;
      if (i === -1) break;
      r = i + 3;
    }
    return -1;
  },
  $Kt = (t) => {
    let e = oDn(t, t.length);
    if (e !== -1) return e;
    let r = t.length;
    for (; r >= 0; ) {
      let n = t.lastIndexOf(
        `

`,
        r
      );
      if (n === -1) break;
      let i = n + 2;
      if (!qKt(t, i)) return i;
      r = n - 1;
    }
    return t.length;
  };
var eme = qe(or(), 1);
var jKt = (t) => {
  let [e, r] = eme.default.useState(t),
    n = eme.default.useRef(t),
    i = eme.default.useCallback((a) => {
      let s;
      (typeof a == 'function' ? (s = a(n.current)) : (s = a), r(s), (n.current = s));
    }, []);
  return [n, i];
};
var tme = qe(or(), 1);
Qn();
var rme = () => {
  let [t, e] = (0, tme.useState)(null);
  return (
    (0, tme.useEffect)(() => {
      let r = new tB(_9);
      r.initialize()
        .then(() => {
          e(r);
        })
        .catch(() => {});
    }, []),
    t
  );
};
import { promises as iXt } from 'fs';
import OUe from 'path';
Qn();
var S9 = qe(or(), 1);
function YKt(t, e, r, n, i) {
  let a = w2(),
    [s, o] = (0, S9.useState)([]),
    l = (0, S9.useCallback)(
      (E, v) => {
        (r((g) =>
          g?.type === 'tool_group'
            ? {
                ...g,
                tools: g.tools.map((_) =>
                  _.callId === E && _.status === 'Executing' ? { ..._, resultDisplay: v } : _
                ),
              }
            : g
        ),
          o((g) =>
            g.map((_) =>
              _.request.callId === E && _.status === 'executing' ? { ..._, liveOutput: v } : _
            )
          ));
      },
      [r]
    ),
    u = (0, S9.useCallback)(
      async (E) => {
        await t(E);
      },
      [t]
    ),
    c = (0, S9.useCallback)(
      (E) => {
        o((v) =>
          E.map((g) => {
            let _ = v.find((b) => b.request.callId === g.request.callId);
            return { ...g, responseSubmittedToGemini: _?.responseSubmittedToGemini ?? !1 };
          })
        );
      },
      [o]
    ),
    p = (0, S9.useMemo)(
      () =>
        new Sz({
          toolRegistry: e.getToolRegistry(),
          outputUpdateHandler: l,
          onAllToolCallsComplete: u,
          onToolCallsUpdate: c,
          getPreferredEditor: n,
          config: e,
          getTerminalSize: () => a,
          onEditorClose: i,
        }),
      [e, l, u, c, n, a, i]
    ),
    h = (0, S9.useCallback)(
      (E, v) => {
        p.schedule(E, v);
      },
      [p]
    ),
    m = (0, S9.useCallback)((E) => {
      o((v) =>
        v.map((g) => (E.includes(g.request.callId) ? { ...g, responseSubmittedToGemini: !0 } : g))
      );
    }, []);
  return [s, h, m];
}
function mk(t) {
  switch (t) {
    case 'validating':
      return 'Executing';
    case 'awaiting_approval':
      return 'Confirming';
    case 'executing':
      return 'Executing';
    case 'success':
      return 'Success';
    case 'cancelled':
      return 'Canceled';
    case 'error':
      return 'Error';
    case 'scheduled':
      return 'Pending';
    default:
      return (console.warn(`Unknown core status encountered: ${t}`), 'Error');
  }
}
function IUe(t) {
  return {
    type: 'tool_group',
    tools: (Array.isArray(t) ? t : [t]).map((n) => {
      let i,
        a,
        s = !1;
      n.status === 'error'
        ? ((i = n.tool === void 0 ? n.request.name : n.tool.displayName),
          (a = JSON.stringify(n.request.args)))
        : ((i = n.tool.displayName),
          (a = n.invocation.getDescription()),
          (s = n.tool.isOutputMarkdown));
      let o = { callId: n.request.callId, name: i, description: a, renderOutputAsMarkdown: s };
      switch (n.status) {
        case 'success':
          return {
            ...o,
            status: mk(n.status),
            resultDisplay: n.response.resultDisplay,
            confirmationDetails: void 0,
          };
        case 'error':
          return {
            ...o,
            status: mk(n.status),
            resultDisplay: n.response.resultDisplay,
            confirmationDetails: void 0,
          };
        case 'cancelled':
          return {
            ...o,
            status: mk(n.status),
            resultDisplay: n.response.resultDisplay,
            confirmationDetails: void 0,
          };
        case 'awaiting_approval':
          return {
            ...o,
            status: mk(n.status),
            resultDisplay: void 0,
            confirmationDetails: n.confirmationDetails,
          };
        case 'executing':
          return {
            ...o,
            status: mk(n.status),
            resultDisplay: n.liveOutput ?? void 0,
            confirmationDetails: void 0,
          };
        case 'validating':
        case 'scheduled':
          return { ...o, status: mk(n.status), resultDisplay: void 0, confirmationDetails: void 0 };
        default:
          return {
            callId: n.request.callId,
            name: 'Unknown Tool',
            description: 'Encountered an unknown tool call state.',
            status: 'Error',
            resultDisplay: 'Unknown tool call state',
            confirmationDetails: void 0,
            renderOutputAsMarkdown: !1,
          };
      }
    }),
  };
}
var xA = qe(or(), 1);
Qn();
var ZKt = qe(Ft(), 1);
var KKt = (0, xA.createContext)(void 0),
  XKt = ({ children: t }) => {
    let [e, r] = (0, xA.useState)({
      sessionId: _9,
      sessionStartTime: new Date(),
      metrics: Kh.getMetrics(),
      lastPromptTokenCount: 0,
      promptCount: 0,
    });
    (0, xA.useEffect)(() => {
      let s = ({ metrics: o, lastPromptTokenCount: l }) => {
        r((u) => ({ ...u, metrics: o, lastPromptTokenCount: l }));
      };
      return (
        Kh.on('update', s),
        s({ metrics: Kh.getMetrics(), lastPromptTokenCount: Kh.getLastPromptTokenCount() }),
        () => {
          Kh.off('update', s);
        }
      );
    }, []);
    let n = (0, xA.useCallback)(() => {
        r((s) => ({ ...s, promptCount: s.promptCount + 1 }));
      }, []),
      i = (0, xA.useCallback)(() => e.promptCount, [e.promptCount]),
      a = (0, xA.useMemo)(() => ({ stats: e, startNewPrompt: n, getPromptCount: i }), [e, n, i]);
    return (0, ZKt.jsx)(KKt.Provider, { value: a, children: t });
  },
  zg = () => {
    let t = (0, xA.useContext)(KKt);
    if (t === void 0) throw new Error('useSessionStats must be used within a SessionStatsProvider');
    return t;
  };
var Hz = qe(or(), 1);
import sme from 'readline';
import { PassThrough as mDn } from 'stream';
var xUe = '[99;5u';
Qn();
var ame = qe(or(), 1);
var cDn = '\x1B[?1004h',
  dDn = '\x1B[?1004l',
  BUe = '\x1B[I',
  RUe = '\x1B[O',
  eXt = () => {
    let { stdin: t } = CE(),
      { stdout: e } = rH(),
      [r, n] = (0, ame.useState)(!0);
    return (
      (0, ame.useEffect)(() => {
        let i = (a) => {
          let s = a.toString(),
            o = s.lastIndexOf(BUe),
            l = s.lastIndexOf(RUe);
          o > l ? n(!0) : l > o && n(!1);
        };
        return (
          e?.write(cDn),
          t?.on('data', i),
          () => {
            (e?.write(dDn), t?.removeListener('data', i));
          }
        );
      }, [t, e]),
      r
    );
  };
var uB = '\x1B',
  tXt = `${uB}[200~`,
  rXt = `${uB}[201~`;
function ja(t, { isActive: e, kittyProtocolEnabled: r = !1, config: n }) {
  let { stdin: i, setRawMode: a } = CE(),
    s = (0, Hz.useRef)(t);
  ((0, Hz.useEffect)(() => {
    s.current = t;
  }, [t]),
    (0, Hz.useEffect)(() => {
      if (!e || !i.isTTY) return;
      a(!0);
      let o = new mDn(),
        l = !1;
      (parseInt(process.versions.node.split('.')[0], 10) < 20 ||
        process.env.PASTE_WORKAROUND === '1' ||
        process.env.PASTE_WORKAROUND === 'true') &&
        (l = !0);
      let c = !1,
        p = Buffer.alloc(0),
        h = '',
        m = null,
        E = !1,
        v = (b) => {
          let I = new RegExp(`^${uB}\\[(\\d+)(;(\\d+))?([u~])$`),
            R = b.match(I);
          if (!R) return null;
          let F = parseInt(R[1], 10),
            U = (R[3] ? parseInt(R[3], 10) : 1) - 1,
            M = (U & 1) === 1,
            Y = (U & 2) === 2,
            z = (U & 4) === 4;
          return F === 27
            ? {
                name: 'escape',
                ctrl: z,
                meta: Y,
                shift: M,
                paste: !1,
                sequence: b,
                kittyProtocol: !0,
              }
            : F === 13
              ? {
                  name: 'return',
                  ctrl: z,
                  meta: Y,
                  shift: M,
                  paste: !1,
                  sequence: b,
                  kittyProtocol: !0,
                }
              : F >= 97 && F <= 122 && z
                ? {
                    name: String.fromCharCode(F),
                    ctrl: !0,
                    meta: Y,
                    shift: M,
                    paste: !1,
                    sequence: b,
                    kittyProtocol: !0,
                  }
                : null;
        },
        g = (b, I) => {
          if (I.name === 'return' && E) {
            (m && (clearTimeout(m), (m = null)),
              (E = !1),
              s.current({ ...I, shift: !0, sequence: '\\\r' }));
            return;
          }
          if (I.sequence === '\\' && !I.name) {
            ((E = !0),
              (m = setTimeout(() => {
                ((E = !1), (m = null), s.current(I));
              }, 5)));
            return;
          }
          if (
            (E &&
              I.name !== 'return' &&
              (m && (clearTimeout(m), (m = null)),
              (E = !1),
              s.current({ name: '', sequence: '\\', ctrl: !1, meta: !1, shift: !1, paste: !1 })),
            ['up', 'down', 'left', 'right'].includes(I.name))
          ) {
            s.current(I);
            return;
          }
          if ((I.ctrl && I.name === 'c') || I.sequence === `${uB}${xUe}`) {
            ((h = ''),
              I.sequence === `${uB}${xUe}`
                ? s.current({
                    name: 'c',
                    ctrl: !0,
                    meta: !1,
                    shift: !1,
                    paste: !1,
                    sequence: I.sequence,
                    kittyProtocol: !0,
                  })
                : s.current(I));
            return;
          }
          if (
            r &&
            (h ||
              (I.sequence.startsWith(`${uB}[`) &&
                !I.sequence.startsWith(tXt) &&
                !I.sequence.startsWith(rXt) &&
                !I.sequence.startsWith(BUe) &&
                !I.sequence.startsWith(RUe)))
          ) {
            h += I.sequence;
            let R = v(h);
            if (R) {
              ((h = ''), s.current(R));
              return;
            }
            if (n?.getDebugMode()) {
              let F = Array.from(h).map((G) => G.charCodeAt(0));
              console.warn('Kitty sequence buffer has char codes:', F);
            }
            if (h.length > 12) {
              if (n) {
                let F = new RN(h.length, h);
                Jae(n, F);
              }
              h = '';
            } else return;
          }
          I.name === 'paste-start'
            ? (c = !0)
            : I.name === 'paste-end'
              ? ((c = !1),
                s.current({
                  name: '',
                  ctrl: !1,
                  meta: !1,
                  shift: !1,
                  paste: !0,
                  sequence: p.toString(),
                }),
                (p = Buffer.alloc(0)))
              : c
                ? (p = Buffer.concat([p, Buffer.from(I.sequence)]))
                : (I.name === 'return' && I.sequence === `${uB}\r` && (I.meta = !0),
                  s.current({ ...I, paste: c }));
        },
        _ = (b) => {
          let I = Buffer.from(tXt),
            R = Buffer.from(rXt),
            F = 0;
          for (; F < b.length; ) {
            let G = b.indexOf(I, F),
              U = b.indexOf(R, F),
              M = G !== -1 && (U === -1 || G < U),
              Y = U !== -1 && (G === -1 || U < G),
              z = -1,
              se = 0;
            if ((M ? (z = G) : Y && (z = U), (se = R.length), z === -1)) {
              o.write(b.slice(F));
              return;
            }
            let j = b.slice(F, z);
            j.length > 0 && o.write(j);
            let N = (H) => ({ name: H, ctrl: !1, meta: !1, shift: !1, paste: !1, sequence: '' });
            (M ? g(void 0, N('paste-start')) : Y && g(void 0, N('paste-end')), (F = z + se));
          }
        },
        S;
      return (
        l
          ? ((S = sme.createInterface({ input: o, escapeCodeTimeout: 0 })),
            sme.emitKeypressEvents(o, S),
            o.on('keypress', g),
            i.on('data', _))
          : ((S = sme.createInterface({ input: i, escapeCodeTimeout: 0 })),
            sme.emitKeypressEvents(i, S),
            i.on('keypress', g)),
        () => {
          (l
            ? (o.removeListener('keypress', g), i.removeListener('data', _))
            : i.removeListener('keypress', g),
            S.close(),
            a(!1),
            m && (clearTimeout(m), (m = null)),
            c &&
              (s.current({
                name: '',
                ctrl: !1,
                meta: !1,
                shift: !1,
                paste: !0,
                sequence: p.toString(),
              }),
              (p = Buffer.alloc(0))));
        }
      );
    }, [e, i, a, r, n]));
}
var hDn = {
    help: {
      basics: 'Basics:',
      addContext: 'Add context',
      addContextDescription:
        'Use {at} to specify files for context (e.g., {example}) to target specific files or folders',
      shellMode: 'Shell mode',
      shellModeDescription:
        'Execute shell commands via {exclamation} (e.g., {example}) or use natural language (e.g. {naturalLanguage})',
      shellModeNaturalLanguageExample: 'start server',
      commands: 'Commands:',
      shellCommand: 'shell command',
      shortcuts: 'Keyboard Shortcuts:',
      jumpWords: 'Jump through words in the input',
      quitApp: 'Quit application',
      newLine: 'New line',
      newLineLinux: 'New line (Alt+Enter works for certain linux distros)',
      clearScreen: 'Clear the screen',
      openEditor: 'Open input in external editor',
      toggleYolo: 'Toggle YOLO mode',
      sendMessage: 'Send message',
      cancelOperation: 'Cancel operation',
      autoAcceptEdits: 'Toggle auto-accepting edits',
      cycleHistory: 'Cycle through your prompt history',
      fullList: 'For a full list of shortcuts, see {file}',
    },
    commandMessages: {
      docs: {
        openingInBrowser: 'Opening documentation in your browser: {url}',
        openInBrowserMessage: `Please open the following URL in your browser to view the documentation:
{url}

If the browser does not open automatically, please copy and paste this link to access the documentation: {url}`,
      },
      init: {
        configNotAvailable: 'Configuration not available.',
        fileAlreadyExists: 'A KODA.md file already exists in this directory. No changes were made.',
        fileCreated: 'Empty KODA.md created. Now analyzing the project to populate it.',
      },
      ide: {
        notSupported:
          'IDE integration is not supported in your current environment. To use this feature, run Koda CLI in one of these supported IDEs: {supportedList}',
        noInstaller:
          "No installer is available for {ideName}. Please install the '{extensionName}' extension manually from the marketplace.",
        installing: 'Installing IDE companion...',
        connected: 'Connected to {ideName}',
        connecting: 'Connecting...',
        disconnected: 'Disconnected',
        disconnectedWithDetails: 'Disconnected: {details}',
        openFilesTitle: 'Open files:',
        fileLimitNote:
          '(Note: The file list is limited to a number of recently accessed files within your workspace and only includes local files on disk)',
        openingBrowser: 'Opening browser to install IDE companion: {url}',
        browserOpened:
          'Browser opened successfully. Please follow the installation instructions on the website.',
        openUrlError: 'Could not open URL in browser: ',
      },
      vim: {
        enteredMode: 'Entered Vim mode. Run /vim again to exit.',
        exitedMode: 'Exited Vim mode.',
      },
    },
    statsDisplay: {
      sessionStats: 'Session Stats',
      interactionSummary: 'Interaction Summary',
      sessionId: 'Session ID:',
      toolCalls: 'Tool Calls:',
      successRate: 'Success Rate:',
      userAgreement: 'User Agreement:',
      userAgreementReviewed: '({count} reviewed)',
      performance: 'Performance',
      wallTime: 'Wall Time:',
      agentActive: 'Agent Active:',
      apiTime: 'API Time:',
      toolTime: 'Tool Time:',
      modelUsage: 'Model Usage',
      requests: 'Reqs',
      inputTokens: 'Input Tokens',
      outputTokens: 'Output Tokens',
      savingsHighlight: 'Savings Highlight:',
      savingsDetail:
        '{tokens} ({percent}%) of input tokens were served from the cache, reducing costs.',
      tipFullStats: 'Tip: For a full token breakdown, run {command}.',
    },
    sessionSummary: { poweringDown: 'Agent powering down. Goodbye!' },
    settings: {
      theme: { label: 'Theme', description: 'The color theme for the UI.' },
      customThemes: { label: 'Custom Themes', description: 'Custom theme definitions.' },
      hideWindowTitle: { label: 'Hide Window Title', description: 'Hide the window title bar' },
      hideTips: { label: 'Hide Tips', description: 'Hide helpful tips in the UI' },
      hideBanner: { label: 'Hide Banner', description: 'Hide the application banner' },
      showMemoryUsage: {
        label: 'Show Memory Usage',
        description: 'Display memory usage information in the UI',
      },
      usageStatisticsEnabled: {
        label: 'Enable Usage Statistics',
        description: 'Enable collection of usage statistics',
      },
      autoConfigureMaxOldSpaceSize: {
        label: 'Auto Configure Max Old Space Size',
        description: 'Automatically configure Node.js memory limits',
      },
      preferredEditor: {
        label: 'Preferred Editor',
        description: 'The preferred editor to open files in.',
      },
      maxSessionTurns: {
        label: 'Max Session Turns',
        description: 'Maximum number of user/model/tool turns to keep in a session.',
      },
      memoryImportFormat: {
        label: 'Memory Import Format',
        description: 'The format to use when importing memory.',
      },
      memoryDiscoveryMaxDirs: {
        label: 'Memory Discovery Max Dirs',
        description: 'Maximum number of directories to search for memory.',
      },
      contextFileName: { label: 'Context File Name', description: 'The name of the context file.' },
      vimMode: { label: 'Vim Mode', description: 'Enable Vim keybindings' },
      ideMode: { label: 'IDE Mode', description: 'Enable IDE integration mode' },
      accessibility: {
        label: 'Accessibility',
        description: 'Accessibility settings.',
        disableLoadingPhrases: {
          label: 'Disable Loading Phrases',
          description: 'Disable loading phrases for accessibility',
        },
      },
      checkpointing: {
        label: 'Checkpointing',
        description: 'Session checkpointing settings.',
        enabled: {
          label: 'Enable Checkpointing',
          description: 'Enable session checkpointing for recovery',
        },
      },
      fileFiltering: {
        label: 'File Filtering',
        description: 'Settings for git-aware file filtering.',
        respectGitIgnore: {
          label: 'Respect .gitignore',
          description: 'Respect .gitignore files when searching',
        },
        respectGeminiIgnore: {
          label: 'Respect .kodaiignore',
          description: 'Respect .kodaignore files when searching',
        },
        enableRecursiveFileSearch: {
          label: 'Enable Recursive File Search',
          description: 'Enable recursive file search functionality',
        },
      },
      disableAutoUpdate: { label: 'Disable Auto Update', description: 'Disable automatic updates' },
      selectedAuthType: {
        label: 'Selected Auth Type',
        description: 'The currently selected authentication type.',
      },
      useExternalAuth: {
        label: 'Use External Auth',
        description: 'Whether to use an external authentication flow.',
      },
      sandbox: {
        label: 'Sandbox',
        description: 'Sandbox execution environment (can be a boolean or a path string).',
      },
      coreTools: { label: 'Core Tools', description: 'Paths to core tool definitions.' },
      excludeTools: {
        label: 'Exclude Tools',
        description: 'Tool names to exclude from discovery.',
      },
      toolDiscoveryCommand: {
        label: 'Tool Discovery Command',
        description: 'Command to run for tool discovery.',
      },
      toolCallCommand: {
        label: 'Tool Call Command',
        description: 'Command to run for tool calls.',
      },
      mcpServerCommand: {
        label: 'MCP Server Command',
        description: 'Command to start an MCP server.',
      },
      mcpServers: { label: 'MCP Servers', description: 'Configuration for MCP servers.' },
      allowMCPServers: {
        label: 'Allow MCP Servers',
        description: 'A whitelist of MCP servers to allow.',
      },
      excludeMCPServers: {
        label: 'Exclude MCP Servers',
        description: 'A blacklist of MCP servers to exclude.',
      },
      telemetry: { label: 'Telemetry', description: 'Telemetry configuration.' },
      bugCommand: {
        label: 'Bug Command',
        description: 'Configuration for the bug report command.',
      },
      summarizeToolOutput: {
        label: 'Summarize Tool Output',
        description: 'Settings for summarizing tool output.',
      },
      dnsResolutionOrder: {
        label: 'DNS Resolution Order',
        description: 'The DNS resolution order.',
      },
      excludedProjectEnvVars: {
        label: 'Excluded Project Environment Variables',
        description: 'Environment variables to exclude from project context.',
      },
      disableUpdateNag: {
        label: 'Disable Update Nag',
        description: 'Disable update notification prompts.',
      },
      includeDirectories: {
        label: 'Include Directories',
        description: 'Additional directories to include in the workspace context.',
      },
      loadMemoryFromIncludeDirectories: {
        label: 'Load Memory From Include Directories',
        description: 'Whether to load memory files from include directories.',
      },
      model: { label: 'Model', description: 'The Koda model to use for conversations.' },
      hasSeenIdeIntegrationNudge: {
        label: 'Has Seen IDE Integration Nudge',
        description: 'Whether the user has seen the IDE integration nudge.',
      },
      folderTrustFeature: {
        label: 'Folder Trust Feature',
        description: 'Enable folder trust feature for enhanced security.',
      },
      folderTrust: {
        label: 'Folder Trust',
        description: 'Setting to track whether Folder trust is enabled.',
      },
      chatCompression: { label: 'Chat Compression', description: 'Chat compression settings.' },
      showLineNumbers: {
        label: 'Show Line Numbers',
        description: 'Show line numbers in the chat.',
      },
      language: { label: 'Language', description: 'The language for the user interface.' },
    },
    languageSetting: {
      selectLanguage: 'Select Language:',
      english: 'English',
      russian: 'Russian',
      pressToSelect: 'Press {key} to select',
      pressEscToCancel: 'Press ESC to cancel',
      pressEnterToChange: 'Press Enter to change',
    },
    authDialog: {
      loginWithGithub: 'Login with GitHub',
      continueWithoutAuth: 'Continue without authentication',
      getTitle: 'Get started',
      authQuestion: 'How would you like to authenticate for this project?',
      useEnterToSelect: '(Use Enter to select)',
      existingApiKeyDetected: 'Existing API key detected (KODA_API_KEY)',
      authenticateLater: 'You can authenticate later through the menu.',
      termsOfService: 'Terms of Services and Privacy Notice for Koda CLI',
    },
    authInProgress: {
      waitingMessage: 'Waiting for auth... (Press ESC or CTRL+C to cancel)',
      openUrlMessage: 'Open: ',
      codeMessage: 'Code: ',
      timeoutMessage: 'Authentication timed out. Please try again.',
    },
    contextSummary: {
      using: 'Using:',
      openFile: 'open file',
      openFiles: 'open files',
      contextFile: 'context file',
      contextFiles: 'context files',
      mcpServer: 'MCP server',
      mcpServers: 'MCP servers',
      blockedMcpServer: 'Blocked MCP server',
      blockedMcpServers: 'Blocked MCP servers',
      viewOpenFiles: 'ctrl+g to view',
      viewMcp: 'ctrl+t to view',
      toggleMcp: 'ctrl+t to toggle',
    },
    loading: {
      activity: {
        processingResponse: 'AI is generating a response...',
        awaitingUserConfirmation: 'Awaiting your confirmation...',
        executing: {
          withDescription: 'Running {tool} - {description}',
          withoutDescription: 'Running {tool}',
        },
        validating: {
          withDescription: 'Validating {tool} - {description}',
          withoutDescription: 'Validating {tool}',
        },
        scheduled: {
          withDescription: 'Preparing {tool} - {description}',
          withoutDescription: 'Preparing {tool}',
        },
        awaitingApproval: {
          withDescription: 'Awaiting confirmation for {tool} - {description}',
          withoutDescription: 'Awaiting confirmation for {tool}',
        },
        success: {
          withDescription: 'Finished {tool} - {description}',
          withoutDescription: 'Finished {tool}',
        },
        error: {
          withDescription: 'Error in {tool} - {description}',
          withoutDescription: 'Error in {tool}',
        },
        cancelled: {
          withDescription: 'Cancelled {tool} - {description}',
          withoutDescription: 'Cancelled {tool}',
        },
        tool: {
          read_file: {
            executing: {
              withDescription: 'Reading file {description}',
              withoutDescription: 'Reading file',
            },
            success: {
              withDescription: 'Read file {description}',
              withoutDescription: 'Read file',
            },
          },
          read_many_files: {
            executing: {
              withDescription: 'Reading multiple files - {description}',
              withoutDescription: 'Reading multiple files',
            },
            success: {
              withDescription: 'Read multiple files - {description}',
              withoutDescription: 'Read multiple files',
            },
          },
          write_file: {
            awaiting_approval: {
              withDescription: 'Awaiting confirmation to write file {description}',
              withoutDescription: 'Awaiting confirmation to write file',
            },
            executing: {
              withDescription: 'Writing file {description}',
              withoutDescription: 'Writing file',
            },
            success: {
              withDescription: 'Wrote file {description}',
              withoutDescription: 'Wrote file',
            },
          },
          replace: {
            awaiting_approval: {
              withDescription: 'Awaiting confirmation to update {description}',
              withoutDescription: 'Awaiting confirmation to update file',
            },
            executing: {
              withDescription: 'Updating {description}',
              withoutDescription: 'Updating file',
            },
            success: {
              withDescription: 'Updated {description}',
              withoutDescription: 'Updated file',
            },
          },
          edit: {
            awaiting_approval: {
              withDescription: 'Awaiting confirmation to edit {description}',
              withoutDescription: 'Awaiting confirmation to edit file',
            },
            executing: {
              withDescription: 'Editing {description}',
              withoutDescription: 'Editing file',
            },
            success: { withDescription: 'Edited {description}', withoutDescription: 'Edited file' },
          },
        },
      },
      cancelAndTimer: '(esc to cancel, {time})',
    },
    commandDescriptions: {
      auth: 'Change the auth method',
      about: 'Show version info',
      chat: 'Manage conversation history',
      chatList: 'List saved conversation checkpoints',
      chatSave: 'Save the current conversation as a checkpoint. Usage: /chat save <tag>',
      chatResume: 'Resume a conversation checkpoint. Usage: /chat resume <tag>',
      chatDelete: 'Delete a conversation checkpoint. Usage: /chat delete <tag>',
      clear: 'Clear the screen and conversation history',
      compress: 'Compresses the context by replacing it with a summary',
      alreadyCompressing: 'Already compressing, wait for previous request to complete',
      copy: 'Copy the last result or code snippet to clipboard',
      corgi: 'Toggles corgi mode',
      directory: 'Manage workspace directories',
      directoryAdd: 'Add directories to the workspace. Use comma to separate multiple paths',
      directoryShow: 'Show all directories in the workspace',
      docs: 'Open documentation in browser',
      editor: 'Set external editor preference',
      extensions: 'List active extensions',
      help: 'For help on koda-cli',
      ide: 'Manage IDE integration',
      ideStatus: 'Check status of IDE integration',
      ideInstall: 'Install required IDE companion for {ideName}',
      ideEnable: 'Enable IDE integration',
      ideDisable: 'Disable IDE integration',
      init: 'Analyzes the project and creates a tailored KODA.md file',
      memory: 'Commands for interacting with memory',
      memoryShow: 'Show the current memory contents',
      memoryAdd: 'Add content to the memory',
      memoryRefresh: 'Refresh the memory from the source',
      mcp: 'List configured MCP servers and tools',
      mcpAuth: 'Authenticate with an OAuth-enabled MCP server',
      mcpRefresh: 'Refresh the list of MCP servers and tools',
      mcpConfigNotLoaded: 'Config not loaded.',
      mcpToolRegistryError: 'Could not retrieve tool registry.',
      mcpNoServersConfigured: 'No MCP servers configured.',
      mcpServersStarting: 'MCP servers are starting up ({count} initializing)...',
      mcpServersStartingNote:
        'Note: First startup may take longer. Tool availability will update automatically.',
      mcpConfiguredServersTitle: 'Configured MCP servers:',
      mcpStatusStarting: 'Starting... (first startup may take longer)',
      mcpStatusDisconnected: 'Disconnected',
      mcpStatusReady: 'Ready',
      mcpAuthExpired: '(OAuth token expired)',
      mcpAuthAuthenticated: '(OAuth authenticated)',
      mcpAuthNotAuthenticated: '(OAuth not authenticated)',
      mcpToolSingular: 'tool',
      mcpToolPlural: 'tools',
      mcpPromptSingular: 'prompt',
      mcpPromptPlural: 'prompts',
      mcpZeroTools: '(0 tools)',
      mcpToolsLoading: '(tools and prompts will appear when ready)',
      mcpToolsCached: '({count} tools cached)',
      mcpToolsTitle: 'Tools:',
      mcpParametersTitle: 'Parameters:',
      mcpPromptsTitle: 'Prompts:',
      mcpNoToolsOrPrompts: 'No tools or prompts available',
      mcpNoToolsAvailable: 'No tools available',
      mcpAuthHint: '(type: "/mcp auth {serverName}" to authenticate this server)',
      mcpStatusBlocked: 'Blocked',
      mcpTipsTitle: '\u{1F4A1} Tips:',
      mcpTipsDesc: '   Use {command} to show server and tool descriptions',
      mcpTipsSchema: '   Use {command} to show tool parameter schemas',
      mcpTipsNoDesc: '   Use {command} to hide descriptions',
      mcpTipsAuth: '   Use {command} to authenticate with OAuth-enabled servers',
      mcpTipsToggle: '   Press {command} to toggle tool descriptions on/off',
      mcpNoOauthServers: 'No MCP servers configured with OAuth authentication.',
      mcpOAuthServersList: `MCP servers with OAuth authentication:
{serverList}

Use /mcp auth <server-name> to authenticate.`,
      mcpServerNotFound: "MCP server '{serverName}' not found.",
      mcpAuthStarting: "Starting OAuth authentication for MCP server '{serverName}'...",
      mcpAuthSuccess: " Successfully authenticated with MCP server '{serverName}'!",
      mcpAuthRediscovering: "Re-discovering tools from '{serverName}'...",
      mcpAuthRefreshSuccess: "Successfully authenticated and refreshed tools for '{serverName}'.",
      mcpAuthFailure: "Failed to authenticate with MCP server '{serverName}': {error}",
      mcpRefreshing: 'Refreshing MCP servers and tools...',
      privacy: 'Display the privacy notice',
      quit: 'Exit the cli',
      restore: 'Restore a previous version of a file. Usage: /restore <file_path>',
      restoreCommand: {
        noCheckpointDir: 'Could not determine the .kodacli directory path.',
        noRestorableCalls: 'No restorable tool calls found.',
        availableCalls: 'Available tool calls to restore:\\n\\n{fileList}',
        fileNotFound: 'File not found: {fileName}',
        loadHistoryNotAvailable: 'loadHistory function is not available.',
        projectRestored: 'Restored project to the state before the tool call.',
        readError: 'Could not read restorable tool calls. This is the error: {error}',
      },
      settings: 'View and edit Koda CLI settings',
      setupGithub: 'Set up GitHub Actions',
      stats: 'Check session stats. Usage: /stats [model|tools]',
      statsModel: 'Show model-specific usage statistics',
      statsTools: 'Show tool-specific usage statistics',
      theme: 'Change the theme',
      tools: 'List available Koda CLI tools',
      vim: 'Toggle vim mode on/off',
      model: 'Select model',
      terminalSetup: 'Set up terminal integration',
      bug: 'Report a bug or issue',
    },
    bugCommand: {
      browserInstruction: `Opening bug report in your default browser...
`,
      bugReportDetails: 'Bug Report Details:',
      openUrlError: 'Could not open URL in browser: ',
      telegramCommunity: 'Telegram Community:',
    },
    commandPrompts: {
      init: `
You are an AI agent that brings the power of Koda directly into the terminal. Your task is to analyze the current directory and generate a comprehensive KODA.md file to be used as instructional context for future interactions.

**Analysis Process:**

1.  **Initial Exploration:**
    *   Start by listing the files and directories to get a high-level overview of the structure.
    *   Read the README file (e.g., \`README.md\`, \`README.txt\`) if it exists. This is often the best place to start.

2.  **Iterative Deep Dive (up to 10 files):**
    *   Based on your initial findings, select a few files that seem most important (e.g., configuration files, main source files, documentation).
    *   Read them. As you learn more, refine your understanding and decide which files to read next. You don't need to decide all 10 files at once. Let your discoveries guide your exploration.

3.  **Identify Project Type:**
    *   **Code Project:** Look for clues like \`package.json\`, \`requirements.txt\`, \`pom.xml\`, \`go.mod\`, \`Cargo.toml\`, \`build.gradle\`, or a \`src\` directory. If you find them, this is likely a software project.
    *   **Non-Code Project:** If you don't find code-related files, this might be a directory for documentation, research papers, notes, or something else.

**KODA.md Content Generation:**

**For a Code Project:**

*   **Project Overview:** Write a clear and concise summary of the project's purpose, main technologies, and architecture.
*   **Building and Running:** Document the key commands for building, running, and testing the project. Infer these from the files you've read (e.g., \`scripts\` in \`package.json\`, \`Makefile\`, etc.). If you can't find explicit commands, provide a placeholder with a TODO.
*   **Development Conventions:** Describe any coding styles, testing practices, or contribution guidelines you can infer from the codebase.

**For a Non-Code Project:**

*   **Directory Overview:** Describe the purpose and contents of the directory. What is it for? What kind of information does it hold?
*   **Key Files:** List the most important files and briefly explain what they contain.
*   **Usage:** Explain how the contents of this directory are intended to be used.

**Final Output:**

Write the complete content to the \`KODA.md\` file. The output must be well-formatted Markdown.
`,
    },
    toolDescriptions: {
      search_file_content:
        'Searches for a regular expression pattern within the content of files in a specified directory (or current working directory). Can filter files by a glob pattern. Returns the lines containing matches, along with their file paths and line numbers.',
      list_directory:
        'Lists the names of files and subdirectories directly within a specified directory path. Can optionally ignore entries matching provided glob patterns.',
      glob: 'Efficiently finds files matching specific glob patterns (e.g., `src/**/*.ts`, `**/*.md`), returning absolute paths sorted by modification time (newest first). Ideal for quickly locating files based on their name or path structure, especially in large codebases.',
      google_web_search:
        'Performs a web search using the Serper-backed API and returns the top organic results.',
      save_memory: `Saves a specific piece of information or fact to your long-term memory.

Use this tool:

- When the user explicitly asks you to remember something (e.g., "Remember that I like pineapple on pizza", "Please save this: my cat's name is Whiskers").
- When the user states a clear, concise fact about themselves, their preferences, or their environment that seems important for you to retain for future interactions to provide a more personalized and effective assistance.

Do NOT use this tool:

- To remember conversational context that is only relevant for the current session.
- To save long, complex, or rambling pieces of text. The fact should be relatively short and to the point.
- If you are unsure whether the information is a fact worth remembering long-term. If in doubt, you can ask the user, "Should I remember that for you?"

## Parameters

- \`fact\` (string, required): The specific fact or piece of information to remember. This should be a clear, self-contained statement. For example, if the user says "My favorite color is blue", the fact would be "My favorite color is blue".`,
      run_shell_command:
        'This tool executes a given shell command as `bash -c <command>`. Command can start background processes using `&`. Command is executed as a subprocess that leads its own process group. Command process group can be terminated as `kill -- -PGID` or signaled as `kill -s SIGNAL -- -PGID`.\n\n      The following information is returned:\n\n      Command: Executed command.\n      Directory: Directory (relative to project root) where command was executed, or `(root)`.\n      Stdout: Output on stdout stream. Can be `(empty)` or partial on error and for any unwaited background processes.\n      Stderr: Output on stderr stream. Can be `(empty)` or partial on error and for any unwaited background processes.',
    },
    tips: {
      title: 'Tips for getting started:',
      tip1: '1. Ask questions, edit files, or run commands',
      tip2: '2. Be specific for the best results',
      tip3: '3. Create {fileName} files to customize your interactions with Koda',
      tip4: '4. {command} for more information',
      tip3noFile: '3. {command} for more information',
    },
    startupWarnings: {
      homeDirectory: {
        message:
          'You are running Koda CLI in your home directory. It is recommended to run in a project-specific directory.',
      },
      rootDirectory: {
        message:
          'Warning: You are running Koda CLI in the root directory. Your entire folder structure will be used for context. It is strongly recommended to run in a project-specific directory.',
      },
      fileSystemError: {
        message: 'Could not verify the current directory due to a file system error.',
      },
    },
    app: {
      context: { contextLeft: '{percentLeft}% context left' },
      toolConfirmation: {
        modifyInProgress: 'Modify in progress: ',
        saveAndCloseExternalEditor: 'Save and close external editor to continue',
        applyThisChange: 'Apply this change?',
        yesAllowOnce: 'Yes, allow once',
        yesAllowAlways: 'Yes, allow always',
        noEsc: 'No (esc)',
        modifyWithExternalEditor: 'Modify with external editor',
        noSuggestChanges: 'No, suggest changes (esc)',
        allowExecutionOf: "Allow execution of: '{command}'?",
        doYouWantToProceed: 'Do you want to proceed?',
        urlsToFetch: 'URLs to fetch:',
        allowExecutionOfMcpTool:
          'Allow execution of MCP tool "{toolName}" from server "{serverName}"?',
        yesAlwaysAllowToolFromServer:
          'Yes, always allow tool "{toolName}" from server "{serverName}"',
        yesAlwaysAllowAllToolsFromServer: 'Yes, always allow all tools from server "{serverName}"',
      },
      requestCancelled: 'Request cancelled.',
      docs: { seeDocs: 'see /docs' },
      settings: {
        title: 'Settings',
        applyTo: 'Apply To',
        enterSelectTabFocus: '(Use Enter to select, Tab to change focus)',
        restartRequired:
          'To see changes, Koda CLI must be restarted. Press r to exit and apply changes now.',
      },
      memory: {
        refreshing: 'Refreshing hierarchical memory (KODA.md or other context files)...',
        refreshSuccess:
          'Memory refreshed successfully. Loaded {charCount} characters from {fileCount} file(s).',
        refreshSuccessEmpty: 'Memory refreshed successfully. No memory content found.',
        refreshError: 'Error refreshing memory: {error}',
        empty: 'Memory is currently empty.',
        usage: 'Usage: /memory add <text to remember>',
        saving: 'Attempting to save to memory: "{text}"',
        refreshingFromSourceFiles: 'Refreshing memory from source files...',
        refreshSuccessFromSourceFiles:
          'Memory refreshed successfully. Loaded {characters} characters from {files} file(s).',
        showContent:
          'Current memory content from {fileCount} file(s):\\n\\n---\\n{memoryContent}\\n---',
        save: 'Save Memory',
        saveSuccess: `Okay, I've remembered that: "{fact}"`,
        saveModifiedSuccess: "Okay, I've updated the memory file with your modifications.",
        saveError: 'Error saving memory: {error}',
        validationNonEmpty: 'Parameter "fact" must be a non-empty string.',
      },
      flashFallback: {
        proQuotaExceeded: ` Switching from {currentModel} to {fallbackModel} for the remainder of this session because the current model is temporarily unavailable.
 Use /auth to configure another access token if you prefer a different model.`,
        freeQuotaExceeded: ` Switching from {currentModel} to {fallbackModel} for the remainder of this session because the current model is temporarily unavailable.
 Use /auth to configure another access token if you prefer a different model.`,
        proGenericQuota: ` Switching from {currentModel} to {fallbackModel} for the remainder of this session because the current model is temporarily unavailable.
 Use /auth to configure another access token if you prefer a different model.`,
        freeGenericQuota: ` Switching from {currentModel} to {fallbackModel} for the remainder of this session because the current model is temporarily unavailable.
 Use /auth to configure another access token if you prefer a different model.`,
        proDefault: ` Switching from {currentModel} to {fallbackModel} for the remainder of this session because the current model is temporarily unavailable.
 Use /auth to configure another access token if you prefer a different model.`,
        freeDefault: ` Switching from {currentModel} to {fallbackModel} for the remainder of this session because the current model is temporarily unavailable.
 Use /auth to configure another access token if you prefer a different model.`,
      },
      trial: {
        footerLabel: 'trial requests {used}{limitPart}',
        limitReached: ` You have used all available Koda trial requests.
 Further requests are paused until the trial resets.
 Configure permanent access with /auth or visit https://kodacode.ru .`,
      },
      auth: {
        reauthRequired: 'Reauthentication required',
        timeout: 'Authentication timed out. Please try again.',
      },
      prompts: {
        pressCtrlCAgain: 'Press Ctrl+C again to exit.',
        pressCtrlDAgain: 'Press Ctrl+D again to exit.',
        pressEscAgain: 'Press Esc again to clear.',
      },
      placeholders: {
        vim: "  Press 'i' for INSERT mode and 'Esc' for NORMAL mode.",
        default: '  Type your message or @path/to/file',
      },
      confirmation: { yes: 'Yes', no: 'No' },
      compression: {
        compressing: 'Compressing chat history',
        compressed: 'Chat history compressed from {original} to {new} tokens.',
      },
      chat: {
        noCheckpoints: 'No saved conversation checkpoints found.',
        listTitle: 'List of saved conversations:',
        savedOn: 'saved on',
        noteNewestLast: 'Note: Newest last, oldest first',
        missingTag: 'Missing tag. Usage: /chat save <tag>',
        conversationSaved: 'Conversation checkpoint saved with tag: {tag}.',
        noConversation: 'No conversation found to save.',
        noCheckpoint: 'No saved checkpoint found with tag: {tag}.',
        overwritePrompt:
          'A checkpoint with the tag {tag} already exists. Do you want to overwrite it?',
      },
      copy: {
        noOutput: 'No output in history',
        copied: 'Last output copied to the clipboard',
        failed: 'Failed to copy to the clipboard.',
        noText: 'Last AI output contains no text to copy.',
      },
      directory: {
        configNotAvailable: 'Configuration is not available.',
        providePath: 'Please provide at least one path to add.',
        notSupported:
          'The /directory add command is not supported in restrictive sandbox profiles. Please use --include-directories when starting the session instead.',
        successfullyAddedFiles: `Successfully added KODA.md files from the following directories if there are:
- {directories}`,
        successfullyAdded: `Successfully added directories:
- {directories}`,
        currentDirectories: `Current workspace directories:
{directories}`,
      },
      tools: {
        noRegistry: 'Could not retrieve tool registry.',
        available: `Available Koda CLI tools:

`,
        noTools: `  No tools available
`,
      },
      editorSettings: {
        title: 'Select Editor',
        applyTo: 'Apply To',
        enterSelectTabFocus: '(Use Enter to select, Tab to change focus)',
        supportedEditors:
          'These editors are currently supported. Please note that some editors cannot be used in sandbox mode.',
        preferredEditor: 'Your preferred editor is: ',
        none: 'None',
      },
      theme: {
        title: 'Select Theme',
        applyTo: 'Apply To',
        preview: 'Preview',
        enterSelectTabFocus: '(Use Enter to select, Tab to change focus)',
      },
      stats: {
        modelStats: 'Model Stats For Nerds',
        toolStats: 'Tool Stats For Nerds',
        metric: 'Metric',
        api: 'API',
        requests: 'Requests',
        errors: 'Errors',
        avgLatency: 'Avg Latency',
        tokens: 'Tokens',
        total: 'Total',
        prompt: 'Prompt',
        cached: 'Cached',
        thoughts: 'Thoughts',
        tool: 'Tool',
        toolName: 'Tool Name',
        output: 'Output',
        calls: 'Calls',
        successRate: 'Success Rate',
        avgDuration: 'Avg Duration',
        userDecisionSummary: 'User Decision Summary',
        totalReviewed: 'Total Reviewed Suggestions',
        accepted: 'Accepted',
        rejected: 'Rejected',
        modified: 'Modified',
        overallAgreementRate: 'Overall Agreement Rate',
        noApiCalls: 'No API calls have been made in this session.',
        noToolCalls: 'No tool calls have been made in this session.',
      },
      about: {
        title: 'About Koda CLI',
        cliVersion: 'CLI Version',
        gitCommit: 'Git Commit',
        model: 'Model',
        sandbox: 'Sandbox',
        os: 'OS',
        authMethod: 'Auth Method',
        gcpProject: 'GCP Project',
      },
      init: {
        error: 'Initialization Error: {error}',
        checkConfig: 'Please check API key and configuration.',
      },
      extensions: { noActive: 'No active extensions.', activeTitle: 'Active extensions:' },
    },
  },
  ADn = {
    help: {
      basics: ':',
      addContext:
        ' ',
      addContextDescription:
        ' {at},      (, {example}),      ',
      shellMode: ' ',
      shellModeDescription:
        '    {exclamation} (, {example})     (, {naturalLanguage})',
      shellModeNaturalLanguageExample:
        ' ',
      commands: ':',
      shellCommand:
        ' ',
      shortcuts:
        ' :',
      jumpWords:
        '     ',
      quitApp:
        '  ',
      newLine: ' ',
      newLineLinux:
        '  (Alt+Enter     Linux)',
      clearScreen:
        ' ',
      openEditor:
        '    ',
      toggleYolo:
        '  YOLO',
      sendMessage:
        ' ',
      cancelOperation:
        ' ',
      autoAcceptEdits:
        '   ',
      cycleHistory:
        '   ',
      fullList:
        '      {file}',
    },
    commandMessages: {
      docs: {
        openingInBrowser:
          '    : {url}',
        openInBrowserMessage: `,   URL-     :
{url}

    ,         : {url}`,
      },
      init: {
        configNotAvailable:
          ' .',
        fileAlreadyExists:
          ' KODA.md     .   .',
        fileCreated:
          '  KODA.md .     .',
      },
      ide: {
        notSupported:
          '  IDE      .    ,  Koda CLI     IDE: {supportedList}',
        noInstaller:
          "    {ideName}.   '{extensionName}'   .",
        installing:
          '  IDE...',
        connected: '  {ideName}',
        connecting: '...',
        disconnected: '',
        disconnectedWithDetails:
          ': {details}',
        openFilesTitle:
          ' :',
        fileLimitNote:
          '(:                  )',
        openingBrowser:
          '     IDE: {url}',
        browserOpened:
          '  . ,      .',
        openUrlError:
          '   URL  : ',
      },
      vim: {
        enteredMode:
          '   Vim.  /vim   .',
        exitedMode:
          '   Vim.',
      },
    },
    statsDisplay: {
      sessionStats:
        ' ',
      interactionSummary:
        ' ',
      sessionId: 'ID :',
      toolCalls:
        ' :',
      successRate: ':',
      userAgreement:
        ' :',
      userAgreementReviewed: '({count} )',
      performance:
        '',
      wallTime: ' :',
      agentActive:
        ' :',
      apiTime: 'API-:',
      toolTime:
        ' :',
      modelUsage:
        ' ',
      requests: '',
      inputTokens:
        ' ',
      outputTokens:
        ' ',
      savingsHighlight: ':',
      savingsDetail:
        '{tokens} ({percent}%)      ,  .',
      tipFullStats:
        ':       {command}.',
    },
    sessionSummary: {
      poweringDown:
        '  .  !',
    },
    settings: {
      theme: {
        label: '',
        description:
          '  .',
      },
      customThemes: {
        label:
          ' ',
        description:
          '  .',
      },
      hideWindowTitle: {
        label:
          '  ',
        description:
          '   ',
      },
      hideTips: {
        label:
          ' ',
        description:
          '    ',
      },
      hideBanner: {
        label: ' ',
        description:
          '  ',
      },
      showMemoryUsage: {
        label:
          '  ',
        description:
          '      ',
      },
      usageStatisticsEnabled: {
        label:
          '  ',
        description:
          '   ',
      },
      autoConfigureMaxOldSpaceSize: {
        label:
          ' Max Old Space Size',
        description:
          '    Node.js',
      },
      preferredEditor: {
        label:
          ' ',
        description:
          '    .',
      },
      maxSessionTurns: {
        label:
          '.   ',
        description:
          '   //,   .',
      },
      memoryImportFormat: {
        label:
          '  ',
        description:
          ',    .',
      },
      memoryDiscoveryMaxDirs: {
        label:
          '.     ',
        description:
          '     .',
      },
      contextFileName: {
        label:
          '  ',
        description:
          '  .',
      },
      vimMode: {
        label: ' Vim',
        description:
          '   Vim',
      },
      ideMode: {
        label: ' IDE',
        description:
          '    IDE',
      },
      accessibility: {
        label:
          ' ',
        description:
          '  .',
        disableLoadingPhrases: {
          label:
            '  ',
          description:
            '     ',
        },
      },
      checkpointing: {
        label:
          ' ',
        description:
          '   .',
        enabled: {
          label:
            '  ',
          description:
            '     ',
        },
      },
      fileFiltering: {
        label:
          ' ',
        description:
          '     git.',
        respectGitIgnore: {
          label: ' .gitignore',
          description:
            '  .gitignore  ',
        },
        respectGeminiIgnore: {
          label: ' .kodaignore',
          description:
            '  .kodaignore  ',
        },
        enableRecursiveFileSearch: {
          label:
            '   ',
          description:
            '    ',
        },
      },
      disableAutoUpdate: {
        label:
          ' ',
        description:
          '  ',
      },
      selectedAuthType: {
        label:
          '  ',
        description:
          '   .',
      },
      useExternalAuth: {
        label:
          '  ',
        description:
          '    .',
      },
      sandbox: {
        label: '',
        description:
          '    (     ).',
      },
      coreTools: {
        label:
          ' ',
        description:
          '    .',
      },
      excludeTools: {
        label:
          ' ',
        description:
          '     .',
      },
      toolDiscoveryCommand: {
        label:
          '  ',
        description:
          '    .',
      },
      toolCallCommand: {
        label:
          '  ',
        description:
          '    .',
      },
      mcpServerCommand: {
        label:
          '  MCP',
        description:
          '    MCP.',
      },
      mcpServers: {
        label: ' MCP',
        description:
          '  MCP.',
      },
      allowMCPServers: {
        label:
          '  MCP',
        description:
          ' (allowlist)  MCP,  .',
      },
      excludeMCPServers: {
        label:
          '  MCP',
        description:
          ' (blocklist)  MCP,  .',
      },
      telemetry: {
        label: '',
        description:
          ' .',
      },
      bugCommand: {
        label:
          '   ',
        description:
          '     .',
      },
      summarizeToolOutput: {
        label:
          '  ',
        description:
          '   .',
      },
      dnsResolutionOrder: {
        label:
          '  DNS',
        description:
          '  DNS.',
      },
      excludedProjectEnvVars: {
        label:
          '   ',
        description:
          ' ,    .',
      },
      disableUpdateNag: {
        label:
          '   ',
        description:
          '    .',
      },
      includeDirectories: {
        label:
          ' ',
        description:
          ' ,     .',
      },
      loadMemoryFromIncludeDirectories: {
        label:
          '    ',
        description:
          '      .',
      },
      model: {
        label: '',
        description:
          ' Koda  .',
      },
      hasSeenIdeIntegrationNudge: {
        label:
          '   IDE ',
        description:
          '      IDE.',
      },
      folderTrustFeature: {
        label:
          '   ',
        description:
          '       .',
      },
      folderTrust: {
        label: '  ',
        description:
          ',     .',
      },
      chatCompression: {
        label: ' ',
        description:
          '  .',
      },
      showLineNumbers: {
        label:
          '  ',
        description:
          '    .',
      },
      language: {
        label: '',
        description:
          '  .',
      },
    },
    languageSetting: {
      selectLanguage: ' :',
      english: '',
      russian: '',
      pressToSelect:
        ' {key}  ',
      pressEscToCancel:
        ' ESC  ',
      pressEnterToChange:
        ' Enter  ',
    },
    authDialog: {
      loginWithGithub: '  GitHub',
      continueWithoutAuth:
        '  ',
      getTitle: ' ',
      authQuestion:
        '   ?',
      useEnterToSelect:
        '( Enter  )',
      existingApiKeyDetected:
        '  API- (KODA_API_KEY)',
      authenticateLater:
        '     .',
      termsOfService:
        '       Koda CLI',
    },
    authInProgress: {
      waitingMessage:
        ' ... ( ESC  CTRL+C  )',
      openUrlMessage: ': ',
      codeMessage: ': ',
      timeoutMessage:
        '   .   .',
    },
    contextSummary: {
      using: ':',
      openFile: ' ',
      openFiles: ' ',
      contextFile:
        ' ',
      contextFiles:
        ' ',
      mcpServer: ' MCP',
      mcpServers: ' MCP',
      blockedMcpServer:
        '  MCP',
      blockedMcpServers:
        '  MCP',
      viewOpenFiles:
        'ctrl+g  ',
      viewMcp: 'ctrl+t  ',
      toggleMcp:
        'ctrl+t  ',
    },
    loading: {
      activity: {
        processingResponse:
          '  ...',
        awaitingUserConfirmation:
          '  ...',
        executing: {
          withDescription:
            ' {tool} - {description}',
          withoutDescription: ' {tool}',
        },
        validating: {
          withDescription:
            '  {tool} - {description}',
          withoutDescription:
            '  {tool}',
        },
        scheduled: {
          withDescription: ' {tool} - {description}',
          withoutDescription: ' {tool}',
        },
        awaitingApproval: {
          withDescription:
            '   {tool} - {description}',
          withoutDescription:
            '   {tool}',
        },
        success: {
          withDescription:
            ' {tool} - {description}',
          withoutDescription: ' {tool}',
        },
        error: {
          withDescription: '  {tool} - {description}',
          withoutDescription: '  {tool}',
        },
        cancelled: {
          withDescription: ' {tool} - {description}',
          withoutDescription: ' {tool}',
        },
        tool: {
          read_file: {
            executing: {
              withDescription:
                '  {description}',
              withoutDescription: ' ',
            },
            success: {
              withDescription:
                '  {description}',
              withoutDescription:
                ' ',
            },
          },
          read_many_files: {
            executing: {
              withDescription:
                '   - {description}',
              withoutDescription:
                '  ',
            },
            success: {
              withDescription:
                '   - {description}',
              withoutDescription:
                '  ',
            },
          },
          write_file: {
            awaiting_approval: {
              withDescription:
                '     {description}',
              withoutDescription:
                '    ',
            },
            executing: {
              withDescription:
                '  {description}',
              withoutDescription:
                ' ',
            },
            success: {
              withDescription:
                '  {description}',
              withoutDescription:
                ' ',
            },
          },
          replace: {
            awaiting_approval: {
              withDescription:
                '    {description}',
              withoutDescription:
                '    ',
            },
            executing: {
              withDescription: ' {description}',
              withoutDescription:
                ' ',
            },
            success: {
              withDescription: ' {description}',
              withoutDescription:
                ' ',
            },
          },
          edit: {
            awaiting_approval: {
              withDescription:
                '    {description}',
              withoutDescription:
                '    ',
            },
            executing: {
              withDescription: ' {description}',
              withoutDescription: ' ',
            },
            success: {
              withDescription: ' {description}',
              withoutDescription:
                ' ',
            },
          },
        },
      },
      cancelAndTimer: '(esc  , {time})',
    },
    commandDescriptions: {
      about:
        '   ',
      auth: '  ',
      chat: '  ',
      chatList:
        '    ',
      chatSave:
        '     . : /chat save <>',
      chatResume:
        '   . : /chat resume <>',
      chatDelete:
        '   . : /chat delete <>',
      clear:
        '    ',
      compress:
        ' ,   ',
      alreadyCompressing:
        '   ,    ',
      copy: '        ',
      corgi:
        '  ',
      directory:
        '   ',
      directoryAdd:
        '    .      ',
      directoryShow:
        '     ',
      docs: '   ',
      editor:
        '   ',
      extensions:
        '  ',
      help: '  koda-cli',
      ide: '  IDE',
      ideStatus:
        '   IDE',
      ideInstall:
        '   IDE  {ideName}',
      ideEnable:
        '  IDE',
      ideDisable:
        '  IDE',
      init: '      KODA.md',
      memory:
        '    ',
      memoryShow:
        '   ',
      memoryAdd:
        '   ',
      memoryRefresh:
        '   ',
      mcp: '     MCP',
      mcpAuth:
        '   MCP   OAuth',
      mcpRefresh:
        '     MCP',
      mcpConfigNotLoaded:
        '  .',
      mcpToolRegistryError:
        '    .',
      mcpNoServersConfigured:
        ' MCP  .',
      mcpServersStarting:
        ' MCP  ({count} )...',
      mcpServersStartingNote:
        ':      .    .',
      mcpConfiguredServersTitle:
        '  MCP:',
      mcpStatusStarting:
        '... (     )',
      mcpStatusDisconnected: '',
      mcpStatusReady: '',
      mcpAuthExpired: '(OAuth  )',
      mcpAuthAuthenticated:
        '(OAuth  )',
      mcpAuthNotAuthenticated:
        '(OAuth   )',
      mcpToolSingular: '',
      mcpToolPlural: '',
      mcpPromptSingular: '',
      mcpPromptPlural: '',
      mcpZeroTools: '(0 )',
      mcpToolsLoading:
        '(   ,   )',
      mcpToolsCached:
        '({count}   )',
      mcpToolsTitle: ':',
      mcpParametersTitle: ':',
      mcpPromptsTitle: ':',
      mcpNoToolsOrPrompts:
        '    ',
      mcpNoToolsAvailable:
        '  ',
      mcpAuthHint:
        '(: "/mcp auth {serverName}"    )',
      mcpStatusBlocked: '',
      mcpTipsTitle: '\u{1F4A1} :',
      mcpTipsDesc:
        '    {command}      ',
      mcpTipsSchema:
        '    {command}     ',
      mcpTipsNoDesc:
        '    {command}   ',
      mcpTipsAuth:
        '    {command}    ,  OAuth',
      mcpTipsToggle:
        '    {command}     ',
      mcpNoOauthServers:
        '  MCP,    OAuth.',
      mcpOAuthServersList: ` MCP   OAuth:
{serverList}

 /mcp auth <->  .`,
      mcpServerNotFound:
        " MCP '{serverName}'  .",
      mcpAuthStarting:
        " OAuth    MCP '{serverName}'...",
      mcpAuthSuccess:
        "      MCP '{serverName}'!",
      mcpAuthRediscovering:
        "    '{serverName}'...",
      mcpAuthRefreshSuccess:
        "       '{serverName}'.",
      mcpAuthFailure:
        "      MCP '{serverName}': {error}",
      mcpRefreshing:
        '    MCP...',
      privacy:
        '   ',
      quit: '  cli',
      restore:
        '   . : /restore <__>',
      restoreCommand: {
        noCheckpointDir:
          '      .kodacli.',
        noRestorableCalls:
          '    .',
        availableCalls:
          '    :\\n\\n{fileList}',
        fileNotFound:
          '  : {fileName}',
        loadHistoryNotAvailable:
          ' loadHistory .',
        projectRestored:
          '      .',
        readError:
          '      . : {error}',
      },
      settings:
        '    Koda CLI',
      setupGithub: ' GitHub Actions',
      stats:
        '  ',
      statsModel:
        '    ',
      statsTools:
        '    ',
      theme: ' ',
      tools:
        '   Koda CLI',
      vim: '/  vim',
      model: ' ',
      terminalSetup:
        ' ',
      bug: '    ',
    },
    bugCommand: {
      browserInstruction: `        ...
`,
      bugReportDetails:
        '  :',
      openUrlError:
        '   URL-  : ',
      telegramCommunity:
        '  Telegram:',
    },
    commandPrompts: {
      init: `
  -,    Koda   .           KODA.md,         .

** :**                ,   .

** :**

1.  ** :**
    *         ,      .
    *     README (, \`README.md\`, \`README.txt\`),   .    .

2.  **  ( 10 ):**
    *            (,  ,  , ).
    *    .       ,    ,    .     10       .

3.  **  :**
    *   **  :**    \`package.json\`, \`requirements.txt\`, \`pom.xml\`, \`go.mod\`, \`Cargo.toml\`, \`build.gradle\`   \`src\`.   ,     .
    *   **  :**    ,    , ,    .

** KODA.md:**

**   :**

*   ** :**    ,    .
*   **  :**     ,    .      (,  \`scripts\`  \`package.json\`, \`Makefile\`  ..).    ,    TODO.
*   ** :**   ,     ,      .

**   :**

*   ** :**     .   ?    ?
*   ** :**      ,    .
*   **:** ,     .

** :**

     \`KODA.md\`.      Markdown.
       .
`,
    },
    toolDescriptions: {
      search_file_content:
        '           (  ).     glob-.  ,  ,        .',
      list_directory:
        '        .   ,   glob-.',
      glob: '  ,   glob- (, `src/**/*.ts`, `**/*.md`),   ,     ( ).           ,     .',
      google_web_search:
        ' -   API Serper     .',
      save_memory: `         .

  :

-      -  (, ",      ", ", :    - ").
-    ,    ,     , , ,      ,       .

   :

-    ,      .
-   ,    .        .
-    ,       .  ,   : "    ?"

## 

- \`fact\` (string, required):       .   ,  . ,    "   - ",    "   - ".`,
      run_shell_command:
        '       `bash -c <command>`.        `&`.    ,      .       `kill -- -PGID`    `kill -s SIGNAL -- -PGID`.\n\n        :\n\n      :  .\n      :  (  ),    ,  `(root)`.\n      Stdout:    stdout.   `()`          .\n      Stderr:    stderr.   `()`          .',
    },
    tips: {
      title:
        '   :',
      tip1: '1.  ,     ',
      tip2: '2.      ',
      tip3: '3.   {fileName}     Koda',
      tip4: '4. {command}    ',
      tip3noFile:
        '3. {command}    ',
    },
    startupWarnings: {
      homeDirectory: {
        message:
          '  Koda CLI    .      .',
      },
      rootDirectory: {
        message:
          ':   Koda CLI   .        .       .',
      },
      fileSystemError: {
        message:
          '     -   .',
      },
    },
    app: {
      context: {
        contextLeft:
          '{percentLeft}%  ',
      },
      requestCancelled:
        ' .',
      docs: { seeDocs: '. /docs' },
      settings: {
        title: '',
        applyTo: ' ',
        enterSelectTabFocus:
          '( Enter  , Tab   )',
        restartRequired:
          '  ,   Koda CLI.  r     .',
      },
      about: {
        title: ' Koda CLI',
        cliVersion: ' CLI',
        gitCommit: 'Git ',
        model: '',
        sandbox: '',
        os: '',
        authMethod:
          ' ',
        gcpProject: ' GCP',
      },
      compression: {
        compressing:
          '  ',
        compressed:
          '    {original}  {new} .',
      },
      chat: {
        noCheckpoints:
          '     .',
        listTitle:
          '  :',
        savedOn: '',
        noteNewestLast:
          ':   ,   ',
        missingTag:
          ' . : /chat save <>',
        conversationSaved:
          '     : {tag}.',
        noConversation:
          '    .',
        noCheckpoint:
          '     : {tag}.',
        overwritePrompt:
          '    {tag}  .  ?',
      },
      copy: {
        noOutput:
          '   ',
        copied:
          '     ',
        failed:
          '     .',
        noText:
          '       .',
      },
      directory: {
        configNotAvailable:
          ' .',
        providePath:
          ',       .',
        notSupported:
          ' /directory add      .    --include-directories   .',
        successfullyAddedFiles: `   KODA.md   ,   :
- {directories}`,
        successfullyAdded: `  :
- {directories}`,
        currentDirectories: `   :
{directories}`,
      },
      tools: {
        noRegistry:
          '    .',
        available: `  Koda CLI:

`,
        noTools: `    
`,
      },
      editorSettings: {
        title:
          ' ',
        applyTo: ' ',
        enterSelectTabFocus:
          '( Enter  , Tab   )',
        supportedEditors:
          '     .  ,        .',
        preferredEditor:
          '  : ',
        none: '',
      },
      theme: {
        title: ' ',
        applyTo: ' ',
        preview:
          ' ',
        enterSelectTabFocus:
          '( Enter  , Tab   )',
      },
      stats: {
        modelStats:
          '  ( )',
        toolStats:
          '  ( )',
        metric: '',
        api: 'API',
        requests: '',
        errors: '',
        avgLatency:
          ' ',
        tokens: '',
        total: '',
        prompt: '',
        cached: '',
        thoughts: '',
        tool: '',
        toolName:
          ' ',
        output: '',
        calls: '',
        successRate:
          ' ',
        avgDuration:
          ' ',
        userDecisionSummary:
          '  ',
        totalReviewed:
          '  ',
        accepted: '',
        rejected: '',
        modified: '',
        overallAgreementRate:
          '  ',
        noApiCalls:
          '         API.',
        noToolCalls:
          '         .',
      },
      memory: {
        refreshing:
          '   (KODA.md    )...',
        refreshSuccess:
          '  .  {charCount}   {fileCount} ().',
        refreshSuccessEmpty:
          '  .   .',
        refreshError:
          '   : {error}',
        empty:
          '  .',
        usage:
          ': /memory add <  >',
        saving:
          '   : "{text}"',
        refreshingFromSourceFiles:
          '    ...',
        refreshSuccessFromSourceFiles:
          '  .  {characters}   {files} ().',
        showContent: `    {fileCount} ():

---
{memoryContent}
---`,
        save: '  ',
        saveSuccess:
          ',  : "{fact}"',
        saveModifiedSuccess:
          ',       .',
        saveError:
          '   : {error}',
        validationNonEmpty:
          ' "fact"    .',
      },
      flashFallback: {
        proQuotaExceeded: `   {currentModel}  {fallbackModel}   :    .
  /auth,        .`,
        freeQuotaExceeded: `   {currentModel}  {fallbackModel}   :    .
  /auth,        .`,
        proGenericQuota: `   {currentModel}  {fallbackModel}   :    .
  /auth,        .`,
        freeGenericQuota: `   {currentModel}  {fallbackModel}   :    .
  /auth,        .`,
        proDefault: `   {currentModel}  {fallbackModel}   :    .
  /auth,        .`,
        freeDefault: `   {currentModel}  {fallbackModel}   :    .
  /auth,        .`,
      },
      trial: {
        footerLabel:
          '  {used}{limitPart}',
        limitReached: `      Koda.
      .
     /auth   : https://kodacode.ru `,
      },
      auth: {
        reauthRequired:
          '  ',
        timeout:
          '   .   .',
      },
      prompts: {
        pressCtrlCAgain:
          ' Ctrl+C  ,  .',
        pressCtrlDAgain:
          ' Ctrl+D  ,  .',
        pressEscAgain:
          ' Esc  ,  .',
      },
      extensions: {
        noActive:
          '  .',
        activeTitle:
          ' :',
      },
      placeholders: {
        vim: "   'i'   INSERT  'Esc'   NORMAL.",
        default:
          '     @//',
      },
      confirmation: { yes: '', no: '' },
      toolConfirmation: {
        modifyInProgress:
          '  : ',
        saveAndCloseExternalEditor:
          '    ,  ',
        applyThisChange:
          '  ?',
        yesAllowOnce:
          ',   ',
        yesAllowAlways:
          ',  ',
        noEsc: ' (esc)',
        modifyWithExternalEditor:
          '   ',
        noSuggestChanges:
          ',   (esc)',
        allowExecutionOf:
          " : '{command}'?",
        doYouWantToProceed:
          '  ?',
        urlsToFetch:
          'URL-  :',
        allowExecutionOfMcpTool:
          '   MCP "{toolName}"   "{serverName}"?',
        yesAlwaysAllowToolFromServer:
          ',    "{toolName}"   "{serverName}"',
        yesAlwaysAllowAllToolsFromServer:
          ',       "{serverName}"',
      },
      init: {
        error:
          ' : {error}',
        checkConfig:
          ' API-  .',
      },
    },
  },
  nXt = { en: hDn, ru: ADn },
  NUe = class {
    currentLanguage;
    constructor(e) {
      let r = e?.language;
      r === 'en' || r === 'ru' ? (this.currentLanguage = r) : (this.currentLanguage = 'en');
    }
    setLanguage(e) {
      this.currentLanguage = e;
    }
    getLanguage() {
      return this.currentLanguage;
    }
    t(e, r) {
      let n = e.split('.'),
        i = nXt[this.currentLanguage],
        a = !0;
      for (let s of n)
        if (typeof i == 'object' && i !== null && s in i) i = i[s];
        else {
          a = !1;
          break;
        }
      if (a && typeof i == 'string') {
        if (r) {
          let s = i;
          for (let [o, l] of Object.entries(r)) s = s.replace(new RegExp(`{${o}}`, 'g'), String(l));
          return s;
        }
        return i;
      }
      if (this.currentLanguage !== 'en') {
        let s = nXt.en,
          o = !0;
        for (let l of n)
          if (typeof s == 'object' && s !== null && l in s) s = s[l];
          else {
            o = !1;
            break;
          }
        if (o && typeof s == 'string') {
          if (r) {
            let l = s;
            for (let [u, c] of Object.entries(r))
              l = l.replace(new RegExp(`{${u}}`, 'g'), String(c));
            return l;
          }
          return s;
        }
      }
      return e;
    }
  },
  Ie = new NUe();
function gDn(t) {
  let e = [];
  for (let r of t) Array.isArray(r) ? e.push(...r) : e.push(r);
  return e;
}
var aXt = (t, e, r, n, i, a, s, o, l, u, c, p, h, m) => {
  (0, Ps.useEffect)(() => {
    (async () => {
      try {
        let fe = await n.getToolRegistry(),
          Z = {},
          Q = [
            'search_file_content',
            'list_directory',
            'glob',
            'google_web_search',
            'save_memory',
            'run_shell_command',
          ];
        for (let ge of Q) {
          let xe = `toolDescriptions.${ge}`,
            He = Ie.t(xe);
          He && He !== xe && (Z[ge] = He);
        }
        Object.keys(Z).length > 0 && fe.updateToolDescriptions(Z);
      } catch (fe) {
        console.error('Error updating tool descriptions:', fe);
      }
    })();
  }, [n]);
  let [E, v] = (0, Ps.useState)(null),
    g = (0, Ps.useRef)(null),
    _ = (0, Ps.useRef)(!1),
    [S, b] = (0, Ps.useState)(!1),
    [I, R] = (0, Ps.useState)(null),
    [F, G] = jKt(null),
    U = (0, Ps.useRef)(new Set()),
    { startNewPrompt: M, getPromptCount: Y } = zg(),
    z = rme(),
    se = (0, Ps.useMemo)(() => {
      if (n.getProjectRoot()) return new xv(n.getProjectRoot());
    }, [n]),
    [j, N, H] = YKt(
      async ($) => {
        $.length > 0 && (r(IUe($), Date.now()), await ae($));
      },
      n,
      G,
      o,
      h
    ),
    ee = (0, Ps.useMemo)(() => (j.length ? IUe(j) : void 0), [j]),
    me = (0, Ps.useRef)(!1),
    Ae = (0, Ps.useCallback)(async ($) => {
      (b(!0), await $, b(!1));
    }, []),
    { handleShellCommand: X } = HKt(r, G, Ae, i, n, t),
    re = (0, Ps.useMemo)(
      () =>
        j.some(($) => $.status === 'awaiting_approval')
          ? 'waiting_for_confirmation'
          : S ||
              j.some(
                ($) =>
                  $.status === 'executing' ||
                  $.status === 'scheduled' ||
                  $.status === 'validating' ||
                  (($.status === 'success' || $.status === 'error' || $.status === 'cancelled') &&
                    !$.responseSubmittedToGemini)
              )
            ? 'responding'
            : 'idle',
      [S, j]
    ),
    de = (0, Ps.useMemo)(() => {
      let $ = [
        'awaiting_approval',
        'executing',
        'validating',
        'scheduled',
        'success',
        'error',
        'cancelled',
      ];
      for (let fe of $) {
        let Z = j.find((Q) => Q.status === fe);
        if (Z) return Z;
      }
      return null;
    }, [j]),
    ye = (0, Ps.useMemo)(() => {
      if (de) {
        let $ = de.tool?.displayName ?? de.request.name,
          Z = ('invocation' in de ? de.invocation : void 0)?.getDescription?.(),
          Q = typeof Z == 'string' ? Z.trim() : '',
          ge = Q.length > 0,
          He = {
            awaiting_approval: {
              withDescription: 'loading.activity.awaitingApproval.withDescription',
              withoutDescription: 'loading.activity.awaitingApproval.withoutDescription',
            },
            executing: {
              withDescription: 'loading.activity.executing.withDescription',
              withoutDescription: 'loading.activity.executing.withoutDescription',
            },
            validating: {
              withDescription: 'loading.activity.validating.withDescription',
              withoutDescription: 'loading.activity.validating.withoutDescription',
            },
            scheduled: {
              withDescription: 'loading.activity.scheduled.withDescription',
              withoutDescription: 'loading.activity.scheduled.withoutDescription',
            },
            success: {
              withDescription: 'loading.activity.success.withDescription',
              withoutDescription: 'loading.activity.success.withoutDescription',
            },
            error: {
              withDescription: 'loading.activity.error.withDescription',
              withoutDescription: 'loading.activity.error.withoutDescription',
            },
            cancelled: {
              withDescription: 'loading.activity.cancelled.withDescription',
              withoutDescription: 'loading.activity.cancelled.withoutDescription',
            },
          }[de.status];
        if (!He) return null;
        let mt = ge ? He.withDescription : He.withoutDescription,
          Tt = { tool: $ };
        ge && (Tt.description = Q);
        let jt = `loading.activity.tool.${de.request.name}.${de.status}`,
          ht = ge ? `${jt}.withDescription` : `${jt}.withoutDescription`,
          vt = Ie.t(ht, Tt);
        return vt !== ht ? vt : Ie.t(mt, Tt);
      }
      return re === 'responding'
        ? Ie.t('loading.activity.processingResponse')
        : re === 'waiting_for_confirmation'
          ? Ie.t('loading.activity.awaitingUserConfirmation')
          : null;
    }, [de, re]),
    he = (0, Ps.useCallback)(() => {
      re === 'responding' &&
        (_.current ||
          ((_.current = !0),
          g.current?.abort(),
          F.current && r(F.current, Date.now()),
          r({ type: 'info', text: Ie.t('app.requestCancelled') }, Date.now()),
          G(null),
          m(),
          b(!1)));
    }, [re, r, G, m, F]);
  ja(
    ($) => {
      $.name === 'escape' && he();
    },
    { isActive: re === 'responding' }
  );
  let be = (0, Ps.useCallback)(
      async ($, fe, Z, Q) => {
        if (_.current) return { queryToSend: null, shouldProceed: !1 };
        if (typeof $ == 'string' && $.trim().length === 0)
          return { queryToSend: null, shouldProceed: !1 };
        let ge = null;
        if (typeof $ == 'string') {
          let xe = $.trim();
          (GM(n, new SN(xe.length, Q, n.getContentGeneratorConfig()?.authType, xe)),
            i(`User query: '${xe}'`),
            await z?.logMessage(GQ.USER, xe));
          let He = await a(xe);
          if (He)
            switch (He.type) {
              case 'schedule_tool': {
                let { toolName: mt, toolArgs: Tt } = He,
                  jt = {
                    callId: `${mt}-${Date.now()}-${Math.random().toString(16).slice(2)}`,
                    name: mt,
                    args: Tt,
                    isClientInitiated: !0,
                    prompt_id: Q,
                  };
                return (N([jt], Z), { queryToSend: null, shouldProceed: !1 });
              }
              case 'submit_prompt':
                return ((ge = He.content), { queryToSend: ge, shouldProceed: !0 });
              case 'handled':
                return { queryToSend: null, shouldProceed: !1 };
              default: {
                let mt = He;
                throw new Error(`Unhandled slash command result type: ${mt}`);
              }
            }
          if (s && X(xe, Z)) return { queryToSend: null, shouldProceed: !1 };
          if (LKt(xe)) {
            let mt = await GKt({
              query: xe,
              config: n,
              addItem: r,
              onDebugMessage: i,
              messageId: fe,
              signal: Z,
            });
            if (!mt.shouldProceed) return { queryToSend: null, shouldProceed: !1 };
            ge = mt.processedQuery;
          } else (r({ type: 'user', text: xe }, fe), (ge = xe));
        } else ge = $;
        return ge === null
          ? (i('Query processing resulted in null, not sending to Gemini.'),
            { queryToSend: null, shouldProceed: !1 })
          : { queryToSend: ge, shouldProceed: !0 };
      },
      [n, r, i, X, a, z, s, N]
    ),
    De = (0, Ps.useCallback)(
      ($, fe, Z) => {
        if (_.current) return '';
        let Q = fe + $;
        F.current?.type !== 'gemini' &&
          F.current?.type !== 'gemini_content' &&
          (F.current && r(F.current, Z), G({ type: 'gemini', text: '' }), (Q = $));
        let ge = $Kt(Q);
        if (ge === Q.length) G((xe) => ({ type: xe?.type, text: Q }));
        else {
          let xe = Q.substring(0, ge),
            He = Q.substring(ge);
          (r({ type: F.current?.type, text: xe }, Z),
            G({ type: 'gemini_content', text: He }),
            (Q = He));
        }
        return Q;
      },
      [r, F, G]
    ),
    ce = (0, Ps.useCallback)(
      ($) => {
        if (!_.current) {
          if (F.current) {
            if (F.current.type === 'tool_group') {
              let fe = F.current.tools.map((Q) =>
                  Q.status === 'Pending' || Q.status === 'Confirming' || Q.status === 'Executing'
                    ? { ...Q, status: 'Canceled' }
                    : Q
                ),
                Z = { ...F.current, tools: fe };
              r(Z, $);
            } else r(F.current, $);
            G(null);
          }
          (r({ type: 'info', text: 'User cancelled the request.' }, $), b(!1), R(null));
        }
      },
      [r, F, G, R]
    ),
    Ce = (0, Ps.useCallback)(
      ($, fe) => {
        (F.current && (r(F.current, fe), G(null)),
          r(
            {
              type: 'error',
              text: lk($.error, n.getContentGeneratorConfig()?.authType, void 0, n.getModel(), rd),
            },
            fe
          ),
          R(null));
      },
      [r, F, G, n, R]
    ),
    J = (0, Ps.useCallback)(
      ($, fe) => {
        let Z = $.value,
          ge = {
            [wf.FINISH_REASON_UNSPECIFIED]: void 0,
            [wf.STOP]: void 0,
            [wf.MAX_TOKENS]: 'Response truncated due to token limits.',
            [wf.SAFETY]: 'Response stopped due to safety reasons.',
            [wf.RECITATION]: 'Response stopped due to recitation policy.',
            [wf.LANGUAGE]: 'Response stopped due to unsupported language.',
            [wf.BLOCKLIST]: 'Response stopped due to forbidden terms.',
            [wf.PROHIBITED_CONTENT]: 'Response stopped due to prohibited content.',
            [wf.SPII]: 'Response stopped due to sensitive personally identifiable information.',
            [wf.OTHER]: 'Response stopped for other reasons.',
            [wf.MALFORMED_FUNCTION_CALL]: 'Response stopped due to malformed function call.',
            [wf.IMAGE_SAFETY]: 'Response stopped due to image safety violations.',
            [wf.UNEXPECTED_TOOL_CALL]: 'Response stopped due to unexpected tool call.',
          }[Z];
        ge && r({ type: 'info', text: `  ${ge}` }, fe);
      },
      [r]
    ),
    te = (0, Ps.useCallback)(
      ($) =>
        r(
          {
            type: 'info',
            text: `IMPORTANT: This conversation approached the input token limit for ${n.getModel()}. A compressed context will be sent for future messages (compressed from: ${$?.originalTokenCount ?? 'unknown'} to ${$?.newTokenCount ?? 'unknown'} tokens).`,
          },
          Date.now()
        ),
      [r, n]
    ),
    ie = (0, Ps.useCallback)(
      () =>
        r(
          {
            type: 'info',
            text: `The session has reached the maximum number of turns: ${n.getMaxSessionTurns()}. Please update this limit in your setting.json file.`,
          },
          Date.now()
        ),
      [r, n]
    ),
    pe = (0, Ps.useCallback)(() => {
      r(
        {
          type: 'info',
          text: 'A potential loop was detected. This can happen due to repetitive tool calls or other model behavior. The request has been halted.',
        },
        Date.now()
      );
    }, [r]),
    ue = (0, Ps.useCallback)(
      async ($, fe, Z) => {
        let Q = '',
          ge = [];
        for await (let xe of $)
          switch (xe.type) {
            case Ls.Thought:
              R(xe.value);
              break;
            case Ls.Content:
              Q = De(xe.value, Q, fe);
              break;
            case Ls.ToolCallRequest:
              ge.push(xe.value);
              break;
            case Ls.UserCancelled:
              ce(fe);
              break;
            case Ls.Error:
              Ce(xe.value, fe);
              break;
            case Ls.ChatCompressed:
              te(xe.value);
              break;
            case Ls.ToolCallConfirmation:
            case Ls.ToolCallResponse:
              break;
            case Ls.MaxSessionTurns:
              ie();
              break;
            case Ls.Finished:
              J(xe, fe);
              break;
            case Ls.LoopDetected:
              me.current = !0;
              break;
            default:
              return xe;
          }
        return (ge.length > 0 && N(ge, Z), 0);
      },
      [De, ce, Ce, N, te, J, ie]
    ),
    ve = (0, Ps.useCallback)(
      async ($, fe, Z) => {
        if ((re === 'responding' || re === 'waiting_for_confirmation') && !fe?.isContinuation)
          return;
        let Q = Date.now();
        (fe?.isContinuation || (p(!1), n.setQuotaErrorOccurred(!1)),
          (g.current = new AbortController()));
        let ge = g.current.signal;
        ((_.current = !1), Z || (Z = n.getSessionId() + '########' + Y()));
        let { queryToSend: xe, shouldProceed: He } = await be($, Q, ge, Z);
        if (!(!He || xe === null)) {
          (fe?.isContinuation || (M(), R(null)), b(!0), v(null));
          try {
            let mt = t.sendMessageStream(xe, ge, Z);
            if ((await ue(mt, Q, ge)) === 1) return;
            (F.current && (r(F.current, Q), G(null)), me.current && ((me.current = !1), pe()));
          } catch (mt) {
            mt instanceof dS
              ? l()
              : (!Cs(mt) || mt.name !== 'AbortError') &&
                r(
                  {
                    type: 'error',
                    text: lk(
                      ir(mt) || 'Unknown error',
                      n.getContentGeneratorConfig()?.authType,
                      void 0,
                      n.getModel(),
                      rd
                    ),
                  },
                  Q
                );
          } finally {
            b(!1);
          }
        }
      },
      [re, p, be, ue, F, r, G, v, t, l, n, M, Y, pe]
    ),
    ae = (0, Ps.useCallback)(
      async ($) => {
        if (S) return;
        let fe = $.filter((jt) =>
            jt.status === 'success' || jt.status === 'error' || jt.status === 'cancelled'
              ? jt.response?.responseParts !== void 0
              : !1
          ),
          Z = fe.filter((jt) => jt.request.isClientInitiated);
        Z.length > 0 && H(Z.map((jt) => jt.request.callId));
        let Q = fe.filter(
          (jt) =>
            jt.request.name === 'save_memory' &&
            jt.status === 'success' &&
            !U.current.has(jt.request.callId)
        );
        Q.length > 0 && (u(), Q.forEach((jt) => U.current.add(jt.request.callId)));
        let ge = fe.filter((jt) => !jt.request.isClientInitiated);
        if (ge.length === 0) return;
        if (ge.every((jt) => jt.status === 'cancelled')) {
          if (t) {
            let ht = ge.flatMap((kt) => kt.response.responseParts),
              vt = [];
            for (let kt of ht)
              Array.isArray(kt)
                ? vt.push(...kt)
                : typeof kt == 'string'
                  ? vt.push({ text: kt })
                  : vt.push(kt);
            t.addHistory({ role: 'user', parts: vt });
          }
          let jt = ge.map((ht) => ht.request.callId);
          H(jt);
          return;
        }
        let He = ge.map((jt) => jt.response.responseParts),
          mt = ge.map((jt) => jt.request.callId),
          Tt = ge.map((jt) => jt.request.prompt_id);
        (H(mt), !c && ve(gDn(He), { isContinuation: !0 }, Tt[0]));
      },
      [S, ve, H, t, u, c]
    ),
    k = [F.current, ee].filter(($) => $ != null);
  return (
    (0, Ps.useEffect)(() => {
      (async () => {
        if (!n.getCheckpointingEnabled()) return;
        let fe = j.filter(
          (Z) =>
            (Z.request.name === 'replace' || Z.request.name === 'write_file') &&
            Z.status === 'awaiting_approval'
        );
        if (fe.length > 0) {
          let Z = n.getProjectTempDir() ? OUe.join(n.getProjectTempDir(), 'checkpoints') : void 0;
          if (!Z) return;
          try {
            await iXt.mkdir(Z, { recursive: !0 });
          } catch (Q) {
            if (!Cs(Q) || Q.code !== 'EEXIST') {
              i(`Failed to create checkpoint directory: ${ir(Q)}`);
              return;
            }
          }
          for (let Q of fe) {
            let ge = Q.request.args.file_path;
            if (!ge) {
              i(`Skipping restorable tool call due to missing file_path: ${Q.request.name}`);
              continue;
            }
            try {
              let xe = await se?.createFileSnapshot(`Snapshot for ${Q.request.name}`);
              if ((xe || (xe = await se?.getCurrentCommitHash()), !xe)) {
                i(`Failed to create snapshot for ${ge}. Skipping restorable tool call.`);
                continue;
              }
              let He = new Date().toISOString().replace(/:/g, '-').replace(/\./g, '_'),
                mt = Q.request.name,
                Tt = OUe.basename(ge),
                jt = `${He}-${Tt}-${mt}.json`,
                ht = await t?.getHistory(),
                vt = OUe.join(Z, jt);
              await iXt.writeFile(
                vt,
                JSON.stringify(
                  {
                    history: e,
                    clientHistory: ht,
                    toolCall: { name: Q.request.name, args: Q.request.args },
                    commitHash: xe,
                    filePath: ge,
                  },
                  null,
                  2
                )
              );
            } catch (xe) {
              i(`Failed to write restorable tool call file: ${ir(xe)}`);
            }
          }
        }
      })();
    }, [j, n, i, se, e, t]),
    {
      streamingState: re,
      submitQuery: ve,
      initError: E,
      pendingHistoryItems: k,
      thought: I,
      cancelOngoingRequest: he,
      activeActivity: ye,
    }
  );
};
var lb = qe(or(), 1);
var sXt = (t, e) => {
  let [r, n] = (0, lb.useState)(0),
    i = (0, lb.useRef)(null),
    a = (0, lb.useRef)(e),
    s = (0, lb.useRef)(t);
  return (
    (0, lb.useEffect)(() => {
      let o = !1;
      return (
        a.current !== e && ((o = !0), (a.current = e)),
        s.current === !1 && t && (o = !0),
        o && n(0),
        (s.current = t),
        t
          ? (i.current && clearInterval(i.current),
            (i.current = setInterval(() => {
              n((l) => l + 1);
            }, 1e3)))
          : i.current && (clearInterval(i.current), (i.current = null)),
        () => {
          i.current && (clearInterval(i.current), (i.current = null));
        }
      );
    }, [t, e]),
    r
  );
};
var ub = qe(or(), 1);
var EDn = 5e3;
function yDn() {
  return [
    'Generating responses with 110% accuracy',
    'Reticulating splines...',
    'Consulting the Oracle...',
    'Waking up the AI overlords...',
    'Booting up consciousness...',
    'Calibrating neural pathways...',
    'Compiling ideas into thoughts...',
    'Loading witty loading messages...',
    'Calculating the meaning of life...',
    'Sharpening the algorithms...',
    'Preparing digital magic tricks...',
    'Downloading more RAM...',
    'Compressing algorithms...',
    'Decompressing responses...',
    'Rearranging the bits...',
    'Initializing the response factory...',
    'Assembling the knowledge engine...',
    'Polishing the AI gemstones...',
    'Warming up the neural networks...',
    'Fine-tuning the intelligence...',
    'Loading AI with coffee...',
    'Preparing your AI-powered response...',
    'Consulting the digital encyclopedia...',
    'Generating thoughts with 99.9% confidence',
  ];
}
function oXt(t, e) {
  let r = (0, ub.useMemo)(() => yDn(), []),
    [n, i] = (0, ub.useState)(() => r[0] ?? 'Loading...'),
    a = (0, ub.useCallback)(() => {
      if (r.length === 0) return 'Loading...';
      let s = Math.floor(Math.random() * r.length);
      return r[s];
    }, [r]);
  return (
    (0, ub.useEffect)(() => {
      let s = null;
      if (e) i('Waiting for user confirmation...');
      else if (t) {
        let o = a();
        (i(o),
          (s = setInterval(() => {
            i((l) => {
              let u = r.indexOf(l);
              if (u === -1) return r[0];
              let c = (u + 1) % r.length;
              return r[c];
            });
          }, EDn)));
      } else i(r[0]);
      return () => {
        s && clearInterval(s);
      };
    }, [t, e, a, r]),
    n
  );
}
var cB = qe(or(), 1);
var lXt = (t, e) => {
  let [r, n] = (0, cB.useState)(0),
    i = t === 'responding',
    a = sXt(i, r),
    s = t === 'responding',
    o = t === 'waiting_for_confirmation',
    l = oXt(s, o),
    u = e && t !== 'idle' ? e : l,
    [c, p] = (0, cB.useState)(0),
    h = (0, cB.useRef)(null);
  return (
    (0, cB.useEffect)(() => {
      (h.current === 'waiting_for_confirmation' && t === 'responding'
        ? (n((m) => m + 1), p(0))
        : t === 'idle' && h.current === 'responding'
          ? (n((m) => m + 1), p(0))
          : t === 'waiting_for_confirmation' && p(a),
        (h.current = t));
    }, [t, a]),
    { elapsedTime: t === 'waiting_for_confirmation' ? c : a, currentLoadingPhrase: u }
  );
};
var Qv = qe(or(), 1);
var uXt = {
    aliceblue: '#f0f8ff',
    antiquewhite: '#faebd7',
    aqua: '#00ffff',
    aquamarine: '#7fffd4',
    azure: '#f0ffff',
    beige: '#f5f5dc',
    bisque: '#ffe4c4',
    blanchedalmond: '#ffebcd',
    blueviolet: '#8a2be2',
    brown: '#a52a2a',
    burlywood: '#deb887',
    cadetblue: '#5f9ea0',
    chartreuse: '#7fff00',
    chocolate: '#d2691e',
    coral: '#ff7f50',
    cornflowerblue: '#6495ed',
    cornsilk: '#fff8dc',
    crimson: '#dc143c',
    darkblue: '#00008b',
    darkcyan: '#008b8b',
    darkgoldenrod: '#b8860b',
    darkgray: '#a9a9a9',
    darkgrey: '#a9a9a9',
    darkgreen: '#006400',
    darkkhaki: '#bdb76b',
    darkmagenta: '#8b008b',
    darkolivegreen: '#556b2f',
    darkorange: '#ff8c00',
    darkorchid: '#9932cc',
    darkred: '#8b0000',
    darksalmon: '#e9967a',
    darkseagreen: '#8fbc8f',
    darkslateblue: '#483d8b',
    darkslategray: '#2f4f4f',
    darkslategrey: '#2f4f4f',
    darkturquoise: '#00ced1',
    darkviolet: '#9400d3',
    deeppink: '#ff1493',
    deepskyblue: '#00bfff',
    dimgray: '#696969',
    dimgrey: '#696969',
    dodgerblue: '#1e90ff',
    firebrick: '#b22222',
    floralwhite: '#fffaf0',
    forestgreen: '#228b22',
    fuchsia: '#ff00ff',
    gainsboro: '#dcdcdc',
    ghostwhite: '#f8f8ff',
    gold: '#ffd700',
    goldenrod: '#daa520',
    greenyellow: '#adff2f',
    honeydew: '#f0fff0',
    hotpink: '#ff69b4',
    indianred: '#cd5c5c',
    indigo: '#4b0082',
    ivory: '#fffff0',
    khaki: '#f0e68c',
    lavender: '#e6e6fa',
    lavenderblush: '#fff0f5',
    lawngreen: '#7cfc00',
    lemonchiffon: '#fffacd',
    lightblue: '#add8e6',
    lightcoral: '#f08080',
    lightcyan: '#e0ffff',
    lightgoldenrodyellow: '#fafad2',
    lightgray: '#d3d3d3',
    lightgrey: '#d3d3d3',
    lightgreen: '#90ee90',
    lightpink: '#ffb6c1',
    lightsalmon: '#ffa07a',
    lightseagreen: '#20b2aa',
    lightskyblue: '#87cefa',
    lightslategray: '#778899',
    lightslategrey: '#778899',
    lightsteelblue: '#b0c4de',
    lightyellow: '#ffffe0',
    lime: '#00ff00',
    limegreen: '#32cd32',
    linen: '#faf0e6',
    maroon: '#800000',
    mediumaquamarine: '#66cdaa',
    mediumblue: '#0000cd',
    mediumorchid: '#ba55d3',
    mediumpurple: '#9370db',
    mediumseagreen: '#3cb371',
    mediumslateblue: '#7b68ee',
    mediumspringgreen: '#00fa9a',
    mediumturquoise: '#48d1cc',
    mediumvioletred: '#c71585',
    midnightblue: '#191970',
    mintcream: '#f5fffa',
    mistyrose: '#ffe4e1',
    moccasin: '#ffe4b5',
    navajowhite: '#ffdead',
    navy: '#000080',
    oldlace: '#fdf5e6',
    olive: '#808000',
    olivedrab: '#6b8e23',
    orange: '#ffa500',
    orangered: '#ff4500',
    orchid: '#da70d6',
    palegoldenrod: '#eee8aa',
    palegreen: '#98fb98',
    paleturquoise: '#afeeee',
    palevioletred: '#db7093',
    papayawhip: '#ffefd5',
    peachpuff: '#ffdab9',
    peru: '#cd853f',
    pink: '#ffc0cb',
    plum: '#dda0dd',
    powderblue: '#b0e0e6',
    purple: '#800080',
    rebeccapurple: '#663399',
    rosybrown: '#bc8f8f',
    royalblue: '#4169e1',
    saddlebrown: '#8b4513',
    salmon: '#fa8072',
    sandybrown: '#f4a460',
    seagreen: '#2e8b57',
    seashell: '#fff5ee',
    sienna: '#a0522d',
    silver: '#c0c0c0',
    skyblue: '#87ceeb',
    slateblue: '#6a5acd',
    slategray: '#708090',
    slategrey: '#708090',
    snow: '#fffafa',
    springgreen: '#00ff7f',
    steelblue: '#4682b4',
    tan: '#d2b48c',
    teal: '#008080',
    thistle: '#d8bfd8',
    tomato: '#ff6347',
    turquoise: '#40e0d0',
    violet: '#ee82ee',
    wheat: '#f5deb3',
    whitesmoke: '#f5f5f5',
    yellowgreen: '#9acd32',
  },
  vDn = new Set([
    'black',
    'red',
    'green',
    'yellow',
    'blue',
    'cyan',
    'magenta',
    'white',
    'gray',
    'grey',
    'blackbright',
    'redbright',
    'greenbright',
    'yellowbright',
    'bluebright',
    'cyanbright',
    'magentabright',
    'whitebright',
  ]);
function cXt(t) {
  let e = t.toLowerCase();
  if (e.startsWith('#')) return /^#[0-9A-Fa-f]{3}([0-9A-Fa-f]{3})?$/.test(t) ? e : void 0;
  if (vDn.has(e)) return e;
  if (uXt[e]) return uXt[e];
  console.warn(`[ColorUtils] Could not resolve color "${t}" to an Ink-compatible format.`);
}
var ci = {
    type: 'light',
    Background: '#FAFAFA',
    Foreground: '#3C3C43',
    LightBlue: '#89BDCD',
    AccentBlue: '#3B82F6',
    AccentPurple: '#8B5CF6',
    AccentCyan: '#06B6D4',
    AccentGreen: '#3CA84B',
    AccentYellow: '#D5A40A',
    AccentRed: '#DD4C4C',
    DiffAdded: '#C6EAD8',
    DiffRemoved: '#FFCCCC',
    Comment: '#008000',
    Gray: '#97a0b0',
    GradientColors: ['#4796E4', '#847ACE', '#C3677F'],
  },
  On = {
    type: 'dark',
    Background: '#1E1E2E',
    Foreground: '#CDD6F4',
    LightBlue: '#ADD8E6',
    AccentBlue: '#89B4FA',
    AccentPurple: '#CBA6F7',
    AccentCyan: '#89DCEB',
    AccentGreen: '#A6E3A1',
    AccentYellow: '#F9E2AF',
    AccentRed: '#F38BA8',
    DiffAdded: '#28350B',
    DiffRemoved: '#430000',
    Comment: '#6C7086',
    Gray: '#6C7086',
    GradientColors: ['#8b20c5ff', '#e4b424ff', '#C3677F'],
  },
  Gf = {
    type: 'ansi',
    Background: 'black',
    Foreground: 'white',
    LightBlue: 'blue',
    AccentBlue: 'blue',
    AccentPurple: 'magenta',
    AccentCyan: 'cyan',
    AccentGreen: 'green',
    AccentYellow: 'yellow',
    AccentRed: 'red',
    DiffAdded: 'green',
    DiffRemoved: 'red',
    Comment: 'gray',
    Gray: 'gray',
  },
  Xs = class t {
    constructor(e, r, n, i, a) {
      this.name = e;
      this.type = r;
      this.colors = i;
      this.semanticColors = a;
      this._colorMap = Object.freeze(this._buildColorMap(n));
      let s = n.hljs?.color;
      this.defaultColor = (s ? t._resolveColor(s) : void 0) ?? '';
    }
    defaultColor;
    _colorMap;
    getInkColor(e) {
      return this._colorMap[e];
    }
    static _resolveColor(e) {
      return cXt(e);
    }
    _buildColorMap(e) {
      let r = {};
      for (let n in e) {
        if (!n.startsWith('hljs-') && n !== 'hljs') continue;
        let i = e[n];
        if (i?.color) {
          let a = t._resolveColor(i.color);
          a !== void 0 && (r[n] = a);
        }
      }
      return r;
    }
  };
function dXt(t) {
  let e = {
      type: 'custom',
      Background: t.background?.primary ?? t.Background ?? '',
      Foreground: t.text?.primary ?? t.Foreground ?? '',
      LightBlue: t.text?.link ?? t.LightBlue ?? '',
      AccentBlue: t.text?.link ?? t.AccentBlue ?? '',
      AccentPurple: t.text?.accent ?? t.AccentPurple ?? '',
      AccentCyan: t.text?.link ?? t.AccentCyan ?? '',
      AccentGreen: t.status?.success ?? t.AccentGreen ?? '',
      AccentYellow: t.status?.warning ?? t.AccentYellow ?? '',
      AccentRed: t.status?.error ?? t.AccentRed ?? '',
      DiffAdded: t.background?.diff?.added ?? t.DiffAdded ?? '',
      DiffRemoved: t.background?.diff?.removed ?? t.DiffRemoved ?? '',
      Comment: t.ui?.comment ?? t.Comment ?? '',
      Gray: t.text?.secondary ?? t.Gray ?? '',
      GradientColors: t.ui?.gradient ?? t.GradientColors,
    },
    r = {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        padding: '0.5em',
        background: e.Background,
        color: e.Foreground,
      },
      'hljs-keyword': { color: e.AccentBlue },
      'hljs-literal': { color: e.AccentBlue },
      'hljs-symbol': { color: e.AccentBlue },
      'hljs-name': { color: e.AccentBlue },
      'hljs-link': { color: e.AccentBlue, textDecoration: 'underline' },
      'hljs-built_in': { color: e.AccentCyan },
      'hljs-type': { color: e.AccentCyan },
      'hljs-number': { color: e.AccentGreen },
      'hljs-class': { color: e.AccentGreen },
      'hljs-string': { color: e.AccentYellow },
      'hljs-meta-string': { color: e.AccentYellow },
      'hljs-regexp': { color: e.AccentRed },
      'hljs-template-tag': { color: e.AccentRed },
      'hljs-subst': { color: e.Foreground },
      'hljs-function': { color: e.Foreground },
      'hljs-title': { color: e.Foreground },
      'hljs-params': { color: e.Foreground },
      'hljs-formula': { color: e.Foreground },
      'hljs-comment': { color: e.Comment, fontStyle: 'italic' },
      'hljs-quote': { color: e.Comment, fontStyle: 'italic' },
      'hljs-doctag': { color: e.Comment },
      'hljs-meta': { color: e.Gray },
      'hljs-meta-keyword': { color: e.Gray },
      'hljs-tag': { color: e.Gray },
      'hljs-variable': { color: e.AccentPurple },
      'hljs-template-variable': { color: e.AccentPurple },
      'hljs-attr': { color: e.LightBlue },
      'hljs-attribute': { color: e.LightBlue },
      'hljs-builtin-name': { color: e.LightBlue },
      'hljs-section': { color: e.AccentYellow },
      'hljs-emphasis': { fontStyle: 'italic' },
      'hljs-strong': { fontWeight: 'bold' },
      'hljs-bullet': { color: e.AccentYellow },
      'hljs-selector-tag': { color: e.AccentYellow },
      'hljs-selector-id': { color: e.AccentYellow },
      'hljs-selector-class': { color: e.AccentYellow },
      'hljs-selector-attr': { color: e.AccentYellow },
      'hljs-selector-pseudo': { color: e.AccentYellow },
      'hljs-addition': { backgroundColor: e.AccentGreen, display: 'inline-block', width: '100%' },
      'hljs-deletion': { backgroundColor: e.AccentRed, display: 'inline-block', width: '100%' },
    },
    n = {
      text: {
        primary: e.Foreground,
        secondary: e.Gray,
        link: e.AccentBlue,
        accent: e.AccentPurple,
      },
      background: { primary: e.Background, diff: { added: e.DiffAdded, removed: e.DiffRemoved } },
      border: { default: e.Gray, focused: e.AccentBlue },
      ui: { comment: e.Comment, symbol: e.Gray, gradient: e.GradientColors },
      status: { error: e.AccentRed, success: e.AccentGreen, warning: e.AccentYellow },
    };
  return new Xs(t.name, 'custom', r, e, n);
}
function pXt(t) {
  return t.name && !CDn(t.name)
    ? { isValid: !1, error: `Invalid theme name: ${t.name}` }
    : { isValid: !0 };
}
function CDn(t) {
  return t.trim().length > 0 && t.trim().length <= 50;
}
var Jg = {
    text: {
      primary: ci.Foreground,
      secondary: ci.Gray,
      link: ci.AccentBlue,
      accent: ci.AccentPurple,
    },
    background: { primary: ci.Background, diff: { added: ci.DiffAdded, removed: ci.DiffRemoved } },
    border: { default: ci.Gray, focused: ci.AccentBlue },
    ui: { comment: ci.Comment, symbol: ci.Gray, gradient: ci.GradientColors },
    status: { error: ci.AccentRed, success: ci.AccentGreen, warning: ci.AccentYellow },
  },
  ch = {
    text: {
      primary: On.Foreground,
      secondary: On.Gray,
      link: On.AccentBlue,
      accent: On.AccentPurple,
    },
    background: { primary: On.Background, diff: { added: On.DiffAdded, removed: On.DiffRemoved } },
    border: { default: On.Gray, focused: On.AccentBlue },
    ui: { comment: On.Comment, symbol: On.Gray, gradient: On.GradientColors },
    status: { error: On.AccentRed, success: On.AccentGreen, warning: On.AccentYellow },
  },
  WSi = {
    text: {
      primary: Gf.Foreground,
      secondary: Gf.Gray,
      link: Gf.AccentBlue,
      accent: Gf.AccentPurple,
    },
    background: { primary: Gf.Background, diff: { added: Gf.DiffAdded, removed: Gf.DiffRemoved } },
    border: { default: Gf.Gray, focused: Gf.AccentBlue },
    ui: { comment: Gf.Comment, symbol: Gf.Gray, gradient: Gf.GradientColors },
    status: { error: Gf.AccentRed, success: Gf.AccentGreen, warning: Gf.AccentYellow },
  };
var bu = {
    type: 'dark',
    Background: '#0b0e14',
    Foreground: '#bfbdb6',
    LightBlue: '#59C2FF',
    AccentBlue: '#39BAE6',
    AccentPurple: '#D2A6FF',
    AccentCyan: '#95E6CB',
    AccentGreen: '#AAD94C',
    AccentYellow: '#FFB454',
    AccentRed: '#F26D78',
    DiffAdded: '#293022',
    DiffRemoved: '#3D1215',
    Comment: '#646A71',
    Gray: '#3D4149',
    GradientColors: ['#FFB454', '#F26D78'],
  },
  fXt = new Xs(
    'Ayu',
    'dark',
    {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        padding: '0.5em',
        background: bu.Background,
        color: bu.Foreground,
      },
      'hljs-keyword': { color: bu.AccentYellow },
      'hljs-literal': { color: bu.AccentPurple },
      'hljs-symbol': { color: bu.AccentCyan },
      'hljs-name': { color: bu.LightBlue },
      'hljs-link': { color: bu.AccentBlue },
      'hljs-function .hljs-keyword': { color: bu.AccentYellow },
      'hljs-subst': { color: bu.Foreground },
      'hljs-string': { color: bu.AccentGreen },
      'hljs-title': { color: bu.AccentYellow },
      'hljs-type': { color: bu.AccentBlue },
      'hljs-attribute': { color: bu.AccentYellow },
      'hljs-bullet': { color: bu.AccentYellow },
      'hljs-addition': { color: bu.AccentGreen },
      'hljs-variable': { color: bu.Foreground },
      'hljs-template-tag': { color: bu.AccentYellow },
      'hljs-template-variable': { color: bu.AccentYellow },
      'hljs-comment': { color: bu.Comment, fontStyle: 'italic' },
      'hljs-quote': { color: bu.AccentCyan, fontStyle: 'italic' },
      'hljs-deletion': { color: bu.AccentRed },
      'hljs-meta': { color: bu.AccentYellow },
      'hljs-doctag': { fontWeight: 'bold' },
      'hljs-strong': { fontWeight: 'bold' },
      'hljs-emphasis': { fontStyle: 'italic' },
    },
    bu,
    ch
  );
var Qs = {
    type: 'light',
    Background: '#f8f9fa',
    Foreground: '#5c6166',
    LightBlue: '#55b4d4',
    AccentBlue: '#399ee6',
    AccentPurple: '#a37acc',
    AccentCyan: '#4cbf99',
    AccentGreen: '#86b300',
    AccentYellow: '#f2ae49',
    AccentRed: '#f07171',
    DiffAdded: '#C6EAD8',
    DiffRemoved: '#FFCCCC',
    Comment: '#ABADB1',
    Gray: '#a6aaaf',
    GradientColors: ['#399ee6', '#86b300'],
  },
  mXt = new Xs(
    'Ayu Light',
    'light',
    {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        padding: '0.5em',
        background: Qs.Background,
        color: Qs.Foreground,
      },
      'hljs-comment': { color: Qs.Comment, fontStyle: 'italic' },
      'hljs-quote': { color: Qs.AccentCyan, fontStyle: 'italic' },
      'hljs-string': { color: Qs.AccentGreen },
      'hljs-constant': { color: Qs.AccentCyan },
      'hljs-number': { color: Qs.AccentPurple },
      'hljs-keyword': { color: Qs.AccentYellow },
      'hljs-selector-tag': { color: Qs.AccentYellow },
      'hljs-attribute': { color: Qs.AccentYellow },
      'hljs-variable': { color: Qs.Foreground },
      'hljs-variable.language': { color: Qs.LightBlue, fontStyle: 'italic' },
      'hljs-title': { color: Qs.AccentBlue },
      'hljs-section': { color: Qs.AccentGreen, fontWeight: 'bold' },
      'hljs-type': { color: Qs.LightBlue },
      'hljs-class .hljs-title': { color: Qs.AccentBlue },
      'hljs-tag': { color: Qs.LightBlue },
      'hljs-name': { color: Qs.AccentBlue },
      'hljs-builtin-name': { color: Qs.AccentYellow },
      'hljs-meta': { color: Qs.AccentYellow },
      'hljs-symbol': { color: Qs.AccentRed },
      'hljs-bullet': { color: Qs.AccentYellow },
      'hljs-regexp': { color: Qs.AccentCyan },
      'hljs-link': { color: Qs.LightBlue },
      'hljs-deletion': { color: Qs.AccentRed },
      'hljs-addition': { color: Qs.AccentGreen },
      'hljs-emphasis': { fontStyle: 'italic' },
      'hljs-strong': { fontWeight: 'bold' },
      'hljs-literal': { color: Qs.AccentCyan },
      'hljs-built_in': { color: Qs.AccentRed },
      'hljs-doctag': { color: Qs.AccentRed },
      'hljs-template-variable': { color: Qs.AccentCyan },
      'hljs-selector-id': { color: Qs.AccentRed },
    },
    Qs,
    Jg
  );
var as = {
    type: 'dark',
    Background: '#282c34',
    Foreground: '#abb2bf',
    LightBlue: '#61aeee',
    AccentBlue: '#61aeee',
    AccentPurple: '#c678dd',
    AccentCyan: '#56b6c2',
    AccentGreen: '#98c379',
    AccentYellow: '#e6c07b',
    AccentRed: '#e06c75',
    DiffAdded: '#39544E',
    DiffRemoved: '#562B2F',
    Comment: '#5c6370',
    Gray: '#5c6370',
    GradientColors: ['#61aeee', '#98c379'],
  },
  hXt = new Xs(
    'Atom One',
    'dark',
    {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        padding: '0.5em',
        color: as.Foreground,
        background: as.Background,
      },
      'hljs-comment': { color: as.Comment, fontStyle: 'italic' },
      'hljs-quote': { color: as.Comment, fontStyle: 'italic' },
      'hljs-doctag': { color: as.AccentPurple },
      'hljs-keyword': { color: as.AccentPurple },
      'hljs-formula': { color: as.AccentPurple },
      'hljs-section': { color: as.AccentRed },
      'hljs-name': { color: as.AccentRed },
      'hljs-selector-tag': { color: as.AccentRed },
      'hljs-deletion': { color: as.AccentRed },
      'hljs-subst': { color: as.AccentRed },
      'hljs-literal': { color: as.AccentCyan },
      'hljs-string': { color: as.AccentGreen },
      'hljs-regexp': { color: as.AccentGreen },
      'hljs-addition': { color: as.AccentGreen },
      'hljs-attribute': { color: as.AccentGreen },
      'hljs-meta-string': { color: as.AccentGreen },
      'hljs-built_in': { color: as.AccentYellow },
      'hljs-class .hljs-title': { color: as.AccentYellow },
      'hljs-attr': { color: as.AccentYellow },
      'hljs-variable': { color: as.AccentYellow },
      'hljs-template-variable': { color: as.AccentYellow },
      'hljs-type': { color: as.AccentYellow },
      'hljs-selector-class': { color: as.AccentYellow },
      'hljs-selector-attr': { color: as.AccentYellow },
      'hljs-selector-pseudo': { color: as.AccentYellow },
      'hljs-number': { color: as.AccentYellow },
      'hljs-symbol': { color: as.AccentBlue },
      'hljs-bullet': { color: as.AccentBlue },
      'hljs-link': { color: as.AccentBlue, textDecoration: 'underline' },
      'hljs-meta': { color: as.AccentBlue },
      'hljs-selector-id': { color: as.AccentBlue },
      'hljs-title': { color: as.AccentBlue },
      'hljs-emphasis': { fontStyle: 'italic' },
      'hljs-strong': { fontWeight: 'bold' },
    },
    as,
    ch
  );
var Ml = {
    type: 'dark',
    Background: '#282a36',
    Foreground: '#f8f8f2',
    LightBlue: '#8be9fd',
    AccentBlue: '#8be9fd',
    AccentPurple: '#ff79c6',
    AccentCyan: '#8be9fd',
    AccentGreen: '#50fa7b',
    AccentYellow: '#f1fa8c',
    AccentRed: '#ff5555',
    DiffAdded: '#11431d',
    DiffRemoved: '#6e1818',
    Comment: '#6272a4',
    Gray: '#6272a4',
    GradientColors: ['#ff79c6', '#8be9fd'],
  },
  AXt = new Xs(
    'Dracula',
    'dark',
    {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        padding: '0.5em',
        background: Ml.Background,
        color: Ml.Foreground,
      },
      'hljs-keyword': { color: Ml.AccentBlue, fontWeight: 'bold' },
      'hljs-selector-tag': { color: Ml.AccentBlue, fontWeight: 'bold' },
      'hljs-literal': { color: Ml.AccentBlue, fontWeight: 'bold' },
      'hljs-section': { color: Ml.AccentBlue, fontWeight: 'bold' },
      'hljs-link': { color: Ml.AccentBlue },
      'hljs-function .hljs-keyword': { color: Ml.AccentPurple },
      'hljs-subst': { color: Ml.Foreground },
      'hljs-string': { color: Ml.AccentYellow },
      'hljs-title': { color: Ml.AccentYellow, fontWeight: 'bold' },
      'hljs-name': { color: Ml.AccentYellow, fontWeight: 'bold' },
      'hljs-type': { color: Ml.AccentYellow, fontWeight: 'bold' },
      'hljs-attribute': { color: Ml.AccentYellow },
      'hljs-symbol': { color: Ml.AccentYellow },
      'hljs-bullet': { color: Ml.AccentYellow },
      'hljs-addition': { color: Ml.AccentGreen },
      'hljs-variable': { color: Ml.AccentYellow },
      'hljs-template-tag': { color: Ml.AccentYellow },
      'hljs-template-variable': { color: Ml.AccentYellow },
      'hljs-comment': { color: Ml.Comment },
      'hljs-quote': { color: Ml.Comment },
      'hljs-deletion': { color: Ml.AccentRed },
      'hljs-meta': { color: Ml.Comment },
      'hljs-doctag': { fontWeight: 'bold' },
      'hljs-strong': { fontWeight: 'bold' },
      'hljs-emphasis': { fontStyle: 'italic' },
    },
    Ml,
    ch
  );
var ks = {
    type: 'dark',
    Background: '#24292e',
    Foreground: '#d1d5da',
    LightBlue: '#79B8FF',
    AccentBlue: '#79B8FF',
    AccentPurple: '#B392F0',
    AccentCyan: '#9ECBFF',
    AccentGreen: '#85E89D',
    AccentYellow: '#FFAB70',
    AccentRed: '#F97583',
    DiffAdded: '#3C4636',
    DiffRemoved: '#502125',
    Comment: '#6A737D',
    Gray: '#6A737D',
    GradientColors: ['#79B8FF', '#85E89D'],
  },
  gXt = new Xs(
    'GitHub',
    'dark',
    {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        padding: '0.5em',
        color: ks.Foreground,
        background: ks.Background,
      },
      'hljs-comment': { color: ks.Comment, fontStyle: 'italic' },
      'hljs-quote': { color: ks.Comment, fontStyle: 'italic' },
      'hljs-keyword': { color: ks.AccentRed, fontWeight: 'bold' },
      'hljs-selector-tag': { color: ks.AccentRed, fontWeight: 'bold' },
      'hljs-subst': { color: ks.Foreground },
      'hljs-number': { color: ks.LightBlue },
      'hljs-literal': { color: ks.LightBlue },
      'hljs-variable': { color: ks.AccentYellow },
      'hljs-template-variable': { color: ks.AccentYellow },
      'hljs-tag .hljs-attr': { color: ks.AccentYellow },
      'hljs-string': { color: ks.AccentCyan },
      'hljs-doctag': { color: ks.AccentCyan },
      'hljs-title': { color: ks.AccentPurple, fontWeight: 'bold' },
      'hljs-section': { color: ks.AccentPurple, fontWeight: 'bold' },
      'hljs-selector-id': { color: ks.AccentPurple, fontWeight: 'bold' },
      'hljs-type': { color: ks.AccentGreen, fontWeight: 'bold' },
      'hljs-class .hljs-title': { color: ks.AccentGreen, fontWeight: 'bold' },
      'hljs-tag': { color: ks.AccentGreen },
      'hljs-name': { color: ks.AccentGreen },
      'hljs-attribute': { color: ks.LightBlue },
      'hljs-regexp': { color: ks.AccentCyan },
      'hljs-link': { color: ks.AccentCyan },
      'hljs-symbol': { color: ks.AccentPurple },
      'hljs-bullet': { color: ks.AccentPurple },
      'hljs-built_in': { color: ks.LightBlue },
      'hljs-builtin-name': { color: ks.LightBlue },
      'hljs-meta': { color: ks.LightBlue, fontWeight: 'bold' },
      'hljs-deletion': { background: '#86181D', color: ks.AccentRed },
      'hljs-addition': { background: '#144620', color: ks.AccentGreen },
      'hljs-emphasis': { fontStyle: 'italic' },
      'hljs-strong': { fontWeight: 'bold' },
    },
    ks,
    ch
  );
var lo = {
    type: 'light',
    Background: '#f8f8f8',
    Foreground: '#24292E',
    LightBlue: '#0086b3',
    AccentBlue: '#458',
    AccentPurple: '#900',
    AccentCyan: '#009926',
    AccentGreen: '#008080',
    AccentYellow: '#990073',
    AccentRed: '#d14',
    DiffAdded: '#C6EAD8',
    DiffRemoved: '#FFCCCC',
    Comment: '#998',
    Gray: '#999',
    GradientColors: ['#458', '#008080'],
  },
  EXt = new Xs(
    'GitHub Light',
    'light',
    {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        padding: '0.5em',
        color: lo.Foreground,
        background: lo.Background,
      },
      'hljs-comment': { color: lo.Comment, fontStyle: 'italic' },
      'hljs-quote': { color: lo.Comment, fontStyle: 'italic' },
      'hljs-keyword': { color: lo.Foreground, fontWeight: 'bold' },
      'hljs-selector-tag': { color: lo.Foreground, fontWeight: 'bold' },
      'hljs-subst': { color: lo.Foreground, fontWeight: 'normal' },
      'hljs-number': { color: lo.AccentGreen },
      'hljs-literal': { color: lo.AccentGreen },
      'hljs-variable': { color: lo.AccentGreen },
      'hljs-template-variable': { color: lo.AccentGreen },
      'hljs-tag .hljs-attr': { color: lo.AccentGreen },
      'hljs-string': { color: lo.AccentRed },
      'hljs-doctag': { color: lo.AccentRed },
      'hljs-title': { color: lo.AccentPurple, fontWeight: 'bold' },
      'hljs-section': { color: lo.AccentPurple, fontWeight: 'bold' },
      'hljs-selector-id': { color: lo.AccentPurple, fontWeight: 'bold' },
      'hljs-type': { color: lo.AccentBlue, fontWeight: 'bold' },
      'hljs-class .hljs-title': { color: lo.AccentBlue, fontWeight: 'bold' },
      'hljs-tag': { color: lo.AccentBlue, fontWeight: 'normal' },
      'hljs-name': { color: lo.AccentBlue, fontWeight: 'normal' },
      'hljs-attribute': { color: lo.AccentBlue, fontWeight: 'normal' },
      'hljs-regexp': { color: lo.AccentCyan },
      'hljs-link': { color: lo.AccentCyan },
      'hljs-symbol': { color: lo.AccentYellow },
      'hljs-bullet': { color: lo.AccentYellow },
      'hljs-built_in': { color: lo.LightBlue },
      'hljs-builtin-name': { color: lo.LightBlue },
      'hljs-meta': { color: lo.Gray, fontWeight: 'bold' },
      'hljs-deletion': { background: '#fdd' },
      'hljs-addition': { background: '#dfd' },
      'hljs-emphasis': { fontStyle: 'italic' },
      'hljs-strong': { fontWeight: 'bold' },
    },
    lo,
    Jg
  );
var Us = {
    type: 'light',
    Background: 'white',
    Foreground: '#444',
    LightBlue: '#066',
    AccentBlue: '#008',
    AccentPurple: '#606',
    AccentCyan: '#066',
    AccentGreen: '#080',
    AccentYellow: '#660',
    AccentRed: '#800',
    DiffAdded: '#C6EAD8',
    DiffRemoved: '#FEDEDE',
    Comment: '#5f6368',
    Gray: ci.Gray,
    GradientColors: ['#066', '#606'],
  },
  yXt = new Xs(
    'Google Code',
    'light',
    {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        padding: '0.5em',
        background: Us.Background,
        color: Us.Foreground,
      },
      'hljs-comment': { color: Us.AccentRed },
      'hljs-quote': { color: Us.AccentRed },
      'hljs-keyword': { color: Us.AccentBlue },
      'hljs-selector-tag': { color: Us.AccentBlue },
      'hljs-section': { color: Us.AccentBlue },
      'hljs-title': { color: Us.AccentPurple },
      'hljs-name': { color: Us.AccentBlue },
      'hljs-variable': { color: Us.AccentYellow },
      'hljs-template-variable': { color: Us.AccentYellow },
      'hljs-string': { color: Us.AccentGreen },
      'hljs-selector-attr': { color: Us.AccentGreen },
      'hljs-selector-pseudo': { color: Us.AccentGreen },
      'hljs-regexp': { color: Us.AccentGreen },
      'hljs-literal': { color: Us.AccentCyan },
      'hljs-symbol': { color: Us.AccentCyan },
      'hljs-bullet': { color: Us.AccentCyan },
      'hljs-meta': { color: Us.AccentCyan },
      'hljs-number': { color: Us.AccentCyan },
      'hljs-link': { color: Us.AccentCyan },
      'hljs-doctag': { color: Us.AccentPurple, fontWeight: 'bold' },
      'hljs-type': { color: Us.AccentPurple },
      'hljs-attr': { color: Us.AccentPurple },
      'hljs-built_in': { color: Us.AccentPurple },
      'hljs-builtin-name': { color: Us.AccentPurple },
      'hljs-params': { color: Us.AccentPurple },
      'hljs-attribute': { color: Us.Foreground },
      'hljs-subst': { color: Us.Foreground },
      'hljs-formula': { backgroundColor: '#eee', fontStyle: 'italic' },
      'hljs-selector-id': { color: Us.AccentYellow },
      'hljs-selector-class': { color: Us.AccentYellow },
      'hljs-addition': { backgroundColor: '#baeeba' },
      'hljs-deletion': { backgroundColor: '#ffc8bd' },
      'hljs-strong': { fontWeight: 'bold' },
      'hljs-emphasis': { fontStyle: 'italic' },
    },
    Us,
    Jg
  );
var Gz = new Xs(
  'Default Light',
  'light',
  {
    hljs: {
      display: 'block',
      overflowX: 'auto',
      padding: '0.5em',
      background: ci.Background,
      color: ci.Foreground,
    },
    'hljs-comment': { color: ci.Comment },
    'hljs-quote': { color: ci.Comment },
    'hljs-variable': { color: ci.Foreground },
    'hljs-keyword': { color: ci.AccentBlue },
    'hljs-selector-tag': { color: ci.AccentBlue },
    'hljs-built_in': { color: ci.AccentBlue },
    'hljs-name': { color: ci.AccentBlue },
    'hljs-tag': { color: ci.AccentBlue },
    'hljs-string': { color: ci.AccentRed },
    'hljs-title': { color: ci.AccentRed },
    'hljs-section': { color: ci.AccentRed },
    'hljs-attribute': { color: ci.AccentRed },
    'hljs-literal': { color: ci.AccentRed },
    'hljs-template-tag': { color: ci.AccentRed },
    'hljs-template-variable': { color: ci.AccentRed },
    'hljs-type': { color: ci.AccentRed },
    'hljs-addition': { color: ci.AccentGreen },
    'hljs-deletion': { color: ci.AccentRed },
    'hljs-selector-attr': { color: ci.AccentCyan },
    'hljs-selector-pseudo': { color: ci.AccentCyan },
    'hljs-meta': { color: ci.AccentCyan },
    'hljs-doctag': { color: ci.Gray },
    'hljs-attr': { color: ci.AccentRed },
    'hljs-symbol': { color: ci.AccentCyan },
    'hljs-bullet': { color: ci.AccentCyan },
    'hljs-link': { color: ci.AccentCyan },
    'hljs-emphasis': { fontStyle: 'italic' },
    'hljs-strong': { fontWeight: 'bold' },
  },
  ci,
  Jg
);
var hk = new Xs(
  'Default',
  'dark',
  {
    hljs: {
      display: 'block',
      overflowX: 'auto',
      padding: '0.5em',
      background: On.Background,
      color: On.Foreground,
    },
    'hljs-keyword': { color: On.AccentBlue },
    'hljs-literal': { color: On.AccentBlue },
    'hljs-symbol': { color: On.AccentBlue },
    'hljs-name': { color: On.AccentBlue },
    'hljs-link': { color: On.AccentBlue, textDecoration: 'underline' },
    'hljs-built_in': { color: On.AccentCyan },
    'hljs-type': { color: On.AccentCyan },
    'hljs-number': { color: On.AccentGreen },
    'hljs-class': { color: On.AccentGreen },
    'hljs-string': { color: On.AccentYellow },
    'hljs-meta-string': { color: On.AccentYellow },
    'hljs-regexp': { color: On.AccentRed },
    'hljs-template-tag': { color: On.AccentRed },
    'hljs-subst': { color: On.Foreground },
    'hljs-function': { color: On.Foreground },
    'hljs-title': { color: On.Foreground },
    'hljs-params': { color: On.Foreground },
    'hljs-formula': { color: On.Foreground },
    'hljs-comment': { color: On.Comment, fontStyle: 'italic' },
    'hljs-quote': { color: On.Comment, fontStyle: 'italic' },
    'hljs-doctag': { color: On.Comment },
    'hljs-meta': { color: On.Gray },
    'hljs-meta-keyword': { color: On.Gray },
    'hljs-tag': { color: On.Gray },
    'hljs-variable': { color: On.AccentPurple },
    'hljs-template-variable': { color: On.AccentPurple },
    'hljs-attr': { color: On.LightBlue },
    'hljs-attribute': { color: On.LightBlue },
    'hljs-builtin-name': { color: On.LightBlue },
    'hljs-section': { color: On.AccentYellow },
    'hljs-emphasis': { fontStyle: 'italic' },
    'hljs-strong': { fontWeight: 'bold' },
    'hljs-bullet': { color: On.AccentYellow },
    'hljs-selector-tag': { color: On.AccentYellow },
    'hljs-selector-id': { color: On.AccentYellow },
    'hljs-selector-class': { color: On.AccentYellow },
    'hljs-selector-attr': { color: On.AccentYellow },
    'hljs-selector-pseudo': { color: On.AccentYellow },
    'hljs-addition': { backgroundColor: '#144212', display: 'inline-block', width: '100%' },
    'hljs-deletion': { backgroundColor: '#600', display: 'inline-block', width: '100%' },
  },
  On,
  ch
);
var bi = {
    type: 'dark',
    Background: '#2d2b57',
    Foreground: '#e3dfff',
    LightBlue: '#847ace',
    AccentBlue: '#a599e9',
    AccentPurple: '#ac65ff',
    AccentCyan: '#a1feff',
    AccentGreen: '#A5FF90',
    AccentYellow: '#fad000',
    AccentRed: '#ff628c',
    DiffAdded: '#383E45',
    DiffRemoved: '#572244',
    Comment: '#B362FF',
    Gray: '#726c86',
    GradientColors: ['#4d21fc', '#847ace', '#ff628c'],
  },
  Yd = {
    AccentYellowAlt: '#f8d000',
    AccentOrange: '#fb9e00',
    AccentPink: '#fa658d',
    AccentLightPurple: '#c991ff',
    AccentDarkPurple: '#6943ff',
    AccentTeal: '#2ee2fa',
  },
  vXt = new Xs(
    'Shades Of Purple',
    'dark',
    {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        background: bi.Background,
        color: bi.Foreground,
      },
      'hljs-title': { color: bi.AccentYellow, fontWeight: 'normal' },
      'hljs-name': { color: bi.AccentCyan, fontWeight: 'normal' },
      'hljs-tag': { color: bi.Foreground },
      'hljs-attr': { color: Yd.AccentYellowAlt, fontStyle: 'italic' },
      'hljs-built_in': { color: Yd.AccentOrange },
      'hljs-selector-tag': { color: Yd.AccentOrange, fontWeight: 'normal' },
      'hljs-section': { color: Yd.AccentOrange },
      'hljs-keyword': { color: Yd.AccentOrange, fontWeight: 'normal' },
      'hljs-subst': { color: bi.Foreground },
      'hljs-string': { color: bi.AccentGreen },
      'hljs-attribute': { color: bi.AccentGreen },
      'hljs-symbol': { color: bi.AccentGreen },
      'hljs-bullet': { color: bi.AccentGreen },
      'hljs-addition': { color: bi.AccentGreen },
      'hljs-code': { color: bi.AccentGreen },
      'hljs-regexp': { color: bi.AccentGreen },
      'hljs-selector-class': { color: bi.AccentGreen },
      'hljs-selector-attr': { color: bi.AccentGreen },
      'hljs-selector-pseudo': { color: bi.AccentGreen },
      'hljs-template-tag': { color: bi.AccentGreen },
      'hljs-quote': { color: bi.AccentGreen },
      'hljs-deletion': { color: bi.AccentRed },
      'hljs-meta': { color: Yd.AccentOrange },
      'hljs-meta-string': { color: Yd.AccentOrange },
      'hljs-comment': { color: bi.AccentPurple },
      'hljs-literal': { color: Yd.AccentPink, fontWeight: 'normal' },
      'hljs-number': { color: Yd.AccentPink },
      'hljs-emphasis': { fontStyle: 'italic' },
      'hljs-strong': { fontWeight: 'bold' },
      'hljs-diff': { color: bi.Foreground },
      'hljs-meta.hljs-diff': { color: bi.AccentBlue },
      'hljs-ln': { color: bi.Gray },
      'hljs-type': { color: bi.AccentYellow, fontWeight: 'normal' },
      'hljs-variable': { color: bi.AccentYellow },
      'hljs-template-variable': { color: bi.AccentGreen },
      'hljs-function .hljs-keyword': { color: Yd.AccentOrange },
      'hljs-link': { color: bi.LightBlue },
      'hljs-doctag': { fontWeight: 'bold' },
      'hljs-params': { color: Yd.AccentLightPurple, fontStyle: 'italic' },
      'hljs-class': { color: bi.AccentCyan, fontWeight: 'bold' },
      'hljs-function': { color: bi.AccentCyan },
      'hljs-property': { color: bi.AccentBlue },
      'hljs-operator': { color: Yd.AccentDarkPurple },
      'hljs-punctuation': { color: bi.Gray },
      'hljs-selector-id': { color: bi.AccentYellow, fontWeight: 'bold' },
      'hljs-char': { color: bi.AccentGreen },
      'hljs-escape': { color: Yd.AccentPink, fontWeight: 'bold' },
      'hljs-meta-keyword': { color: Yd.AccentOrange, fontWeight: 'bold' },
      'hljs-builtin-name': { color: Yd.AccentTeal },
      'hljs-module': { color: bi.AccentCyan },
      'hljs-namespace': { color: bi.LightBlue },
      'hljs-important': { color: bi.AccentRed, fontWeight: 'bold' },
      'hljs-formula': { color: bi.AccentCyan, fontStyle: 'italic' },
      'hljs-decorator': { color: Yd.AccentTeal, fontWeight: 'bold' },
      'hljs-symbol.ruby': { color: Yd.AccentPink },
      'hljs-keyword.sql': { color: Yd.AccentOrange, textTransform: 'uppercase' },
      'hljs-section.markdown': { color: bi.AccentYellow, fontWeight: 'bold' },
      'hljs-attr.json': { color: bi.AccentCyan },
      'hljs-tag .hljs-name': { color: bi.AccentRed },
      'hljs-tag .hljs-attr': { color: Yd.AccentYellowAlt },
      'hljs.hljs-line-numbers': { borderRight: `1px solid ${bi.Gray}` },
      'hljs.hljs-line-numbers .hljs-ln-numbers': { color: bi.Gray, paddingRight: '1em' },
      'hljs.hljs-line-numbers .hljs-ln-code': { paddingLeft: '1em' },
      'hljs::selection': { background: bi.AccentBlue + '40' },
      'hljs ::-moz-selection': { background: bi.AccentBlue + '40' },
      'hljs .hljs-highlight': {
        background: bi.AccentPurple + '20',
        display: 'block',
        width: '100%',
      },
    },
    bi,
    ch
  );
var ms = {
    type: 'light',
    Background: '#fff',
    Foreground: '#444',
    LightBlue: '#0E0EFF',
    AccentBlue: '#1c00cf',
    AccentPurple: '#aa0d91',
    AccentCyan: '#3F6E74',
    AccentGreen: '#007400',
    AccentYellow: '#836C28',
    AccentRed: '#c41a16',
    DiffAdded: '#C6EAD8',
    DiffRemoved: '#FEDEDE',
    Comment: '#007400',
    Gray: '#c0c0c0',
    GradientColors: ['#1c00cf', '#007400'],
  },
  CXt = new Xs(
    'Xcode',
    'light',
    {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        padding: '0.5em',
        background: ms.Background,
        color: ms.Foreground,
      },
      'xml .hljs-meta': { color: ms.Gray },
      'hljs-comment': { color: ms.Comment },
      'hljs-quote': { color: ms.Comment },
      'hljs-tag': { color: ms.AccentPurple },
      'hljs-attribute': { color: ms.AccentPurple },
      'hljs-keyword': { color: ms.AccentPurple },
      'hljs-selector-tag': { color: ms.AccentPurple },
      'hljs-literal': { color: ms.AccentPurple },
      'hljs-name': { color: ms.AccentPurple },
      'hljs-variable': { color: ms.AccentCyan },
      'hljs-template-variable': { color: ms.AccentCyan },
      'hljs-code': { color: ms.AccentRed },
      'hljs-string': { color: ms.AccentRed },
      'hljs-meta-string': { color: ms.AccentRed },
      'hljs-regexp': { color: ms.LightBlue },
      'hljs-link': { color: ms.LightBlue },
      'hljs-title': { color: ms.AccentBlue },
      'hljs-symbol': { color: ms.AccentBlue },
      'hljs-bullet': { color: ms.AccentBlue },
      'hljs-number': { color: ms.AccentBlue },
      'hljs-section': { color: ms.AccentYellow },
      'hljs-meta': { color: ms.AccentYellow },
      'hljs-class .hljs-title': { color: ms.AccentPurple },
      'hljs-type': { color: ms.AccentPurple },
      'hljs-built_in': { color: ms.AccentPurple },
      'hljs-builtin-name': { color: ms.AccentPurple },
      'hljs-params': { color: ms.AccentPurple },
      'hljs-attr': { color: ms.AccentYellow },
      'hljs-subst': { color: ms.Foreground },
      'hljs-formula': { backgroundColor: '#eee', fontStyle: 'italic' },
      'hljs-addition': { backgroundColor: '#baeeba' },
      'hljs-deletion': { backgroundColor: '#ffc8bd' },
      'hljs-selector-id': { color: ms.AccentYellow },
      'hljs-selector-class': { color: ms.AccentYellow },
      'hljs-doctag': { fontWeight: 'bold' },
      'hljs-strong': { fontWeight: 'bold' },
      'hljs-emphasis': { fontStyle: 'italic' },
    },
    ms,
    Jg
  );
var _Dn = {
    type: 'dark',
    Background: 'black',
    Foreground: 'white',
    LightBlue: 'bluebright',
    AccentBlue: 'blue',
    AccentPurple: 'magenta',
    AccentCyan: 'cyan',
    AccentGreen: 'green',
    AccentYellow: 'yellow',
    AccentRed: 'red',
    DiffAdded: '#003300',
    DiffRemoved: '#4D0000',
    Comment: 'gray',
    Gray: 'gray',
    GradientColors: ['cyan', 'green'],
  },
  _Xt = new Xs(
    'ANSI',
    'dark',
    {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        padding: '0.5em',
        background: 'black',
        color: 'white',
      },
      'hljs-keyword': { color: 'blue' },
      'hljs-literal': { color: 'blue' },
      'hljs-symbol': { color: 'blue' },
      'hljs-name': { color: 'blue' },
      'hljs-link': { color: 'blue' },
      'hljs-built_in': { color: 'cyan' },
      'hljs-type': { color: 'cyan' },
      'hljs-number': { color: 'green' },
      'hljs-class': { color: 'green' },
      'hljs-string': { color: 'yellow' },
      'hljs-meta-string': { color: 'yellow' },
      'hljs-regexp': { color: 'red' },
      'hljs-template-tag': { color: 'red' },
      'hljs-subst': { color: 'white' },
      'hljs-function': { color: 'white' },
      'hljs-title': { color: 'white' },
      'hljs-params': { color: 'white' },
      'hljs-formula': { color: 'white' },
      'hljs-comment': { color: 'green' },
      'hljs-quote': { color: 'green' },
      'hljs-doctag': { color: 'green' },
      'hljs-meta': { color: 'gray' },
      'hljs-meta-keyword': { color: 'gray' },
      'hljs-tag': { color: 'gray' },
      'hljs-variable': { color: 'magenta' },
      'hljs-template-variable': { color: 'magenta' },
      'hljs-attr': { color: 'bluebright' },
      'hljs-attribute': { color: 'bluebright' },
      'hljs-builtin-name': { color: 'bluebright' },
      'hljs-section': { color: 'yellow' },
      'hljs-emphasis': {},
      'hljs-strong': {},
      'hljs-bullet': { color: 'yellow' },
      'hljs-selector-tag': { color: 'yellow' },
      'hljs-selector-id': { color: 'yellow' },
      'hljs-selector-class': { color: 'yellow' },
      'hljs-selector-attr': { color: 'yellow' },
      'hljs-selector-pseudo': { color: 'yellow' },
    },
    _Dn,
    ch
  );
var SDn = {
    type: 'light',
    Background: 'white',
    Foreground: '#444',
    LightBlue: 'blue',
    AccentBlue: 'blue',
    AccentPurple: 'purple',
    AccentCyan: 'cyan',
    AccentGreen: 'green',
    AccentYellow: 'orange',
    AccentRed: 'red',
    DiffAdded: '#E5F2E5',
    DiffRemoved: '#FFE5E5',
    Comment: 'gray',
    Gray: 'gray',
    GradientColors: ['blue', 'green'],
  },
  SXt = new Xs(
    'ANSI Light',
    'light',
    {
      hljs: {
        display: 'block',
        overflowX: 'auto',
        padding: '0.5em',
        background: 'white',
        color: 'black',
      },
      'hljs-keyword': { color: 'blue' },
      'hljs-literal': { color: 'blue' },
      'hljs-symbol': { color: 'blue' },
      'hljs-name': { color: 'blue' },
      'hljs-link': { color: 'blue' },
      'hljs-built_in': { color: 'cyan' },
      'hljs-type': { color: 'cyan' },
      'hljs-number': { color: 'green' },
      'hljs-class': { color: 'green' },
      'hljs-string': { color: 'red' },
      'hljs-meta-string': { color: 'red' },
      'hljs-regexp': { color: 'magenta' },
      'hljs-template-tag': { color: 'magenta' },
      'hljs-subst': { color: 'black' },
      'hljs-function': { color: 'black' },
      'hljs-title': { color: 'black' },
      'hljs-params': { color: 'black' },
      'hljs-formula': { color: 'black' },
      'hljs-comment': { color: 'gray' },
      'hljs-quote': { color: 'gray' },
      'hljs-doctag': { color: 'gray' },
      'hljs-meta': { color: 'gray' },
      'hljs-meta-keyword': { color: 'gray' },
      'hljs-tag': { color: 'gray' },
      'hljs-variable': { color: 'purple' },
      'hljs-template-variable': { color: 'purple' },
      'hljs-attr': { color: 'blue' },
      'hljs-attribute': { color: 'blue' },
      'hljs-builtin-name': { color: 'blue' },
      'hljs-section': { color: 'orange' },
      'hljs-bullet': { color: 'orange' },
      'hljs-selector-tag': { color: 'orange' },
      'hljs-selector-id': { color: 'orange' },
      'hljs-selector-class': { color: 'orange' },
      'hljs-selector-attr': { color: 'orange' },
      'hljs-selector-pseudo': { color: 'orange' },
    },
    SDn,
    Jg
  );
var bDn = {
    type: 'ansi',
    Background: '',
    Foreground: '',
    LightBlue: '',
    AccentBlue: '',
    AccentPurple: '',
    AccentCyan: '',
    AccentGreen: '',
    AccentYellow: '',
    AccentRed: '',
    DiffAdded: '',
    DiffRemoved: '',
    Comment: '',
    Gray: '',
  },
  DDn = {
    text: { primary: '', secondary: '', link: '', accent: '' },
    background: { primary: '', diff: { added: '', removed: '' } },
    border: { default: '', focused: '' },
    ui: { comment: '', symbol: '', gradient: [] },
    status: { error: '', success: '', warning: '' },
  },
  bXt = new Xs(
    'NoColor',
    'dark',
    {
      hljs: { display: 'block', overflowX: 'auto', padding: '0.5em' },
      'hljs-keyword': {},
      'hljs-literal': {},
      'hljs-symbol': {},
      'hljs-name': {},
      'hljs-link': { textDecoration: 'underline' },
      'hljs-built_in': {},
      'hljs-type': {},
      'hljs-number': {},
      'hljs-class': {},
      'hljs-string': {},
      'hljs-meta-string': {},
      'hljs-regexp': {},
      'hljs-template-tag': {},
      'hljs-subst': {},
      'hljs-function': {},
      'hljs-title': {},
      'hljs-params': {},
      'hljs-formula': {},
      'hljs-comment': { fontStyle: 'italic' },
      'hljs-quote': { fontStyle: 'italic' },
      'hljs-doctag': {},
      'hljs-meta': {},
      'hljs-meta-keyword': {},
      'hljs-tag': {},
      'hljs-variable': {},
      'hljs-template-variable': {},
      'hljs-attr': {},
      'hljs-attribute': {},
      'hljs-builtin-name': {},
      'hljs-section': {},
      'hljs-emphasis': { fontStyle: 'italic' },
      'hljs-strong': { fontWeight: 'bold' },
      'hljs-bullet': {},
      'hljs-selector-tag': {},
      'hljs-selector-id': {},
      'hljs-selector-class': {},
      'hljs-selector-attr': {},
      'hljs-selector-pseudo': {},
      'hljs-addition': { display: 'inline-block', width: '100%' },
      'hljs-deletion': { display: 'inline-block', width: '100%' },
    },
    bDn,
    DDn
  );
import wDn from 'node:process';
var Pv = hk,
  MUe = class {
    availableThemes;
    activeTheme;
    customThemes = new Map();
    constructor() {
      ((this.availableThemes = [fXt, mXt, hXt, AXt, Gz, hk, gXt, EXt, yXt, vXt, CXt, _Xt, SXt]),
        (this.activeTheme = Pv));
    }
    loadCustomThemes(e) {
      if ((this.customThemes.clear(), !!e)) {
        for (let [r, n] of Object.entries(e)) {
          let i = pXt(n);
          if (i.isValid) {
            i.warning && console.warn(`Theme "${r}": ${i.warning}`);
            let a = { ...Pv.colors, ...n, name: n.name || r, type: 'custom' };
            try {
              let s = dXt(a);
              this.customThemes.set(r, s);
            } catch (s) {
              console.warn(`Failed to load custom theme "${r}":`, s);
            }
          } else console.warn(`Invalid custom theme "${r}": ${i.error}`);
        }
        this.activeTheme &&
          this.activeTheme.type === 'custom' &&
          this.customThemes.has(this.activeTheme.name) &&
          (this.activeTheme = this.customThemes.get(this.activeTheme.name));
      }
    }
    setActiveTheme(e) {
      let r = this.findThemeByName(e);
      return r ? ((this.activeTheme = r), !0) : !1;
    }
    getActiveTheme() {
      return wDn.env.NO_COLOR
        ? bXt
        : ((!this.activeTheme || !this.findThemeByName(this.activeTheme.name)) &&
            (this.activeTheme = Pv),
          this.activeTheme);
    }
    getSemanticColors() {
      return this.getActiveTheme().semanticColors;
    }
    getCustomThemeNames() {
      return Array.from(this.customThemes.keys());
    }
    isCustomTheme(e) {
      return this.customThemes.has(e);
    }
    getAvailableThemes() {
      let e = this.availableThemes.map((a) => ({ name: a.name, type: a.type, isCustom: !1 })),
        r = Array.from(this.customThemes.values()).map((a) => ({
          name: a.name,
          type: a.type,
          isCustom: !0,
        }));
      return [...e, ...r].sort((a, s) => {
        let o = (u) => {
            switch (u) {
              case 'dark':
                return 1;
              case 'light':
                return 2;
              case 'ansi':
                return 3;
              case 'custom':
                return 4;
              default:
                return 5;
            }
          },
          l = o(a.type) - o(s.type);
        return l !== 0 ? l : a.name.localeCompare(s.name);
      });
    }
    getTheme(e) {
      return this.findThemeByName(e);
    }
    findThemeByName(e) {
      if (!e) return Pv;
      let r = this.availableThemes.find((n) => n.name === e);
      return r || this.customThemes.get(e);
    }
  },
  Ya = new MUe();
import IDn from 'node:process';
var DXt = (t, e, r) => {
  let [n, i] = (0, Qv.useState)(!1);
  (0, Qv.useEffect)(() => {
    let u = t.merged.theme;
    u && !Ya.findThemeByName(u) ? (i(!0), e(`Theme "${u}" not found.`)) : e(null);
  }, [t.merged.theme, e]);
  let a = (0, Qv.useCallback)(() => {
      if (IDn.env.NO_COLOR) {
        r(
          { type: 'info', text: 'Theme configuration unavailable due to NO_COLOR env variable.' },
          Date.now()
        );
        return;
      }
      i(!0);
    }, [r]),
    s = (0, Qv.useCallback)(
      (u) => {
        Ya.setActiveTheme(u) ? e(null) : (i(!0), e(`Theme "${u}" not found.`));
      },
      [e]
    ),
    o = (0, Qv.useCallback)(
      (u) => {
        s(u);
      },
      [s]
    ),
    l = (0, Qv.useCallback)(
      (u, c) => {
        try {
          let p = {
              ...(t.user.settings.customThemes || {}),
              ...(t.workspace.settings.customThemes || {}),
            },
            h = Ya.findThemeByName(u),
            m = u && p[u];
          if (!h && !m) {
            (e(`Theme "${u}" not found in selected scope.`), i(!0));
            return;
          }
          (t.setValue(c, 'theme', u),
            t.merged.customThemes && Ya.loadCustomThemes(t.merged.customThemes),
            s(t.merged.theme),
            e(null));
        } finally {
          i(!1);
        }
      },
      [s, t, e]
    );
  return {
    isThemeDialogOpen: n,
    openThemeDialog: a,
    handleThemeSelect: l,
    handleThemeHighlight: o,
  };
};
var D9 = qe(or(), 1);
Qn();
var UUe = qe(NXt(), 1);
Qn();
var $z = qe(QUe(), 1);
import * as Ll from 'fs';
import * as q0 from 'path';
import { homedir as ume, platform as LXt } from 'os';
var Uv = '.kodacli',
  HUe = q0.join(ume(), Uv),
  lme = q0.join(HUe, 'settings.json'),
  WDn = ['DEBUG', 'DEBUG_MODE'];
function zDn() {
  return process.env.GEMINI_CLI_SYSTEM_SETTINGS_PATH
    ? process.env.GEMINI_CLI_SYSTEM_SETTINGS_PATH
    : LXt() === 'darwin'
      ? '/Library/Application Support/GeminiCli/settings.json'
      : LXt() === 'win32'
        ? 'C:\\ProgramData\\gemini-cli\\settings.json'
        : '/etc/gemini-cli/settings.json';
}
function FXt(t) {
  return q0.join(t, Uv, 'settings.json');
}
var L1 = ((n) => ((n.User = 'User'), (n.Workspace = 'Workspace'), (n.System = 'System'), n))(
    L1 || {}
  ),
  kUe = class {
    constructor(e, r, n, i) {
      ((this.system = e),
        (this.user = r),
        (this.workspace = n),
        (this.errors = i),
        (this._merged = this.computeMergedSettings()));
    }
    system;
    user;
    workspace;
    errors;
    _merged;
    get merged() {
      return this._merged;
    }
    computeMergedSettings() {
      let e = this.system.settings,
        r = this.user.settings,
        n = this.workspace.settings,
        { folderTrust: i, ...a } = n;
      return {
        ...r,
        ...a,
        ...e,
        customThemes: {
          ...(r.customThemes || {}),
          ...(n.customThemes || {}),
          ...(e.customThemes || {}),
        },
        mcpServers: { ...(r.mcpServers || {}), ...(n.mcpServers || {}), ...(e.mcpServers || {}) },
        includeDirectories: [
          ...(e.includeDirectories || []),
          ...(r.includeDirectories || []),
          ...(n.includeDirectories || []),
        ],
        chatCompression: {
          ...(e.chatCompression || {}),
          ...(r.chatCompression || {}),
          ...(n.chatCompression || {}),
        },
      };
    }
    forScope(e) {
      switch (e) {
        case 'User':
          return this.user;
        case 'Workspace':
          return this.workspace;
        case 'System':
          return this.system;
        default:
          throw new Error(`Invalid scope: ${e}`);
      }
    }
    setValue(e, r, n) {
      let i = this.forScope(e);
      ((i.settings[r] = n), (this._merged = this.computeMergedSettings()), ZDn(i));
    }
  };
function JDn(t) {
  let e = /\$(?:(\w+)|{([^}]+)})/g;
  return t.replace(e, (r, n, i) => {
    let a = n || i;
    return process && process.env && typeof process.env[a] == 'string' ? process.env[a] : r;
  });
}
function gk(t) {
  if (t == null || typeof t == 'boolean' || typeof t == 'number') return t;
  if (typeof t == 'string') return JDn(t);
  if (Array.isArray(t)) return t.map((e) => gk(e));
  if (typeof t == 'object') {
    let e = { ...t };
    for (let r in e) Object.prototype.hasOwnProperty.call(e, r) && (e[r] = gk(e[r]));
    return e;
  }
  return t;
}
function KDn(t) {
  let e = q0.resolve(t);
  for (;;) {
    let r = q0.join(e, zm, '.env');
    if (Ll.existsSync(r)) return r;
    let n = q0.join(e, '.env');
    if (Ll.existsSync(n)) return n;
    let i = q0.dirname(e);
    if (i === e || !i) {
      let a = q0.join(ume(), zm, '.env');
      if (Ll.existsSync(a)) return a;
      let s = q0.join(ume(), '.env');
      return Ll.existsSync(s) ? s : null;
    }
    e = i;
  }
}
function XDn(t) {
  if (t && Ll.existsSync(t)) {
    let e = Ll.readFileSync(t),
      r = UUe.parse(e);
    r.GOOGLE_CLOUD_PROJECT
      ? (process.env.GOOGLE_CLOUD_PROJECT = r.GOOGLE_CLOUD_PROJECT)
      : (process.env.GOOGLE_CLOUD_PROJECT = 'cloudshell-gca');
  } else process.env.GOOGLE_CLOUD_PROJECT = 'cloudshell-gca';
}
function VUe(t) {
  let e = KDn(process.cwd());
  process.env.CLOUD_SHELL === 'true' && XDn(e);
  let r = t;
  if (!r) {
    let n = FXt(process.cwd());
    try {
      if (Ll.existsSync(n)) {
        let i = Ll.readFileSync(n, 'utf-8'),
          a = JSON.parse((0, $z.default)(i));
        r = gk(a);
      }
    } catch {}
  }
  if (e)
    try {
      let n = Ll.readFileSync(e, 'utf-8'),
        i = UUe.parse(n),
        a = r?.excludedProjectEnvVars || WDn,
        s = !e.includes(zm);
      for (let o in i)
        if (Object.hasOwn(i, o)) {
          if (s && a.includes(o)) continue;
          Object.hasOwn(process.env, o) || (process.env[o] = i[o]);
        }
    } catch {}
}
function b9(t) {
  let e = {},
    r = {},
    n = {},
    i = [],
    a = zDn(),
    s = q0.resolve(t),
    o = q0.resolve(ume()),
    l = s;
  try {
    l = Ll.realpathSync(s);
  } catch {}
  let u = Ll.realpathSync(o),
    c = FXt(t);
  try {
    if (Ll.existsSync(a)) {
      let E = Ll.readFileSync(a, 'utf-8'),
        v = JSON.parse((0, $z.default)(E));
      e = gk(v);
    }
  } catch (E) {
    i.push({ message: ir(E), path: a });
  }
  try {
    if (Ll.existsSync(lme)) {
      let E = Ll.readFileSync(lme, 'utf-8'),
        v = JSON.parse((0, $z.default)(E));
      ((r = gk(v)),
        r.theme && r.theme === 'VS'
          ? (r.theme = Gz.name)
          : r.theme && r.theme === 'VS2015' && (r.theme = hk.name));
    }
  } catch (E) {
    i.push({ message: ir(E), path: lme });
  }
  if (l !== u)
    try {
      if (Ll.existsSync(c)) {
        let E = Ll.readFileSync(c, 'utf-8'),
          v = JSON.parse((0, $z.default)(E));
        ((n = gk(v)),
          n.theme && n.theme === 'VS'
            ? (n.theme = Gz.name)
            : n.theme && n.theme === 'VS2015' && (n.theme = hk.name));
      }
    } catch (E) {
      i.push({ message: ir(E), path: c });
    }
  let p = new kUe(
      { path: a, settings: e },
      { path: lme, settings: r },
      { path: c, settings: n },
      i
    ),
    m = p.merged.chatCompression?.contextPercentageThreshold;
  return (
    m != null &&
      (typeof m != 'number' || m < 0 || m > 1) &&
      (console.warn(
        `Invalid value for chatCompression.contextPercentageThreshold: "${m}". Please use a value between 0 and 1. Using default compression settings.`
      ),
      delete p.merged.chatCompression),
    VUe(p.merged),
    p
  );
}
function ZDn(t) {
  try {
    let e = q0.dirname(t.path);
    (Ll.existsSync(e) || Ll.mkdirSync(e, { recursive: !0 }),
      Ll.writeFileSync(t.path, JSON.stringify(t.settings, null, 2), 'utf-8'));
  } catch (e) {
    console.error('Error saving user settings file:', e);
  }
}
Qn();
async function PXt() {
  try {
    if (!process.env.KODA_API_KEY) {
      let t = await EUe();
      t && (process.env.KODA_API_KEY = t);
    }
  } catch {}
  try {
    if (!process.env.KODA_GITHUB_TOKEN && !process.env.GITHUB_TOKEN) {
      let t = await gUe();
      t &&
        ((process.env.KODA_GITHUB_TOKEN = t),
        process.env.GITHUB_TOKEN || (process.env.GITHUB_TOKEN = t));
    }
  } catch {}
}
function jz() {
  return [process.env.KODA_API_KEY, process.env.KODA_GITHUB_TOKEN, process.env.GITHUB_TOKEN].some(
    (e) => typeof e == 'string' && e.trim().length > 0
  );
}
function QXt(t, e) {
  let [r, n] = (0, D9.useState)(!1),
    [i, a] = (0, D9.useState)([]),
    [s, o] = (0, D9.useState)(!1),
    [l, u] = (0, D9.useState)(null),
    [c, p] = (0, D9.useState)(null),
    h = (0, D9.useCallback)(() => {
      (n(!0), o(!0), u(null), p(null));
      let v = !!(
        e.merged.selectedAuthType &&
        e.merged.selectedAuthType !== hn.WITHOUT_AUTH &&
        jz()
      );
      (async () => {
        try {
          let g = [];
          v
            ? (g = await i0e())
            : ((g = ['KodaAgent']),
              p(
                '        GitHub'
              ));
          let _ = t.getModel() || af;
          !v &&
            _ !== 'KodaAgent' &&
            (t.setModel('KodaAgent'), e.setValue('User', 'model', 'KodaAgent'));
          let S = Array.from(new Set([_, ...g]));
          a(S);
        } catch (g) {
          (u(g?.message || 'Unable to load models'), a([t.getModel() || af]));
        } finally {
          o(!1);
        }
      })();
    }, [t, e]),
    m = (0, D9.useCallback)(() => n(!1), []),
    E = (0, D9.useCallback)(
      (v, g) => {
        let _ = !!(
          e.merged.selectedAuthType &&
          e.merged.selectedAuthType !== hn.WITHOUT_AUTH &&
          jz()
        );
        try {
          v &&
            (!_ && v !== 'KodaAgent'
              ? (p(
                  '        GitHub'
                ),
                e.setValue(g, 'model', 'KodaAgent'),
                t.setModel('KodaAgent'))
              : (e.setValue(g, 'model', v), t.setModel(v)));
        } finally {
          n(!1);
        }
      },
      [t, e]
    );
  return {
    isModelDialogOpen: r,
    openModelDialog: h,
    closeModelDialog: m,
    models: i,
    loading: s,
    error: l,
    unauthorizedUserError: c,
    handleModelSelect: E,
  };
}
var p3 = qe(or(), 1);
Qn();
ek();
import ewn from 'node:os';
import GUe from 'node:path';
import { promises as qUe } from 'node:fs';
async function twn(t, e) {
  if (!e)
    try {
      (await A9(t)).on('error', () => {});
    } catch {}
}
var rwn = 'https://github.com/login/device/code',
  nwn = 'https://github.com/login/oauth/access_token';
async function iwn(t, e) {
  let r = await fetch(rwn, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json', Accept: 'application/json' },
    body: JSON.stringify({ client_id: t, scope: e.join(' ') }),
  });
  if (!r.ok) throw new Error(`GitHub device code failed: ${r.status} ${r.statusText}`);
  return await r.json();
}
async function awn(t, e, r) {
  let n = Math.max(5, r) * 1e3;
  for (;;) {
    await new Promise((s) => setTimeout(s, n));
    let i = await fetch(nwn, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json', Accept: 'application/json' },
      body: JSON.stringify({
        client_id: e,
        device_code: t,
        grant_type: 'urn:ietf:params:oauth:grant-type:device_code',
      }),
    });
    if (!i.ok) throw new Error(`GitHub token poll failed: ${i.status} ${i.statusText}`);
    let a = await i.json();
    if ('access_token' in a) return a.access_token;
    switch (a.error) {
      case 'authorization_pending':
        break;
      case 'slow_down':
        n += 5e3;
        break;
      case 'access_denied':
        throw new Error('User denied access.');
      case 'expired_token':
        throw new Error('Device code expired. Please retry login.');
      default:
        throw new Error(
          `OAuth error: ${a.error}${a.error_description ? ` - ${a.error_description}` : ''}`
        );
    }
  }
}
function kXt() {
  let t = process.env.XDG_CONFIG_HOME || GUe.join(ewn.homedir(), '.config');
  return GUe.join(t, 'koda');
}
var UXt = GUe.join(kXt(), 'credentials.json');
async function HXt() {
  try {
    let t = await qUe.readFile(UXt, 'utf-8'),
      e = JSON.parse(t);
    return e && typeof e == 'object' ? e : {};
  } catch {
    return {};
  }
}
async function VXt(t) {
  (await qUe.mkdir(kXt(), { recursive: !0 }),
    await qUe.writeFile(UXt, JSON.stringify(t, null, 2), { mode: 384 }));
}
async function swn(t) {
  let e = await HXt();
  ((e.githubToken = t), await VXt(e));
}
async function own(t) {
  let e = await HXt();
  ((e.kodaApiKey = t), await VXt(e));
}
async function lwn(t) {
  let e = process.env.KODA_GITHUB_EXCHANGE_URL;
  if (!e) return null;
  try {
    let r = await fetch(e, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        Accept: 'application/json',
        Authorization: `Bearer ${t}`,
      },
      body: JSON.stringify({}),
    });
    if (!r.ok) throw new Error(`Exchange failed: ${r.status} ${r.statusText}`);
    let n = await r.json();
    return typeof n.apiKey == 'string' && n.apiKey.length > 0 ? n.apiKey : null;
  } catch (r) {
    return (console.warn('GitHub token exchange failed:', r), null);
  }
}
async function cme(t, e) {
  let r = 'Ov23li5pZhE4aeH5fTSE';
  if (!r)
    throw new Error(
      'GITHUB_CLIENT_ID is not set. Create a GitHub OAuth App and set GITHUB_CLIENT_ID.'
    );
  let n = (process.env.GITHUB_SCOPES || 'read:user user:email').split(/\s+/),
    { device_code: i, user_code: a, verification_uri: s, interval: o = 5 } = await iwn(r, n);
  try {
    e?.(s, a);
  } catch {}
  (console.log(`
GitHub Login`),
    console.log(`Open: ${s}`),
    console.log(`Code: ${a}
`),
    await twn(s, t.isBrowserLaunchSuppressed()));
  let l = await awn(i, r, o);
  (await swn(l),
    (process.env.KODA_GITHUB_TOKEN = l),
    (process.env.GITHUB_TOKEN = process.env.GITHUB_TOKEN || l));
  let u = await lwn(l);
  (u && ((process.env.KODA_API_KEY = u), await own(u)),
    console.log('GitHub authentication successful.'));
}
var GXt = (t, e, r) => {
  let [n, i] = (0, p3.useState)(t.merged.selectedAuthType === void 0),
    a = (0, p3.useCallback)(() => {
      i(!0);
    }, []),
    [s, o] = (0, p3.useState)(!1),
    [l, u] = (0, p3.useState)(void 0),
    [c, p] = (0, p3.useState)(void 0);
  (0, p3.useEffect)(() => {
    (async () => {
      let v = t.merged.selectedAuthType;
      if (!n) {
        if (!v) {
          try {
            (await r.refreshAuth(void 0), console.log('Proceeding without authentication.'));
          } catch (g) {
            (e(`Failed to initialize. Message: ${ir(g)}`), a());
          }
          return;
        }
        try {
          (o(!0), await r.refreshAuth(v), console.log(`Authenticated via "${v}".`));
        } catch (g) {
          (e(`Failed to login. Message: ${ir(g)}`), a());
        } finally {
          o(!1);
        }
      }
    })();
  }, [n, t, r, e, a]);
  let h = (0, p3.useCallback)(
      async (E, v) => {
        if (E) {
          if ((await bz(), E === hn.LOGIN_WITH_GITHUB)) {
            (o(!0), u(void 0), p(void 0));
            try {
              await cme(r, (g, _) => {
                (u(g), p(_));
              });
            } catch (g) {
              (o(!1), e(`Failed to login with GitHub. Message: ${ir(g)}`));
              return;
            }
            o(!1);
          }
          t.setValue(v, 'selectedAuthType', E);
        } else t.setValue(v, 'selectedAuthType', void 0);
        (i(!1), e(null));
      },
      [t, e, r]
    ),
    m = (0, p3.useCallback)(() => {
      o(!1);
    }, []);
  return {
    isAuthDialogOpen: n,
    openAuthDialog: a,
    handleAuthSelect: h,
    isAuthenticating: s,
    cancelAuthentication: m,
    verificationUri: l,
    userCode: c,
  };
};
var pB = qe(or(), 1);
var Ue = {
  get type() {
    return Ya.getActiveTheme().colors.type;
  },
  get Foreground() {
    return Ya.getActiveTheme().colors.Foreground;
  },
  get Background() {
    return Ya.getActiveTheme().colors.Background;
  },
  get LightBlue() {
    return Ya.getActiveTheme().colors.LightBlue;
  },
  get AccentBlue() {
    return Ya.getActiveTheme().colors.AccentBlue;
  },
  get AccentPurple() {
    return Ya.getActiveTheme().colors.AccentPurple;
  },
  get AccentCyan() {
    return Ya.getActiveTheme().colors.AccentCyan;
  },
  get AccentGreen() {
    return Ya.getActiveTheme().colors.AccentGreen;
  },
  get AccentYellow() {
    return Ya.getActiveTheme().colors.AccentYellow;
  },
  get AccentRed() {
    return Ya.getActiveTheme().colors.AccentRed;
  },
  get DiffAdded() {
    return Ya.getActiveTheme().colors.DiffAdded;
  },
  get DiffRemoved() {
    return Ya.getActiveTheme().colors.DiffRemoved;
  },
  get Comment() {
    return Ya.getActiveTheme().colors.Comment;
  },
  get Gray() {
    return Ya.getActiveTheme().colors.Gray;
  },
  get GradientColors() {
    return Ya.getActiveTheme().colors.GradientColors;
  },
};
var Hv = qe(or(), 1);
var BA = qe(Ft(), 1);
function Fl({
  items: t,
  initialIndex: e = 0,
  onSelect: r,
  onHighlight: n,
  isFocused: i = !0,
  showScrollArrows: a = !1,
  maxItemsToShow: s = 10,
  showNumbers: o = !0,
}) {
  let [l, u] = (0, Hv.useState)(e),
    [c, p] = (0, Hv.useState)(0),
    [h, m] = (0, Hv.useState)(''),
    E = (0, Hv.useRef)(null);
  ((0, Hv.useEffect)(() => {
    let g = Math.max(0, Math.min(l - s + 1, t.length - s));
    l < c ? p(l) : l >= c + s && p(g);
  }, [l, t.length, c, s]),
    (0, Hv.useEffect)(
      () => () => {
        E.current && clearTimeout(E.current);
      },
      []
    ),
    ja(
      (g) => {
        let { sequence: _, name: S } = g,
          b = o && /^[0-9]$/.test(_);
        if ((!b && E.current && (clearTimeout(E.current), m('')), S === 'k' || S === 'up')) {
          let I = l > 0 ? l - 1 : t.length - 1;
          (u(I), n?.(t[I].value));
          return;
        }
        if (S === 'j' || S === 'down') {
          let I = l < t.length - 1 ? l + 1 : 0;
          (u(I), n?.(t[I].value));
          return;
        }
        if (S === 'return') {
          r(t[l].value);
          return;
        }
        if (b) {
          E.current && clearTimeout(E.current);
          let I = h + _;
          m(I);
          let R = Number.parseInt(I, 10) - 1;
          if (I === '0') {
            E.current = setTimeout(() => m(''), 350);
            return;
          }
          if (R >= 0 && R < t.length) {
            let F = t[R];
            (u(R),
              n?.(F.value),
              Number.parseInt(I + '0', 10) > t.length
                ? (r(F.value), m(''))
                : (E.current = setTimeout(() => {
                    (r(F.value), m(''));
                  }, 350)));
          } else m('');
        }
      },
      { isActive: !!(i && t.length > 0) }
    ));
  let v = t.slice(c, c + s);
  return (0, BA.jsxs)(Fe, {
    flexDirection: 'column',
    children: [
      a && (0, BA.jsx)(Se, { color: c > 0 ? Ue.Foreground : Ue.Gray, children: '' }),
      v.map((g, _) => {
        let S = c + _,
          b = l === S,
          I = Ue.Foreground,
          R = Ue.Foreground;
        (b
          ? ((I = Ue.AccentGreen), (R = Ue.AccentGreen))
          : g.disabled && ((I = Ue.Gray), (R = Ue.Gray)),
          o || (R = Ue.Gray));
        let F = String(t.length).length,
          G = `${String(S + 1).padStart(F)}.`;
        return (0, BA.jsxs)(
          Fe,
          {
            alignItems: 'center',
            children: [
              (0, BA.jsx)(Fe, {
                minWidth: 2,
                flexShrink: 0,
                children: (0, BA.jsx)(Se, {
                  color: b ? Ue.AccentGreen : Ue.Foreground,
                  children: b ? '' : ' ',
                }),
              }),
              (0, BA.jsx)(Fe, {
                marginRight: 1,
                flexShrink: 0,
                minWidth: G.length,
                children: (0, BA.jsx)(Se, { color: R, children: G }),
              }),
              g.themeNameDisplay && g.themeTypeDisplay
                ? (0, BA.jsxs)(Se, {
                    color: I,
                    wrap: 'truncate',
                    children: [
                      g.themeNameDisplay,
                      ' ',
                      (0, BA.jsx)(Se, { color: Ue.Gray, children: g.themeTypeDisplay }),
                    ],
                  })
                : (0, BA.jsx)(Se, { color: I, wrap: 'truncate', children: g.label }),
            ],
          },
          g.label
        );
      }),
      a &&
        (0, BA.jsx)(Se, { color: c + s < t.length ? Ue.Foreground : Ue.Gray, children: '' }),
    ],
  });
}
var dB = qe(Ft(), 1);
var qXt = ({ onSelect: t }) => {
  ja(
    (r) => {
      r.name === 'escape' && t('do_not_trust');
    },
    { isActive: !0 }
  );
  let e = [
    { label: 'Trust folder', value: 'trust_folder' },
    { label: 'Trust parent folder', value: 'trust_parent' },
    { label: "Don't trust (esc)", value: 'do_not_trust' },
  ];
  return (0, dB.jsxs)(Fe, {
    flexDirection: 'column',
    borderStyle: 'round',
    borderColor: Ue.AccentYellow,
    padding: 1,
    width: '100%',
    marginLeft: 1,
    children: [
      (0, dB.jsxs)(Fe, {
        flexDirection: 'column',
        marginBottom: 1,
        children: [
          (0, dB.jsx)(Se, { bold: !0, children: 'Do you trust this folder?' }),
          (0, dB.jsx)(Se, {
            children:
              'Trusting a folder allows Gemini to execute commands it suggests. This is a security feature to prevent accidental execution in untrusted directories.',
          }),
        ],
      }),
      (0, dB.jsx)(Fl, { items: e, onSelect: t, isFocused: !0 }),
    ],
  });
};
Qn();
var $Xt = qe(QUe(), 1);
import * as Gv from 'fs';
import * as Vv from 'path';
import { homedir as uwn } from 'os';
var cwn = 'trustedFolders.json',
  dwn = '.kodacli',
  pwn = Vv.join(uwn(), dwn),
  fwn = Vv.join(pwn, cwn);
var $Ue = class {
  constructor(e, r) {
    this.user = e;
    this.errors = r;
  }
  get rules() {
    return Object.entries(this.user.config).map(([e, r]) => ({ path: e, trustLevel: r }));
  }
  setValue(e, r) {
    ((this.user.config[e] = r), mwn(this.user));
  }
};
function jUe() {
  let t = [],
    e = {},
    r = fwn;
  try {
    if (Gv.existsSync(r)) {
      let n = Gv.readFileSync(r, 'utf-8'),
        i = JSON.parse((0, $Xt.default)(n));
      i && Object.assign(e, i);
    }
  } catch (n) {
    t.push({ message: ir(n), path: r });
  }
  return new $Ue({ path: r, config: e }, t);
}
function mwn(t) {
  try {
    let e = Vv.dirname(t.path);
    (Gv.existsSync(e) || Gv.mkdirSync(e, { recursive: !0 }),
      Gv.writeFileSync(t.path, JSON.stringify(t.config, null, 2), 'utf-8'));
  } catch (e) {
    console.error('Error saving trusted folders file:', e);
  }
}
function Yz(t) {
  let e = t.folderTrustFeature ?? !1,
    r = t.folderTrust ?? !0;
  if (!(e && r)) return !0;
  let { rules: i, errors: a } = jUe();
  if (a.length > 0)
    for (let u of a)
      console.error(`Error loading trusted folders config from ${u.path}: ${u.message}`);
  let s = [],
    o = [];
  for (let u of i)
    switch (u.trustLevel) {
      case 'TRUST_FOLDER':
        s.push(u.path);
        break;
      case 'TRUST_PARENT':
        s.push(Vv.dirname(u.path));
        break;
      case 'DO_NOT_TRUST':
        o.push(u.path);
        break;
      default:
        break;
    }
  let l = process.cwd();
  for (let u of s) if (Wj(l, u)) return !0;
  for (let u of o) if (Vv.normalize(l) === Vv.normalize(u)) return !1;
}
import * as jXt from 'process';
var YXt = (t, e) => {
  let [r, n] = (0, pB.useState)(void 0),
    [i, a] = (0, pB.useState)(!1),
    { folderTrust: s, folderTrustFeature: o } = t.merged;
  (0, pB.useEffect)(() => {
    let u = Yz({ folderTrust: s, folderTrustFeature: o });
    (n(u), a(u === void 0), e(u));
  }, [e, s, o]);
  let l = (0, pB.useCallback)(
    (u) => {
      let c = jUe(),
        p = jXt.cwd(),
        h;
      switch (u) {
        case 'trust_folder':
          h = 'TRUST_FOLDER';
          break;
        case 'trust_parent':
          h = 'TRUST_PARENT';
          break;
        case 'do_not_trust':
          h = 'DO_NOT_TRUST';
          break;
        default:
          return;
      }
      c.setValue(p, h);
      let m = Yz({ folderTrust: s, folderTrustFeature: o });
      (n(m), a(!1), e(m));
    },
    [e, s, o]
  );
  return { isTrusted: r, isFolderTrustDialogOpen: i, handleFolderTrustSelect: l };
};
var Ek = qe(or(), 1);
Qn();
var WXt = (t, e, r) => {
  let [n, i] = (0, Ek.useState)(!1),
    a = (0, Ek.useCallback)(() => {
      i(!0);
    }, []),
    s = (0, Ek.useCallback)(
      (l, u) => {
        if (!(l && (!qQ(l) || !$Q(l))))
          try {
            (t.setValue(u, 'preferredEditor', l),
              r(
                {
                  type: 'info',
                  text: `Editor preference ${l ? `set to "${l}"` : 'cleared'} in ${u} settings.`,
                },
                Date.now()
              ),
              e(null),
              i(!1));
          } catch (c) {
            e(`Failed to set editor preference: ${c}`);
          }
      },
      [t, e, r]
    ),
    o = (0, Ek.useCallback)(() => {
      i(!1);
    }, []);
  return { isEditorDialogOpen: n, openEditorDialog: a, handleEditorSelect: s, exitEditorDialog: o };
};
var Up = qe(or(), 1);
Qn();
import cxn from 'node:process';
Qn();
import { promises as hwn } from 'fs';
import { join as Awn } from 'path';
var YUe = [];
function yk(t) {
  YUe.push(t);
}
async function zXt() {
  for (let t of YUe)
    try {
      await t();
    } catch {}
  YUe.length = 0;
}
async function JXt() {
  let t = oy(process.cwd()),
    e = Awn(t, 'checkpoints');
  try {
    await hwn.rm(e, { recursive: !0, force: !0 });
  } catch {}
}
var dme = class t {
  constructor(e) {
    this.commands = e;
  }
  static async create(e, r) {
    let n = await Promise.allSettled(e.map((o) => o.loadCommands(r))),
      i = [];
    for (let o of n)
      o.status === 'fulfilled'
        ? i.push(...o.value)
        : console.debug('A command loader failed:', o.reason);
    let a = new Map();
    for (let o of i) {
      let l = o.name;
      if (o.extensionName && a.has(o.name)) {
        let u = `${o.extensionName}.${o.name}`,
          c = 1;
        for (; a.has(u); ) ((u = `${o.extensionName}.${o.name}${c}`), c++);
        l = u;
      }
      a.set(l, { ...o, name: l });
    }
    let s = Object.freeze(Array.from(a.values()));
    return new t(s);
  }
  getCommands() {
    return this.commands;
  }
};
import gTn from 'node:path';
import gwn from 'node:process';
import Ewn from 'node:fs/promises';
import { fileURLToPath as ywn } from 'node:url';
import vk from 'node:path';
var KXt = (t) => (t instanceof URL ? ywn(t) : t);
async function XXt(t, { cwd: e = gwn.cwd(), type: r = 'file', stopAt: n } = {}) {
  let i = vk.resolve(KXt(e) ?? ''),
    { root: a } = vk.parse(i);
  n = vk.resolve(i, KXt(n ?? a));
  let s = vk.isAbsolute(t);
  for (; i; ) {
    let o = s ? t : vk.join(i, t);
    try {
      let l = await Ewn.stat(o);
      if ((r === 'file' && l.isFile()) || (r === 'directory' && l.isDirectory())) return o;
    } catch {}
    if (i === n || i === a) break;
    i = vk.dirname(i);
  }
}
import fTn from 'node:fs/promises';
import mTn from 'node:path';
var SZt = qe(_Zt(), 1);
function Uwn(t, e) {
  let r =
    e === 0
      ? -1
      : t.lastIndexOf(
          `
`,
          e - 1
        );
  return { line: r === -1 ? 0 : t.slice(0, r + 1).match(/\n/g).length, column: e - r - 1 };
}
function eHe(t, e, { oneBased: r = !1 } = {}) {
  if (typeof t != 'string') throw new TypeError('Text parameter should be a string');
  if (!Number.isInteger(e)) throw new TypeError('Index parameter should be an integer');
  if (e < 0 || e > t.length) throw new RangeError('Index out of bounds');
  let n = Uwn(t, e);
  return r ? { line: n.line + 1, column: n.column + 1 } : n;
}
var Hwn = (t) => `\\u{${t.codePointAt(0).toString(16)}}`,
  tHe = class t extends Error {
    name = 'JSONError';
    fileName;
    #e;
    #t;
    #r;
    #n;
    #a;
    constructor(e) {
      if (typeof e == 'string') (super(), (this.#r = e));
      else {
        let { jsonParseError: r, fileName: n, input: i } = e;
        (super(void 0, { cause: r }), (this.#e = i), (this.#t = r), (this.fileName = n));
      }
      Error.captureStackTrace?.(this, t);
    }
    get message() {
      this.#r ??= `${Gwn(this.#t.message)}${this.#e === '' ? ' while parsing empty string' : ''}`;
      let { codeFrame: e } = this;
      return `${this.#r}${this.fileName ? ` in ${this.fileName}` : ''}${
        e
          ? `

${e}
`
          : ''
      }`;
    }
    set message(e) {
      this.#r = e;
    }
    #i(e) {
      if (!this.#t) return;
      let r = this.#e,
        n = Vwn(r, this.#t.message);
      if (n) return (0, SZt.codeFrameColumns)(r, { start: n }, { highlightCode: e });
    }
    get codeFrame() {
      return ((this.#n ??= this.#i(!0)), this.#n);
    }
    get rawCodeFrame() {
      return ((this.#a ??= this.#i(!1)), this.#a);
    }
  },
  Vwn = (t, e) => {
    let r = e.match(
      /in JSON at position (?<index>\d+)(?: \(line (?<line>\d+) column (?<column>\d+)\))?$/
    );
    if (!r) return;
    let { index: n, line: i, column: a } = r.groups;
    return i && a ? { line: Number(i), column: Number(a) } : eHe(t, Number(n), { oneBased: !0 });
  },
  Gwn = (t) =>
    t.replace(/(?<=^Unexpected token )(?<quote>')?(.)\k<quote>/, (e, r, n) => `"${n}"(${Hwn(n)})`);
function rHe(t, e, r) {
  typeof e == 'string' && ((r = e), (e = void 0));
  try {
    return JSON.parse(t, e);
  } catch (n) {
    throw new tHe({ jsonParseError: n, fileName: r, input: t });
  }
}
var ker = qe(Per(), 1);
import { fileURLToPath as pTn } from 'node:url';
function Qer(t) {
  return t instanceof URL ? pTn(t) : t;
}
var hTn = (t) => mTn.resolve(Qer(t) ?? '.', 'package.json'),
  ATn = (t, e) => {
    let r = typeof t == 'string' ? rHe(t) : t;
    return (e && (0, ker.default)(r), r);
  };
async function Uer({ cwd: t, normalize: e = !0 } = {}) {
  let r = await fTn.readFile(hTn(t), 'utf8');
  return ATn(r, e);
}
async function Her(t) {
  let e = await XXt('package.json', t);
  if (e) return { packageJson: await Uer({ ...t, cwd: gTn.dirname(e) }), path: e };
}
import { fileURLToPath as ETn } from 'url';
import yTn from 'path';
var vTn = ETn(import.meta.url),
  CTn = yTn.dirname(vTn),
  Dme;
async function wme() {
  if (Dme) return Dme;
  let t = await Her({ cwd: CTn });
  if (t) return ((Dme = t.packageJson), Dme);
}
async function fb() {
  let t = await wme();
  return '0.1.37';
}
import mB from 'node:process';
var Ver = {
  name: 'about',
  description: () => Ie.t('commandDescriptions.about'),
  kind: 'built-in',
  action: async (t) => {
    let e = mB.platform,
      r = 'no sandbox';
    mB.env.SANDBOX && mB.env.SANDBOX !== 'sandbox-exec'
      ? (r = mB.env.SANDBOX)
      : mB.env.SANDBOX === 'sandbox-exec' &&
        (r = `sandbox-exec (${mB.env.SEATBELT_PROFILE || 'unknown'})`);
    let n = t.services.config?.getModel() || 'Unknown',
      i = await fb(),
      a = t.services.settings.merged.selectedAuthType || '',
      s = mB.env.GOOGLE_CLOUD_PROJECT || '',
      o = {
        type: 'about',
        cliVersion: i,
        osVersion: e,
        sandboxEnv: r,
        modelVersion: n,
        selectedAuthType: a,
        gcpProject: s,
      };
    t.ui.addItem(o, Date.now());
  },
};
var Ger = {
  name: 'auth',
  description: () => Ie.t('commandDescriptions.auth'),
  kind: 'built-in',
  action: (t, e) => ({ type: 'dialog', dialog: 'auth' }),
};
ek();
import mb from 'node:process';
var bk = '003df087';
Qn();
var qer = {
  name: 'bug',
  description: () => Ie.t('commandDescriptions.bug'),
  kind: 'built-in',
  action: async (t, e) => {
    let r = (e || '').trim(),
      { config: n } = t.services,
      i = `${mb.platform} ${mb.version}`,
      a = 'no sandbox';
    mb.env.SANDBOX && mb.env.SANDBOX !== 'sandbox-exec'
      ? (a = mb.env.SANDBOX.replace(/^gemini-(?:code-)?/, ''))
      : mb.env.SANDBOX === 'sandbox-exec' &&
        (a = `sandbox-exec (${mb.env.SEATBELT_PROFILE || 'unknown'})`);
    let s = n?.getModel() || 'Unknown',
      o = await fb(),
      l = dk(mb.memoryUsage().rss),
      u = `* **CLI Version:** ${o}
* **Git Commit:** ${bk}
* **Session ID:** ${_9}
* **Operating System:** ${i}
* **Sandbox Environment:** ${a}
* **Model Version:** ${s}
* **Memory Usage:** ${l}
`,
      c = `${
        r
          ? `${r}

`
          : ''
      }${Ie.t('bugCommand.bugReportDetails')}
${u}

${Ie.t('bugCommand.telegramCommunity')} https://t.me/kodacommunity`;
    t.ui.addItem({ type: 'info', text: c }, Date.now());
    let p = 'https://t.me/kodacommunity';
    try {
      await A9(p);
    } catch (h) {
      let m = h instanceof Error ? h.message : String(h);
      t.ui.addItem({ type: 'error', text: `${Ie.t('bugCommand.openUrlError')}${m}` }, Date.now());
    }
  },
};
var $er = qe(or(), 1);
import * as Ime from 'fs/promises';
Qn();
import _Tn from 'path';
var SHe = async (t, e) => {
    let r = t.services.config?.getProjectTempDir();
    if (!r) return [];
    try {
      let n = 'checkpoint-',
        i = '.json',
        a = await Ime.readdir(r),
        s = [];
      for (let o of a)
        if (o.startsWith(n) && o.endsWith(i)) {
          let l = _Tn.join(r, o),
            u = await Ime.stat(l),
            c = o.slice(n.length, -i.length);
          s.push({ name: rB(c), mtime: u.mtime });
        }
      return (
        s.sort((o, l) =>
          e ? l.mtime.getTime() - o.mtime.getTime() : o.mtime.getTime() - l.mtime.getTime()
        ),
        s
      );
    } catch {
      return [];
    }
  },
  STn = {
    name: 'list',
    description: () => Ie.t('commandDescriptions.chatList'),
    kind: 'built-in',
    action: async (t) => {
      let e = await SHe(t, !1);
      if (e.length === 0)
        return { type: 'message', messageType: 'info', content: Ie.t('app.chat.noCheckpoints') };
      let r = Math.max(...e.map((i) => i.name.length)),
        n =
          Ie.t('app.chat.listTitle') +
          `

`;
      for (let i of e) {
        let a = i.name.padEnd(r, ' '),
          o = i.mtime.toISOString().match(/(\d{4}-\d{2}-\d{2})T(\d{2}:\d{2}:\d{2})/),
          l = o ? `${o[1]} ${o[2]}` : 'Invalid Date';
        n += `  - \x1B[36m${a}\x1B[0m  \x1B[90m(${Ie.t('app.chat.savedOn')} ${l})\x1B[0m
`;
      }
      return (
        (n += `
\x1B[90m${Ie.t('app.chat.noteNewestLast')}\x1B[0m`),
        { type: 'message', messageType: 'info', content: n }
      );
    },
  },
  bTn = {
    name: 'save',
    description: () => Ie.t('commandDescriptions.chatSave'),
    kind: 'built-in',
    action: async (t, e) => {
      let r = e.trim();
      if (!r)
        return { type: 'message', messageType: 'error', content: Ie.t('app.chat.missingTag') };
      let { logger: n, config: i } = t.services;
      if ((await n.initialize(), !t.overwriteConfirmed && (await n.checkpointExists(r))))
        return {
          type: 'confirm_action',
          prompt: $er.default.createElement(Se, null, Ie.t('app.chat.overwritePrompt', { tag: r })),
          originalInvocation: { raw: t.invocation?.raw || `/chat save ${r}` },
        };
      let a = await i?.getGeminiClient()?.getChat();
      if (!a)
        return {
          type: 'message',
          messageType: 'error',
          content: 'No chat client available to save conversation.',
        };
      let s = a.getHistory();
      return s.length > 2
        ? (await n.saveCheckpoint(s, r),
          {
            type: 'message',
            messageType: 'info',
            content: Ie.t('app.chat.conversationSaved', { tag: rB(r) }),
          })
        : { type: 'message', messageType: 'info', content: Ie.t('app.chat.noConversation') };
    },
  },
  DTn = {
    name: 'resume',
    altNames: ['load'],
    description: () => Ie.t('commandDescriptions.chatResume'),
    kind: 'built-in',
    action: async (t, e) => {
      let r = e.trim();
      if (!r)
        return {
          type: 'message',
          messageType: 'error',
          content: 'Missing tag. Usage: /chat resume <tag>',
        };
      let { logger: n } = t.services;
      await n.initialize();
      let i = await n.loadCheckpoint(r);
      if (i.length === 0)
        return {
          type: 'message',
          messageType: 'info',
          content: Ie.t('app.chat.noCheckpoint', { tag: rB(r) }),
        };
      let a = { user: 'user', model: 'gemini' },
        s = [],
        o = !1,
        l = 0;
      for (let u of i) {
        l += 1;
        let c =
          u.parts
            ?.filter((p) => !!p.text)
            .map((p) => p.text)
            .join('') || '';
        c &&
          (l === 1 && c.match(/context for our chat/) && (o = !0),
          (l > 2 || !o) && s.push({ type: (u.role && a[u.role]) || 'gemini', text: c }));
      }
      return { type: 'load_history', history: s, clientHistory: i };
    },
    completion: async (t, e) =>
      (await SHe(t, !0)).map((n) => n.name).filter((n) => n.startsWith(e)),
  },
  wTn = {
    name: 'delete',
    description: () => Ie.t('commandDescriptions.chatDelete'),
    kind: 'built-in',
    action: async (t, e) => {
      let r = e.trim();
      if (!r)
        return {
          type: 'message',
          messageType: 'error',
          content: 'Missing tag. Usage: /chat delete <tag>',
        };
      let { logger: n } = t.services;
      return (
        await n.initialize(),
        (await n.deleteCheckpoint(r))
          ? {
              type: 'message',
              messageType: 'info',
              content: `Conversation checkpoint '${rB(r)}' has been deleted.`,
            }
          : {
              type: 'message',
              messageType: 'error',
              content: `Error: No checkpoint found with tag '${rB(r)}'.`,
            }
      );
    },
    completion: async (t, e) =>
      (await SHe(t, !0)).map((n) => n.name).filter((n) => n.startsWith(e)),
  },
  jer = {
    name: 'chat',
    description: () => Ie.t('commandDescriptions.chat'),
    kind: 'built-in',
    subCommands: [STn, bTn, DTn, wTn],
  };
Qn();
var Yer = {
  name: 'clear',
  description: () => Ie.t('commandDescriptions.clear'),
  kind: 'built-in',
  action: async (t, e) => {
    let r = t.services.config?.getGeminiClient();
    (r
      ? (t.ui.setDebugMessage('Clearing terminal and resetting chat.'), await r.resetChat())
      : t.ui.setDebugMessage('Clearing terminal.'),
      Kh.resetLastPromptTokenCount(),
      t.ui.clear());
  },
};
var Wer = {
  name: 'compress',
  altNames: ['summarize'],
  description: () => Ie.t('commandDescriptions.compress'),
  kind: 'built-in',
  action: async (t) => {
    let { ui: e } = t;
    if (e.pendingItem) {
      e.addItem(
        { type: 'error', text: Ie.t('commandDescriptions.alreadyCompressing') },
        Date.now()
      );
      return;
    }
    let r = {
      type: 'compression',
      compression: { isPending: !0, originalTokenCount: null, newTokenCount: null },
    };
    try {
      e.setPendingItem(r);
      let n = `compress-${Date.now()}`,
        i = await t.services.config?.getGeminiClient()?.tryCompressChat(n, !0);
      i
        ? e.addItem(
            {
              type: 'compression',
              compression: {
                isPending: !1,
                originalTokenCount: i.originalTokenCount,
                newTokenCount: i.newTokenCount,
              },
            },
            Date.now()
          )
        : e.addItem({ type: 'error', text: 'Failed to compress chat history.' }, Date.now());
    } catch (n) {
      e.addItem(
        {
          type: 'error',
          text: `Failed to compress chat history: ${n instanceof Error ? n.message : String(n)}`,
        },
        Date.now()
      );
    } finally {
      e.setPendingItem(null);
    }
  },
};
var zer = {
  name: 'copy',
  description: () => Ie.t('commandDescriptions.copy'),
  kind: 'built-in',
  action: async (t, e) => {
    let n = (await t.services.config?.getGeminiClient()?.getChat())?.getHistory(),
      i = n ? n.filter((s) => s.role === 'model').pop() : void 0;
    if (!i) return { type: 'message', messageType: 'info', content: Ie.t('app.copy.noOutput') };
    let a = i.parts
      ?.filter((s) => s.text)
      .map((s) => s.text)
      .join('');
    if (a)
      try {
        return (
          await PKt(a),
          { type: 'message', messageType: 'info', content: Ie.t('app.copy.copied') }
        );
      } catch (s) {
        let o = s instanceof Error ? s.message : String(s);
        return (
          console.debug(o),
          { type: 'message', messageType: 'error', content: Ie.t('app.copy.failed') }
        );
      }
    else return { type: 'message', messageType: 'info', content: Ie.t('app.copy.noText') };
  },
};
ek();
import Jer from 'node:process';
var Ker = {
  name: 'docs',
  description: () => Ie.t('commandDescriptions.docs'),
  kind: 'built-in',
  action: async (t) => {
    let e = 'https://docs.kodacode.ru/koda-cli/';
    Jer.env.SANDBOX && Jer.env.SANDBOX !== 'sandbox-exec'
      ? t.ui.addItem(
          { type: 'info', text: Ie.t('commandMessages.docs.openInBrowserMessage', { url: e }) },
          Date.now()
        )
      : (t.ui.addItem(
          { type: 'info', text: Ie.t('commandMessages.docs.openingInBrowser', { url: e }) },
          Date.now()
        ),
        await A9(e));
  },
};
Qn();
import * as bHe from 'os';
import * as Xer from 'path';
function ITn(t) {
  if (!t) return '';
  let e = t;
  return (
    t.toLowerCase().startsWith('%userprofile%')
      ? (e = bHe.homedir() + t.substring(13))
      : (t === '~' || t.startsWith('~/')) && (e = bHe.homedir() + t.substring(1)),
    Xer.normalize(e)
  );
}
var Zer = {
  name: 'directory',
  altNames: ['dir'],
  description: () => Ie.t('commandDescriptions.directory'),
  kind: 'built-in',
  subCommands: [
    {
      name: 'add',
      description: () => Ie.t('commandDescriptions.directoryAdd'),
      kind: 'built-in',
      action: async (t, e) => {
        let {
            ui: { addItem: r },
            services: { config: n },
          } = t,
          [...i] = e.split(' ');
        if (!n) {
          r({ type: 'error', text: Ie.t('app.directory.configNotAvailable') }, Date.now());
          return;
        }
        let a = n.getWorkspaceContext(),
          s = i
            .join(' ')
            .split(',')
            .filter((u) => u);
        if (s.length === 0) {
          r({ type: 'error', text: Ie.t('app.directory.providePath') }, Date.now());
          return;
        }
        if (n.isRestrictiveSandbox())
          return {
            type: 'message',
            messageType: 'error',
            content: Ie.t('app.directory.notSupported'),
          };
        let o = [],
          l = [];
        for (let u of s)
          try {
            (a.addDirectory(ITn(u.trim())), o.push(u.trim()));
          } catch (c) {
            let p = c;
            l.push(`Error adding '${u.trim()}': ${p.message}`);
          }
        try {
          if (n.shouldLoadMemoryFromIncludeDirectories()) {
            let { memoryContent: u, fileCount: c } = await oB(
              n.getWorkingDir(),
              [...n.getWorkspaceContext().getDirectories(), ...s],
              n.getDebugMode(),
              n.getFileService(),
              n.getExtensionContextFilePaths(),
              t.services.settings.merged.memoryImportFormat || 'tree',
              n.getFileFilteringOptions(),
              t.services.settings.merged.memoryDiscoveryMaxDirs
            );
            (n.setUserMemory(u), n.setGeminiMdFileCount(c), t.ui.setGeminiMdFileCount(c));
          }
          r(
            {
              type: 'info',
              text: Ie.t('app.directory.successfullyAddedFiles', {
                directories: o.join(`
- `),
              }),
            },
            Date.now()
          );
        } catch (u) {
          l.push(`Error refreshing memory: ${u.message}`);
        }
        if (o.length > 0) {
          let u = n.getGeminiClient();
          (u && (await u.addDirectoryContext()),
            r(
              {
                type: 'info',
                text: Ie.t('app.directory.successfullyAdded', {
                  directories: o.join(`
- `),
                }),
              },
              Date.now()
            ));
        }
        l.length > 0 &&
          r(
            {
              type: 'error',
              text: l.join(`
`),
            },
            Date.now()
          );
      },
    },
    {
      name: 'show',
      description: () => Ie.t('commandDescriptions.directoryShow'),
      kind: 'built-in',
      action: async (t) => {
        let {
          ui: { addItem: e },
          services: { config: r },
        } = t;
        if (!r) {
          e({ type: 'error', text: Ie.t('app.directory.configNotAvailable') }, Date.now());
          return;
        }
        let a = r
          .getWorkspaceContext()
          .getDirectories()
          .map((s) => `- ${s}`).join(`
`);
        e(
          { type: 'info', text: Ie.t('app.directory.currentDirectories', { directories: a }) },
          Date.now()
        );
      },
    },
  ],
};
var etr = {
  name: 'editor',
  description: () => Ie.t('commandDescriptions.editor'),
  kind: 'built-in',
  action: () => ({ type: 'dialog', dialog: 'editor' }),
};
var ttr = {
  name: 'extensions',
  description: () => Ie.t('commandDescriptions.extensions'),
  kind: 'built-in',
  action: async (t) => {
    let e = t.services.config?.getExtensions().filter((i) => i.isActive);
    if (!e || e.length === 0) {
      t.ui.addItem({ type: 'info', text: Ie.t('extensions.noActive') }, Date.now());
      return;
    }
    let r = e.map((i) => `  - \x1B[36m${i.name} (v${i.version})\x1B[0m`),
      n = `${Ie.t('extensions.activeTitle')}

${r.join(`
`)}
`;
    t.ui.addItem({ type: 'info', text: n }, Date.now());
  },
};
var rtr = {
  name: 'help',
  altNames: ['?'],
  kind: 'built-in',
  description: () => Ie.t('commandDescriptions.help'),
  action: async (t) => {
    let e = { type: 'help', timestamp: new Date() };
    t.ui.addItem(e, Date.now());
  },
};
Qn();
ek();
import Tme from 'node:path';
function ntr(t) {
  let e = t.getConnectionStatus();
  switch (e.status) {
    case Zo.Connected:
      return {
        messageType: 'info',
        content: `\u{1F7E2} ${Ie.t('commandMessages.ide.connected', { ideName: t.getDetectedIdeDisplayName() || 'Unknown IDE' })}`,
      };
    case Zo.Connecting:
      return {
        messageType: 'info',
        content: `\u{1F7E1} ${Ie.t('commandMessages.ide.connecting')}`,
      };
    default: {
      let r = `\u{1F534} ${Ie.t('commandMessages.ide.disconnected')}`;
      return (
        e?.details &&
          (r = Ie.t('commandMessages.ide.disconnectedWithDetails', { details: e.details })),
        { messageType: 'error', content: r }
      );
    }
  }
}
function TTn(t) {
  let e = new Map();
  for (let i of t) {
    let a = Tme.basename(i.path);
    e.set(a, (e.get(a) || 0) + 1);
  }
  let r = t.map((i) => {
      let a = Tme.basename(i.path),
        s = (e.get(a) || 0) > 1,
        o = Tme.basename(Tme.dirname(i.path));
      return `  - ${s ? `${a} (/${o})` : a}${i.isActive ? ' (active)' : ''}`;
    }).join(`
`),
    n = `
${Ie.t('commandMessages.ide.fileLimitNote')}`;
  return `

${Ie.t('commandMessages.ide.openFilesTitle')}
${r}
${n}`;
}
async function xTn(t) {
  let e = t.getConnectionStatus();
  switch (e.status) {
    case Zo.Connected: {
      let r = `\u{1F7E2} ${Ie.t('commandMessages.ide.connected', { ideName: t.getDetectedIdeDisplayName() || 'Unknown IDE' })}`,
        i = t3.getIdeContext()?.workspaceState?.openFiles;
      return (i && i.length > 0 && (r += TTn(i)), { messageType: 'info', content: r });
    }
    case Zo.Connecting:
      return { messageType: 'info', content: '\u{1F7E1} Connecting...' };
    default: {
      let r = '\u{1F534} Disconnected';
      return (e?.details && (r += `: ${e.details}`), { messageType: 'error', content: r });
    }
  }
}
var itr = (t) => {
  if (!t) return null;
  let e = t.getIdeClient();
  if (!e.getCurrentIde() || !e.getDetectedIdeDisplayName())
    return {
      name: 'ide',
      description: () => Ie.t('commandDescriptions.ide'),
      kind: 'built-in',
      action: () => ({
        type: 'message',
        messageType: 'error',
        content: Ie.t('commandMessages.ide.notSupported', {
          supportedList: Object.values(lr)
            .map((u) => uy(u).displayName)
            .join(', '),
        }),
      }),
    };
  let n = {
      name: 'ide',
      description: () => Ie.t('commandDescriptions.ide'),
      kind: 'built-in',
      subCommands: [],
    },
    i = {
      name: 'status',
      description: () => Ie.t('commandDescriptions.ideStatus'),
      kind: 'built-in',
      action: async () => {
        let { messageType: u, content: c } = await xTn(e);
        return { type: 'message', messageType: u, content: c };
      },
    },
    a = {
      name: 'install',
      description: () =>
        Ie.t('commandDescriptions.ideInstall', {
          ideName: e.getDetectedIdeDisplayName() || 'Unknown IDE',
        }),
      kind: 'built-in',
      action: async (u) => {
        let c = 'https://cli-companion.kodacode.ru/';
        u.ui.addItem(
          { type: 'info', text: Ie.t('commandMessages.ide.openingBrowser', { url: c }) },
          Date.now()
        );
        try {
          (await A9(c),
            u.ui.addItem(
              { type: 'info', text: Ie.t('commandMessages.ide.browserOpened') },
              Date.now()
            ));
        } catch (p) {
          let h = p instanceof Error ? p.message : String(p);
          u.ui.addItem(
            { type: 'error', text: `${Ie.t('commandMessages.ide.openUrlError')}${h}` },
            Date.now()
          );
        }
      },
    },
    s = {
      name: 'enable',
      description: () => Ie.t('commandDescriptions.ideEnable'),
      kind: 'built-in',
      action: async (u) => {
        (u.services.settings.setValue('User', 'ideMode', !0),
          await t.setIdeModeAndSyncConnection(!0));
        let { messageType: c, content: p } = ntr(e);
        u.ui.addItem({ type: c, text: p }, Date.now());
      },
    },
    o = {
      name: 'disable',
      description: () => Ie.t('commandDescriptions.ideDisable'),
      kind: 'built-in',
      action: async (u) => {
        (u.services.settings.setValue('User', 'ideMode', !1),
          await t.setIdeModeAndSyncConnection(!1));
        let { messageType: c, content: p } = ntr(e);
        u.ui.addItem({ type: c, text: p }, Date.now());
      },
    };
  return (
    e.getConnectionStatus().status === Zo.Connected
      ? (n.subCommands = [o, i, a])
      : (n.subCommands = [s, i, a]),
    n
  );
};
import * as xme from 'fs';
import * as atr from 'path';
var str = {
  name: 'init',
  description: () => Ie.t('commandDescriptions.init'),
  kind: 'built-in',
  action: async (t, e) => {
    if (!t.services.config)
      return {
        type: 'message',
        messageType: 'error',
        content: Ie.t('commandMessages.init.configNotAvailable'),
      };
    let r = t.services.config.getTargetDir(),
      n = atr.join(r, 'KODA.md');
    return xme.existsSync(n)
      ? {
          type: 'message',
          messageType: 'info',
          content: Ie.t('commandMessages.init.fileAlreadyExists'),
        }
      : (xme.writeFileSync(n, '', 'utf8'),
        t.ui.addItem({ type: 'info', text: Ie.t('commandMessages.init.fileCreated') }, Date.now()),
        { type: 'submit_prompt', content: Ie.t('commandPrompts.init') });
  },
};
Qn();
var Kz = '\x1B[32m',
  otr = '\x1B[33m',
  BTn = '\x1B[31m',
  dh = '\x1B[36m',
  ltr = '\x1B[90m',
  fl = '\x1B[0m',
  ctr = async (t, e, r, n = !1) => {
    let { config: i } = t.services;
    if (!i)
      return {
        type: 'message',
        messageType: 'error',
        content: Ie.t('commandDescriptions.mcpConfigNotLoaded'),
      };
    let a = await i.getToolRegistry();
    if (!a)
      return {
        type: 'message',
        messageType: 'error',
        content: Ie.t('commandDescriptions.mcpToolRegistryError'),
      };
    let s = i.getMcpServers() || {},
      o = Object.keys(s),
      l = i.getBlockedMcpServers() || [];
    if (o.length === 0 && l.length === 0)
      return {
        type: 'message',
        messageType: 'info',
        content: Ie.t('commandDescriptions.mcpNoServersConfigured'),
      };
    let u = o.filter((m) => gce(m) === dl.CONNECTING),
      c = hxe(),
      p = '';
    ((c === pS.IN_PROGRESS || u.length > 0) &&
      ((p += `${otr} ${Ie.t('commandDescriptions.mcpServersStarting', { count: u.length })}${fl}
`),
      (p += `${dh}${Ie.t('commandDescriptions.mcpServersStartingNote')}${fl}

`)),
      (p += `${Ie.t('commandDescriptions.mcpConfiguredServersTitle')}

`));
    let h = a.getAllTools();
    for (let m of o) {
      let E = h.filter((M) => M instanceof Sg && M.serverName === m),
        g = (await i.getPromptRegistry()).getPromptsByServer(m) || [],
        _ = gce(m),
        S = E.length > 0 || g.length > 0,
        b = _ === dl.DISCONNECTED && S ? dl.CONNECTED : _,
        I = '',
        R = '';
      switch (b) {
        case dl.CONNECTED:
          ((I = '\u{1F7E2}'), (R = Ie.t('commandDescriptions.mcpStatusReady')));
          break;
        case dl.CONNECTING:
          ((I = '\u{1F504}'), (R = Ie.t('commandDescriptions.mcpStatusStarting')));
          break;
        case dl.DISCONNECTED:
        default:
          ((I = '\u{1F534}'), (R = Ie.t('commandDescriptions.mcpStatusDisconnected')));
          break;
      }
      let F = s[m],
        G = m;
      (F.extensionName && (G += ` (from ${F.extensionName})`),
        (p += `${I} \x1B[1m${G}\x1B[0m - ${R}`));
      let U = Ace.get(m) || !1;
      if (F?.oauth?.enabled) {
        U = !0;
        try {
          let { MCPOAuthTokenStorage: M } = await Promise.resolve().then(() => (Qn(), wUe)),
            Y = await M.getToken(m);
          Y
            ? M.isTokenExpired(Y.token)
              ? (p += ` ${otr}${Ie.t('commandDescriptions.mcpAuthExpired')}${fl}`)
              : ((p += ` ${Kz}${Ie.t('commandDescriptions.mcpAuthAuthenticated')}${fl}`), (U = !1))
            : (p += ` ${BTn}${Ie.t('commandDescriptions.mcpAuthNotAuthenticated')}${fl}`);
        } catch {}
      }
      if (b === dl.CONNECTED) {
        let M = [];
        (E.length > 0 &&
          M.push(
            `${E.length} ${E.length === 1 ? Ie.t('commandDescriptions.mcpToolSingular') : Ie.t('commandDescriptions.mcpToolPlural')}`
          ),
          g.length > 0 &&
            M.push(
              `${g.length} ${g.length === 1 ? Ie.t('commandDescriptions.mcpPromptSingular') : Ie.t('commandDescriptions.mcpPromptPlural')}`
            ),
          M.length > 0
            ? (p += ` (${M.join(', ')})`)
            : (p += ` ${Ie.t('commandDescriptions.mcpZeroTools')}`));
      } else
        b === dl.CONNECTING
          ? (p += ` ${Ie.t('commandDescriptions.mcpToolsLoading')}`)
          : (p += ` ${Ie.t('commandDescriptions.mcpToolsCached', { count: E.length })}`);
      if (e && F?.description) {
        let M = F.description.trim().split(`
`);
        if (M) {
          p += `:
`;
          for (let Y of M)
            p += `    ${Kz}${Y}${fl}
`;
        } else
          p += `
`;
      } else
        p += `
`;
      ((p += fl),
        E.length > 0 &&
          ((p += `  ${dh}${Ie.t('commandDescriptions.mcpToolsTitle')}${fl}
`),
          E.forEach((M) => {
            if (e && M.description) {
              p += `  - ${dh}${M.name}${fl}`;
              let z = M.description.trim().split(`
`);
              if (z) {
                p += `:
`;
                for (let se of z)
                  p += `      ${Kz}${se}${fl}
`;
              } else
                p += `
`;
            } else
              p += `  - ${dh}${M.name}${fl}
`;
            let Y = M.schema.parametersJsonSchema ?? M.schema.parameters;
            if (r && Y) {
              p += `    ${dh}${Ie.t('commandDescriptions.mcpParametersTitle')}${fl}
`;
              let z = JSON.stringify(Y, null, 2).trim().split(`
`);
              if (z)
                for (let se of z)
                  p += `      ${Kz}${se}${fl}
`;
            }
          })),
        g.length > 0 &&
          (E.length > 0 &&
            (p += `
`),
          (p += `  ${dh}${Ie.t('commandDescriptions.mcpPromptsTitle')}${fl}
`),
          g.forEach((M) => {
            if (e && M.description) {
              p += `  - ${dh}${M.name}${fl}`;
              let Y = M.description.trim().split(`
`);
              if (Y) {
                p += `:
`;
                for (let z of Y)
                  p += `      ${Kz}${z}${fl}
`;
              } else
                p += `
`;
            } else
              p += `  - ${dh}${M.name}${fl}
`;
          })),
        E.length === 0 && g.length === 0
          ? (p += `  ${Ie.t('commandDescriptions.mcpNoToolsOrPrompts')}
`)
          : E.length === 0
            ? ((p += `  ${Ie.t('commandDescriptions.mcpNoToolsAvailable')}`),
              _ === dl.DISCONNECTED &&
                U &&
                (p += ` ${ltr}${Ie.t('commandDescriptions.mcpAuthHint', { serverName: m })}${fl}`),
              (p += `
`))
            : _ === dl.DISCONNECTED &&
              U &&
              (p += `  ${ltr}${Ie.t('commandDescriptions.mcpAuthHint', { serverName: m })}${fl}
`),
        (p += `
`));
    }
    for (let m of l) {
      let E = m.name;
      (m.extensionName && (E += ` (from ${m.extensionName})`),
        (p += `\u{1F534} \x1B[1m${E}\x1B[0m - ${Ie.t('commandDescriptions.mcpStatusBlocked')}

`));
    }
    return (
      n &&
        ((p += `
`),
        (p += `${dh}${Ie.t('commandDescriptions.mcpTipsTitle')}${fl}
`),
        (p += `   ${Ie.t('commandDescriptions.mcpTipsDesc', { command: `${dh}/mcp desc${fl}` })}
`),
        (p += `   ${Ie.t('commandDescriptions.mcpTipsSchema', { command: `${dh}/mcp schema${fl}` })}
`),
        (p += `   ${Ie.t('commandDescriptions.mcpTipsNoDesc', { command: `${dh}/mcp nodesc${fl}` })}
`),
        (p += `   ${Ie.t('commandDescriptions.mcpTipsAuth', { command: `${dh}/mcp auth <server-name>${fl}` })}
`),
        (p += `   ${Ie.t('commandDescriptions.mcpTipsToggle', { command: `${dh}Ctrl+T${fl}` })}
`),
        (p += `
`)),
      (p += fl),
      { type: 'message', messageType: 'info', content: p }
    );
  },
  RTn = {
    name: 'auth',
    description: () => Ie.t('commandDescriptions.mcpAuth'),
    kind: 'built-in',
    action: async (t, e) => {
      let r = e.trim(),
        { config: n } = t.services;
      if (!n)
        return {
          type: 'message',
          messageType: 'error',
          content: Ie.t('commandDescriptions.mcpConfigNotLoaded'),
        };
      let i = n.getMcpServers() || {};
      if (!r) {
        let s = Object.entries(i)
          .filter(([o, l]) => l.oauth?.enabled)
          .map(([o, l]) => o);
        return s.length === 0
          ? {
              type: 'message',
              messageType: 'info',
              content: Ie.t('commandDescriptions.mcpNoOauthServers'),
            }
          : {
              type: 'message',
              messageType: 'info',
              content: Ie.t('commandDescriptions.mcpOAuthServersList', {
                serverList: s.map((o) => `  - ${o}`).join(`
`),
              }),
            };
      }
      let a = i[r];
      if (!a)
        return {
          type: 'message',
          messageType: 'error',
          content: Ie.t('commandDescriptions.mcpServerNotFound', { serverName: r }),
        };
      try {
        t.ui.addItem(
          { type: 'info', text: Ie.t('commandDescriptions.mcpAuthStarting', { serverName: r }) },
          Date.now()
        );
        let { MCPOAuthProvider: s } = await Promise.resolve().then(() => (Qn(), wUe)),
          o = a.oauth;
        o || (o = { enabled: !1 });
        let l = a.httpUrl || a.url;
        (await s.authenticate(r, o, l),
          t.ui.addItem(
            { type: 'info', text: Ie.t('commandDescriptions.mcpAuthSuccess', { serverName: r }) },
            Date.now()
          ));
        let u = await n.getToolRegistry();
        u &&
          (t.ui.addItem(
            {
              type: 'info',
              text: Ie.t('commandDescriptions.mcpAuthRediscovering', { serverName: r }),
            },
            Date.now()
          ),
          await u.discoverToolsForServer(r));
        let c = n.getGeminiClient();
        return (
          c && (await c.setTools()),
          t.ui.reloadCommands(),
          {
            type: 'message',
            messageType: 'info',
            content: Ie.t('commandDescriptions.mcpAuthRefreshSuccess', { serverName: r }),
          }
        );
      } catch (s) {
        return {
          type: 'message',
          messageType: 'error',
          content: Ie.t('commandDescriptions.mcpAuthFailure', { serverName: r, error: ir(s) }),
        };
      }
    },
    completion: async (t, e) => {
      let { config: r } = t.services;
      if (!r) return [];
      let n = r.getMcpServers() || {};
      return Object.keys(n).filter((i) => i.startsWith(e));
    },
  },
  utr = {
    name: 'list',
    description: () => Ie.t('commandDescriptions.mcp'),
    kind: 'built-in',
    action: async (t, e) => {
      let r = e.toLowerCase().split(/\s+/).filter(Boolean),
        n = r.includes('desc') || r.includes('descriptions'),
        i = r.includes('nodesc') || r.includes('nodescriptions'),
        a = r.includes('schema'),
        s = !i && (n || a),
        o = r.length === 0;
      return ctr(t, s, a, o);
    },
  },
  NTn = {
    name: 'refresh',
    description: () => Ie.t('commandDescriptions.mcpRefresh'),
    kind: 'built-in',
    action: async (t) => {
      let { config: e } = t.services;
      if (!e)
        return {
          type: 'message',
          messageType: 'error',
          content: Ie.t('commandDescriptions.mcpConfigNotLoaded'),
        };
      let r = await e.getToolRegistry();
      if (!r)
        return {
          type: 'message',
          messageType: 'error',
          content: Ie.t('commandDescriptions.mcpToolRegistryError'),
        };
      (t.ui.addItem({ type: 'info', text: Ie.t('commandDescriptions.mcpRefreshing') }, Date.now()),
        await r.discoverMcpTools());
      let n = e.getGeminiClient();
      return (n && (await n.setTools()), t.ui.reloadCommands(), ctr(t, !1, !1, !1));
    },
  },
  dtr = {
    name: 'mcp',
    description: () => Ie.t('commandDescriptions.mcp'),
    kind: 'built-in',
    subCommands: [utr, RTn, NTn],
    action: async (t, e) => utr.action(t, e),
  };
Qn();
var ptr = {
  name: 'memory',
  description: () => Ie.t('commandDescriptions.memory'),
  kind: 'built-in',
  subCommands: [
    {
      name: 'show',
      description: () => Ie.t('commandDescriptions.memoryShow'),
      kind: 'built-in',
      action: async (t) => {
        let e = t.services.config?.getUserMemory() || '',
          r = t.services.config?.getGeminiMdFileCount() || 0,
          n =
            e.length > 0
              ? Ie.t('app.memory.showContent', { fileCount: r, memoryContent: e })
              : Ie.t('app.memory.empty');
        t.ui.addItem({ type: 'info', text: n }, Date.now());
      },
    },
    {
      name: 'add',
      description: () => Ie.t('commandDescriptions.memoryAdd'),
      kind: 'built-in',
      action: (t, e) =>
        !e || e.trim() === ''
          ? { type: 'message', messageType: 'error', content: Ie.t('app.memory.usage') }
          : (t.ui.addItem(
              { type: 'info', text: Ie.t('app.memory.saving', { text: e.trim() }) },
              Date.now()
            ),
            { type: 'tool', toolName: 'save_memory', toolArgs: { fact: e.trim() } }),
    },
    {
      name: 'refresh',
      description: () => Ie.t('commandDescriptions.memoryRefresh'),
      kind: 'built-in',
      action: async (t) => {
        t.ui.addItem({ type: 'info', text: Ie.t('app.memory.refreshing') }, Date.now());
        try {
          let e = await t.services.config;
          if (e) {
            let { memoryContent: r, fileCount: n } = await oB(
              e.getWorkingDir(),
              e.shouldLoadMemoryFromIncludeDirectories()
                ? e.getWorkspaceContext().getDirectories()
                : [],
              e.getDebugMode(),
              e.getFileService(),
              e.getExtensionContextFilePaths(),
              t.services.settings.merged.memoryImportFormat || 'tree',
              e.getFileFilteringOptions(),
              t.services.settings.merged.memoryDiscoveryMaxDirs
            );
            (e.setUserMemory(r), e.setGeminiMdFileCount(n));
            let i =
              r.length > 0
                ? Ie.t('app.memory.refreshSuccess', { characters: r.length, files: n })
                : Ie.t('app.memory.refreshSuccessEmpty');
            t.ui.addItem({ type: 'info', text: i }, Date.now());
          }
        } catch (e) {
          let r = ir(e);
          t.ui.addItem(
            { type: 'error', text: Ie.t('app.memory.refreshError', { error: r }) },
            Date.now()
          );
        }
      },
    },
  ],
};
var ftr = {
  name: 'quit',
  altNames: ['exit'],
  description: () => Ie.t('commandDescriptions.quit'),
  kind: 'built-in',
  action: (t) => {
    let e = Date.now(),
      { sessionStartTime: r } = t.session.stats,
      n = e - r.getTime();
    return {
      type: 'quit',
      messages: [
        { type: 'user', text: '/quit', id: e - 1 },
        { type: 'quit', duration: uh(n), id: e },
      ],
    };
  },
};
import * as hB from 'fs/promises';
import DHe from 'path';
async function OTn(t, e) {
  let { services: r, ui: n } = t,
    { config: i, git: a } = r,
    { addItem: s, loadHistory: o } = n,
    l = i?.getProjectTempDir() ? DHe.join(i.getProjectTempDir(), 'checkpoints') : void 0;
  if (!l)
    return {
      type: 'message',
      messageType: 'error',
      content: Ie.t('commandMessages.restoreCommand.noCheckpointDir'),
    };
  try {
    await hB.mkdir(l, { recursive: !0 });
    let c = (await hB.readdir(l)).filter((v) => v.endsWith('.json'));
    if (!e) {
      if (c.length === 0)
        return {
          type: 'message',
          messageType: 'info',
          content: Ie.t('commandMessages.restoreCommand.noRestorableCalls'),
        };
      let g = c.map((_) => {
        let S = _.split('.');
        return S.length <= 1 ? _ : (S.pop(), S.join('.'));
      }).join(`
`);
      return {
        type: 'message',
        messageType: 'info',
        content: Ie.t('commandMessages.restoreCommand.availableCalls', { fileList: g }),
      };
    }
    let p = e.endsWith('.json') ? e : `${e}.json`;
    if (!c.includes(p))
      return {
        type: 'message',
        messageType: 'error',
        content: Ie.t('commandMessages.restoreCommand.fileNotFound', { fileName: p }),
      };
    let h = DHe.join(l, p),
      m = await hB.readFile(h, 'utf-8'),
      E = JSON.parse(m);
    if (E.history) {
      if (!o)
        return {
          type: 'message',
          messageType: 'error',
          content: Ie.t('commandMessages.restoreCommand.loadHistoryNotAvailable'),
        };
      o(E.history);
    }
    return (
      E.clientHistory && (await i?.getGeminiClient()?.setHistory(E.clientHistory)),
      E.commitHash &&
        (await a?.restoreProjectFromSnapshot(E.commitHash),
        s(
          { type: 'info', text: Ie.t('commandMessages.restoreCommand.projectRestored') },
          Date.now()
        )),
      { type: 'tool', toolName: E.toolCall.name, toolArgs: E.toolCall.args }
    );
  } catch (u) {
    return {
      type: 'message',
      messageType: 'error',
      content: Ie.t('commandMessages.restoreCommand.readError', { error: String(u) }),
    };
  }
}
async function MTn(t, e) {
  let { services: r } = t,
    { config: n } = r,
    i = n?.getProjectTempDir() ? DHe.join(n.getProjectTempDir(), 'checkpoints') : void 0;
  if (!i) return [];
  try {
    return (await hB.readdir(i))
      .filter((s) => s.endsWith('.json'))
      .map((s) => s.replace('.json', ''));
  } catch {
    return [];
  }
}
var mtr = (t) =>
  t?.getCheckpointingEnabled()
    ? {
        name: 'restore',
        description: () => Ie.t('commandDescriptions.restore'),
        kind: 'built-in',
        action: OTn,
        completion: MTn,
      }
    : null;
var htr = {
  name: 'stats',
  altNames: ['usage'],
  description: () => Ie.t('commandDescriptions.stats'),
  kind: 'built-in',
  action: (t) => {
    let e = new Date(),
      { sessionStartTime: r } = t.session.stats;
    if (!r) {
      t.ui.addItem(
        { type: 'error', text: 'Session start time is unavailable, cannot calculate stats.' },
        Date.now()
      );
      return;
    }
    let n = e.getTime() - r.getTime(),
      i = { type: 'stats', duration: uh(n) };
    t.ui.addItem(i, Date.now());
  },
  subCommands: [
    {
      name: 'model',
      description: () => Ie.t('commandDescriptions.statsModel'),
      kind: 'built-in',
      action: (t) => {
        t.ui.addItem({ type: 'model_stats' }, Date.now());
      },
    },
    {
      name: 'tools',
      description: () => Ie.t('commandDescriptions.statsTools'),
      kind: 'built-in',
      action: (t) => {
        t.ui.addItem({ type: 'tool_stats' }, Date.now());
      },
    },
  ],
};
var Atr = {
  name: 'theme',
  description: () => Ie.t('commandDescriptions.theme'),
  kind: 'built-in',
  action: (t, e) => ({ type: 'dialog', dialog: 'theme' }),
};
var gtr = {
  name: 'tools',
  description: () => Ie.t('commandDescriptions.tools'),
  kind: 'built-in',
  action: async (t, e) => {
    let r = e?.trim(),
      n = !1;
    (r === 'desc' || r === 'descriptions') && (n = !0);
    let i = await t.services.config?.getToolRegistry();
    if (!i) {
      t.ui.addItem({ type: 'error', text: Ie.t('tools.noRegistry') }, Date.now());
      return;
    }
    let s = i.getAllTools().filter((l) => !('serverName' in l)),
      o = Ie.t('app.tools.available');
    (s.length > 0
      ? s.forEach((l) => {
          if (n && l.description) {
            o += `  - \x1B[36m${l.displayName} (${l.name})\x1B[0m:
`;
            let u = '\x1B[32m',
              c = '\x1B[0m',
              p = l.description.trim().split(`
`);
            for (let h of p)
              o += `      ${u}${h}${c}
`;
          } else
            o += `  - \x1B[36m${l.displayName}\x1B[0m
`;
        })
      : (o += Ie.t('tools.noTools')),
      (o += `
`),
      (o += '\x1B[0m'),
      t.ui.addItem({ type: 'info', text: o }, Date.now()));
  },
};
var Etr = {
  name: 'settings',
  description: () => Ie.t('commandDescriptions.settings'),
  kind: 'built-in',
  action: (t, e) => ({ type: 'dialog', dialog: 'settings' }),
};
var ytr = {
  name: 'vim',
  description: () => Ie.t('commandDescriptions.vim'),
  kind: 'built-in',
  action: async (t, e) => ({
    type: 'message',
    messageType: 'info',
    content: (await t.ui.toggleVimEnabled())
      ? Ie.t('commandMessages.vim.enteredMode')
      : Ie.t('commandMessages.vim.exitedMode'),
  }),
};
var vtr = {
  name: 'model',
  description: () => Ie.t('commandDescriptions.model'),
  kind: 'built-in',
  action: () => ({ type: 'dialog', dialog: 'model' }),
};
var Bme = class {
  constructor(e) {
    this.config = e;
  }
  async loadCommands(e) {
    return [
      Ver,
      Ger,
      qer,
      jer,
      Yer,
      Wer,
      zer,
      Ker,
      Zer,
      etr,
      ttr,
      rtr,
      itr(this.config),
      str,
      dtr,
      ptr,
      ftr,
      mtr(this.config),
      htr,
      Atr,
      vtr,
      gtr,
      Etr,
      ytr,
    ].filter((n) => n !== null);
  }
};
var Ztr = qe(Ktr(), 1);
fY();
tS();
Qn();
import { promises as lxn } from 'fs';
import tJ from 'path';
var Qme = '{{args}}',
  Xtr = '!{';
var kme = class {
    async process(e, r) {
      return e.replaceAll(Qme, r.invocation.args);
    }
  },
  Ume = class {
    async process(e, r) {
      return r.invocation.args
        ? `${e}

${r.invocation.raw}`
        : e;
    }
  };
Qn();
var eJ = class extends Error {
    constructor(r, n) {
      super(r);
      this.commandsToConfirm = n;
      this.name = 'ConfirmationRequiredError';
    }
  },
  Hme = class t {
    constructor(e) {
      this.commandName = e;
    }
    static SHELL_INJECTION_REGEX = /!\{([^}]*)\}/g;
    async process(e, r) {
      let { config: n, sessionShellAllowlist: i } = { ...r.services, ...r.session },
        a = [],
        s = new Set(),
        o = [...e.matchAll(t.SHELL_INJECTION_REGEX)];
      if (o.length === 0) return e;
      for (let u of o) {
        let c = u[1].trim(),
          { allAllowed: p, disallowedCommands: h, blockReason: m, isHardDenial: E } = qde(c, n, i);
        if (!p) {
          if (E)
            throw new Error(
              `${this.commandName} cannot be run. ${m || 'A shell command in this custom command is explicitly blocked in your config settings.'}`
            );
          h.forEach((v) => s.add(v));
        }
        a.push({ fullMatch: u[0], command: c });
      }
      if (s.size > 0) throw new eJ('Shell command confirmation required', Array.from(s));
      let l = e;
      for (let { fullMatch: u, command: c } of a) {
        let { result: p } = ov.execute(c, n.getTargetDir(), () => {}, new AbortController().signal),
          h = await p;
        l = l.replace(u, h.output);
      }
      return l;
    }
  };
var uxn = W.object({
    prompt: W.string({
      required_error: "The 'prompt' field is required.",
      invalid_type_error: "The 'prompt' field must be a string.",
    }),
    description: W.string().optional(),
  }),
  Vme = class {
    constructor(e) {
      this.config = e;
      this.projectRoot = e?.getProjectRoot() || process.cwd();
    }
    projectRoot;
    async loadCommands(e) {
      let r = [],
        n = { nodir: !0, dot: !0, signal: e, follow: !0 },
        i = this.getCommandDirectories();
      for (let a of i)
        try {
          let o = (await wS('**/*.toml', { ...n, cwd: a.path })).map((u) =>
              this.parseAndAdaptFile(tJ.join(a.path, u), a.path, a.extensionName)
            ),
            l = (await Promise.all(o)).filter((u) => u !== null);
          r.push(...l);
        } catch (s) {
          s.code !== 'ENOENT' &&
            console.error(`[FileCommandLoader] Error loading commands from ${a.path}:`, s);
        }
      return r;
    }
    getCommandDirectories() {
      let e = [];
      if ((e.push({ path: TCe() }), e.push({ path: xCe(this.projectRoot) }), this.config)) {
        let n = this.config
          .getExtensions()
          .filter((i) => i.isActive)
          .sort((i, a) => i.name.localeCompare(a.name))
          .map((i) => ({ path: tJ.join(i.path, 'commands'), extensionName: i.name }));
        e.push(...n);
      }
      return e;
    }
    async parseAndAdaptFile(e, r, n) {
      let i;
      try {
        i = await lxn.readFile(e, 'utf-8');
      } catch (E) {
        return (
          console.error(
            `[FileCommandLoader] Failed to read file ${e}:`,
            E instanceof Error ? E.message : String(E)
          ),
          null
        );
      }
      let a;
      try {
        a = Ztr.default.parse(i);
      } catch (E) {
        return (
          console.error(
            `[FileCommandLoader] Failed to parse TOML file ${e}:`,
            E instanceof Error ? E.message : String(E)
          ),
          null
        );
      }
      let s = uxn.safeParse(a);
      if (!s.success)
        return (
          console.error(
            `[FileCommandLoader] Skipping invalid command file: ${e}. Validation errors:`,
            s.error.flatten()
          ),
          null
        );
      let o = s.data,
        l = tJ.relative(r, e),
        c = l
          .substring(0, l.length - 5)
          .split(tJ.sep)
          .map((E) => E.replaceAll(':', '_'))
          .join(':'),
        p = `Custom command from ${tJ.basename(e)}`,
        h = o.description || p;
      n && (h = `[${n}] ${h}`);
      let m = [];
      return (
        o.prompt.includes(Xtr) && m.push(new Hme(c)),
        o.prompt.includes(Qme) ? m.push(new kme()) : m.push(new Ume()),
        {
          name: c,
          description: h,
          kind: 'file',
          extensionName: n,
          action: async (E, v) => {
            if (!E.invocation)
              return (
                console.error(
                  `[FileCommandLoader] Critical error: Command '${c}' was executed without invocation context.`
                ),
                { type: 'submit_prompt', content: o.prompt }
              );
            try {
              let g = o.prompt;
              for (let _ of m) g = await _.process(g, E);
              return { type: 'submit_prompt', content: g };
            } catch (g) {
              if (g instanceof eJ)
                return {
                  type: 'confirm_shell_commands',
                  commandsToConfirm: g.commandsToConfirm,
                  originalInvocation: { raw: E.invocation.raw },
                };
              throw g;
            }
          },
        }
      );
    }
  };
Qn();
var Gme = class {
  constructor(e) {
    this.config = e;
  }
  loadCommands(e) {
    let r = [];
    if (!this.config) return Promise.resolve([]);
    let n = this.config.getMcpServers() || {};
    for (let i in n) {
      let a = DUe(this.config, i) || [];
      for (let s of a) {
        let l = {
          name: `${s.name}`,
          description: s.description || `Invoke prompt ${s.name}`,
          kind: 'mcp-prompt',
          subCommands: [
            {
              name: 'help',
              description: 'Show help for this prompt',
              kind: 'mcp-prompt',
              action: async () => {
                if (!s.arguments || s.arguments.length === 0)
                  return {
                    type: 'message',
                    messageType: 'info',
                    content: `Prompt "${s.name}" has no arguments.`,
                  };
                let u = `Arguments for "${s.name}":

`;
                s.arguments &&
                  s.arguments.length > 0 &&
                  ((u += `You can provide arguments by name (e.g., --argName="value") or by position.

`),
                  (u += `e.g., ${s.name} ${s.arguments?.map((c) => '"foo"')} is equivalent to ${s.name} ${s.arguments?.map((c) => `--${c.name}="foo"`)}

`));
                for (let c of s.arguments)
                  ((u += `  --${c.name}
`),
                    c.description &&
                      (u += `    ${c.description}
`),
                    (u += `    (required: ${c.required ? 'yes' : 'no'})

`));
                return { type: 'message', messageType: 'info', content: u };
              },
            },
          ],
          action: async (u, c) => {
            if (!this.config)
              return { type: 'message', messageType: 'error', content: 'Config not loaded.' };
            let p = this.parseArgs(c, s.arguments);
            if (p instanceof Error)
              return { type: 'message', messageType: 'error', content: p.message };
            try {
              if (!(this.config.getMcpServers() || {})[i])
                return {
                  type: 'message',
                  messageType: 'error',
                  content: `MCP server config not found for '${i}'.`,
                };
              let E = await s.invoke(p);
              return E.error
                ? {
                    type: 'message',
                    messageType: 'error',
                    content: `Error invoking prompt: ${E.error}`,
                  }
                : E.messages?.[0]?.content?.text
                  ? { type: 'submit_prompt', content: JSON.stringify(E.messages[0].content.text) }
                  : {
                      type: 'message',
                      messageType: 'error',
                      content: 'Received an empty or invalid prompt response from the server.',
                    };
            } catch (h) {
              return { type: 'message', messageType: 'error', content: `Error: ${ir(h)}` };
            }
          },
          completion: async (u, c) => {
            if (!s || !s.arguments) return [];
            let p = [],
              h = new Set((c.match(/--([^=]+)/g) || []).map((m) => m.substring(2)));
            for (let m of s.arguments) h.has(m.name) || p.push(`--${m.name}=""`);
            return p;
          },
        };
        r.push(l);
      }
    }
    return Promise.resolve(r);
  }
  parseArgs(e, r) {
    let n = {},
      i = {},
      a = /--([^=]+)=(?:"((?:\\.|[^"\\])*)"|([^ ]*))/g,
      s,
      o = [],
      l = 0;
    for (; (s = a.exec(e)) !== null; ) {
      let h = s[1],
        m = s[2] ?? s[3];
      ((n[h] = m), s.index > l && o.push(e.substring(l, s.index).trim()), (l = a.lastIndex));
    }
    l < e.length && o.push(e.substring(l).trim());
    let u = o.join(' ').split(/ +/);
    if (!r) return i;
    for (let h of r) n[h.name] && (i[h.name] = n[h.name]);
    let c = r.filter((h) => h.required && !i[h.name]),
      p = [];
    for (let h = 0; h < c.length; h++)
      u.length > h && u[h] ? (i[c[h].name] = u[h]) : p.push(c[h].name);
    if (p.length > 0) {
      let h = p.map((m) => `--${m}`).join(', ');
      return new Error(`Missing required argument(s): ${h}`);
    }
    return i;
  }
};
var err = (t, e, r, n, i, a, s, o, l, u, c, p, h, m, E, v, g, _) => {
  let S = zg(),
    [b, I] = (0, Up.useState)([]),
    [R, F] = (0, Up.useState)(0),
    G = (0, Up.useCallback)(() => {
      F((he) => he + 1);
    }, []),
    [U, M] = (0, Up.useState)(null),
    [Y, z] = (0, Up.useState)(null),
    [se, j] = (0, Up.useState)(new Set()),
    N = (0, Up.useMemo)(() => {
      if (t?.getProjectRoot()) return new xv(t.getProjectRoot());
    }, [t]),
    H = (0, Up.useMemo)(() => new tB(t?.getSessionId() || ''), [t]),
    [ee, me] = (0, Up.useState)(null),
    Ae = (0, Up.useMemo)(() => {
      let he = [];
      return (ee != null && he.push(ee), he);
    }, [ee]),
    X = (0, Up.useCallback)(
      (he) => {
        let be;
        (he.type === 'about'
          ? (be = {
              type: 'about',
              cliVersion: he.cliVersion,
              osVersion: he.osVersion,
              sandboxEnv: he.sandboxEnv,
              modelVersion: he.modelVersion,
              selectedAuthType: he.selectedAuthType,
              gcpProject: he.gcpProject,
            })
          : he.type === 'help'
            ? (be = { type: 'help', timestamp: he.timestamp })
            : he.type === 'stats'
              ? (be = { type: 'stats', duration: he.duration })
              : he.type === 'model_stats'
                ? (be = { type: 'model_stats' })
                : he.type === 'tool_stats'
                  ? (be = { type: 'tool_stats' })
                  : he.type === 'quit'
                    ? (be = { type: 'quit', duration: he.duration })
                    : he.type === 'compression'
                      ? (be = { type: 'compression', compression: he.compression })
                      : (be = { type: he.type, text: he.content }),
          r(be, he.timestamp.getTime()));
      },
      [r]
    ),
    re = (0, Up.useMemo)(
      () => ({
        services: { config: t, settings: e, git: N, logger: H },
        ui: {
          addItem: r,
          clear: () => {
            (n(), console.clear(), a());
          },
          loadHistory: i,
          setDebugMessage: s,
          pendingItem: ee,
          setPendingItem: me,
          toggleCorgiMode: p,
          toggleVimEnabled: v,
          setGeminiMdFileCount: _,
          reloadCommands: G,
        },
        session: { stats: S.stats, sessionShellAllowlist: se },
      }),
      [t, e, N, H, i, r, n, a, S.stats, s, ee, me, p, v, se, _, G]
    ),
    de = t?.getIdeMode();
  (0, Up.useEffect)(() => {
    let he = new AbortController();
    return (
      (async () => {
        let De = [new Gme(t), new Bme(t), new Vme(t)],
          ce = await dme.create(De, he.signal);
        I(ce.getCommands());
      })(),
      () => {
        he.abort();
      }
    );
  }, [t, de, R]);
  let ye = (0, Up.useCallback)(
    async (he, be, De) => {
      if (typeof he != 'string') return !1;
      let ce = he.trim();
      if (!ce.startsWith('/') && !ce.startsWith('?')) return !1;
      g(!0);
      let Ce = Date.now();
      r({ type: 'user', text: ce }, Ce);
      let J = ce.substring(1).trim().split(/\s+/),
        te = J.filter((fe) => fe),
        ie = b,
        pe,
        ue = 0,
        ve = !1,
        ae = [];
      for (let fe of te) {
        let Z = ie.find((Q) => Q.name === fe);
        if ((Z || (Z = ie.find((Q) => Q.altNames?.includes(fe))), Z))
          if (((pe = Z), ae.push(Z.name), ue++, Z.subCommands)) ie = Z.subCommands;
          else break;
        else break;
      }
      let k = ae,
        $ = k.length > 1 ? k.slice(1).join(' ') : void 0;
      try {
        if (pe) {
          let fe = J.slice(ue).join(' ');
          if (pe.action) {
            let Z = {
              ...re,
              invocation: { raw: ce, name: pe.name, args: fe },
              overwriteConfirmed: De,
            };
            be &&
              be.size > 0 &&
              (Z.session = {
                ...Z.session,
                sessionShellAllowlist: new Set([...Z.session.sessionShellAllowlist, ...be]),
              });
            let Q = await pe.action(Z, fe);
            if (Q)
              switch (Q.type) {
                case 'tool':
                  return { type: 'schedule_tool', toolName: Q.toolName, toolArgs: Q.toolArgs };
                case 'message':
                  return (
                    r(
                      { type: Q.messageType === 'error' ? 'error' : 'info', text: Q.content },
                      Date.now()
                    ),
                    { type: 'handled' }
                  );
                case 'dialog':
                  switch (Q.dialog) {
                    case 'auth':
                      return (l(), { type: 'handled' });
                    case 'theme':
                      return (o(), { type: 'handled' });
                    case 'editor':
                      return (u(), { type: 'handled' });
                    case 'model':
                      return (c(), { type: 'handled' });
                    case 'privacy':
                      return (m(), { type: 'handled' });
                    case 'settings':
                      return (E(), { type: 'handled' });
                    case 'help':
                      return { type: 'handled' };
                    default: {
                      let ge = Q.dialog;
                      throw new Error(`Unhandled slash command result: ${ge}`);
                    }
                  }
                case 'load_history':
                  return (
                    await t?.getGeminiClient()?.setHistory(Q.clientHistory),
                    Z.ui.clear(),
                    Q.history.forEach((ge, xe) => {
                      Z.ui.addItem(ge, xe);
                    }),
                    { type: 'handled' }
                  );
                case 'quit':
                  return (
                    h(Q.messages),
                    setTimeout(async () => {
                      (await zXt(), cxn.exit(0));
                    }, 100),
                    { type: 'handled' }
                  );
                case 'submit_prompt':
                  return { type: 'submit_prompt', content: Q.content };
                case 'confirm_shell_commands': {
                  let { outcome: ge, approvedCommands: xe } = await new Promise((He) => {
                    M({
                      commands: Q.commandsToConfirm,
                      onConfirm: (mt, Tt) => {
                        (M(null), He({ outcome: mt, approvedCommands: Tt }));
                      },
                    });
                  });
                  return ge === Tr.Cancel || !xe || xe.length === 0
                    ? { type: 'handled' }
                    : (ge === Tr.ProceedAlways && j((He) => new Set([...He, ...xe])),
                      await ye(Q.originalInvocation.raw, new Set(xe)));
                }
                case 'confirm_action': {
                  let { confirmed: ge } = await new Promise((xe) => {
                    z({
                      prompt: Q.prompt,
                      onConfirm: (He) => {
                        (z(null), xe({ confirmed: He }));
                      },
                    });
                  });
                  return ge
                    ? await ye(Q.originalInvocation.raw, void 0, !0)
                    : (r({ type: 'info', text: 'Operation cancelled.' }, Date.now()),
                      { type: 'handled' });
                }
                default: {
                  let ge = Q;
                  throw new Error(`Unhandled slash command result: ${ge}`);
                }
              }
            return { type: 'handled' };
          } else if (pe.subCommands) {
            let Z = `Command '/${pe.name}' requires a subcommand. Available:
${pe.subCommands.map((Q) => `  - ${Q.name}: ${Q.description || ''}`).join(`
`)}`;
            return (X({ type: 'info', content: Z, timestamp: new Date() }), { type: 'handled' });
          }
        }
        return (
          X({ type: 'error', content: `Unknown command: ${ce}`, timestamp: new Date() }),
          { type: 'handled' }
        );
      } catch (fe) {
        if (((ve = !0), t)) {
          let Z = aH({ command: k[0], subcommand: $, status: VD.ERROR });
          zG(t, Z);
        }
        return (
          r({ type: 'error', text: fe instanceof Error ? fe.message : String(fe) }, Date.now()),
          { type: 'handled' }
        );
      } finally {
        if (t && k[0] && !ve) {
          let fe = aH({ command: k[0], subcommand: $, status: VD.SUCCESS });
          zG(t, fe);
        }
        g(!1);
      }
    },
    [t, r, l, b, re, X, o, m, u, h, E, M, j, g, z]
  );
  return {
    handleSlashCommand: ye,
    slashCommands: b,
    pendingHistoryItems: Ae,
    commandContext: re,
    shellConfirmationRequest: U,
    confirmationRequest: Y,
  };
};
var qme = qe(or(), 1);
Qn();
function trr({ config: t }) {
  let e = t.getApprovalMode(),
    [r, n] = (0, qme.useState)(e);
  return (
    (0, qme.useEffect)(() => {
      n(e);
    }, [e]),
    ja(
      (i) => {
        let a;
        (i.ctrl && i.name === 'y'
          ? (a = t.getApprovalMode() === La.YOLO ? La.DEFAULT : La.YOLO)
          : i.shift &&
            i.name === 'tab' &&
            (a = t.getApprovalMode() === La.AUTO_EDIT ? La.DEFAULT : La.AUTO_EDIT),
          a && (t.setApprovalMode(a), n(a)));
      },
      { isActive: !0 }
    ),
    r
  );
}
var RA = qe(or(), 1);
function dxn(t, e) {
  switch (e.type) {
    case 'ADD_MESSAGES': {
      let r = [...t];
      for (let n of e.payload) {
        let i = r[r.length - 1];
        i && i.type === n.type && i.content === n.content
          ? (r[r.length - 1] = { ...i, count: i.count + 1 })
          : r.push({ ...n, count: 1 });
      }
      return r;
    }
    case 'CLEAR':
      return [];
    default:
      return t;
  }
}
function rrr() {
  let [t, e] = (0, RA.useReducer)(dxn, []),
    r = (0, RA.useRef)([]),
    n = (0, RA.useRef)(null),
    [, i] = (0, RA.useTransition)(),
    a = (0, RA.useCallback)(() => {
      if (r.current.length > 0) {
        let l = r.current;
        ((r.current = []),
          i(() => {
            e({ type: 'ADD_MESSAGES', payload: l });
          }));
      }
      n.current = null;
    }, []),
    s = (0, RA.useCallback)(
      (l) => {
        (r.current.push(l), n.current || (n.current = setTimeout(a, 16)));
      },
      [a]
    ),
    o = (0, RA.useCallback)(() => {
      (n.current && (clearTimeout(n.current), (n.current = null)),
        (r.current = []),
        i(() => {
          e({ type: 'CLEAR' });
        }));
    }, []);
  return (
    (0, RA.useEffect)(
      () => () => {
        n.current && clearTimeout(n.current);
      },
      []
    ),
    { consoleMessages: t, handleNewMessage: s, clearConsoleMessages: o }
  );
}
var mnr = qe(or(), 1);
var T9 = qe(Drr(), 1),
  oVe = qe(fnr(), 1);
var hnr = (t) => {
  if (t.name && t.colors) throw new Error('The `name` and `colors` props are mutually exclusive');
  let e;
  if (t.name) e = oVe.default[t.name];
  else if (t.colors) e = (0, oVe.default)(t.colors);
  else throw new Error('Either `name` or `colors` prop must be provided');
  let r = (n) => e.multiline(Qh(n));
  return mnr.default.createElement(pX, { transform: r }, t.children);
};
hnr.propTypes = {
  children: T9.default.oneOfType([T9.default.arrayOf(T9.default.node), T9.default.node]).isRequired,
  name: T9.default.oneOf([
    'cristal',
    'teen',
    'mind',
    'morning',
    'vice',
    'passion',
    'fruit',
    'instagram',
    'atlas',
    'retro',
    'summer',
    'pastel',
    'rainbow',
  ]),
  colors: T9.default.arrayOf(T9.default.oneOfType([T9.default.string, T9.default.object])),
};
var EB = hnr;
var lVe = `
                        
              
                         
                     
                      
                           
                  
                        
`,
  uVe = `
                        
              
                         
                     
                      
                           
                  
                        
`,
  Anr = `
           
       
       
     
       
        
        
          
`;
var dhe = (t) => {
  if (!t) return 0;
  let e = t.split(`
`);
  return Math.max(...e.map((r) => r.length));
};
function ml(t) {
  return Array.from(t);
}
function ai(t) {
  return ml(t).length;
}
function Mc(t, e, r) {
  return ml(t).slice(e, r).join('');
}
var x9 = qe(Ft(), 1);
var gnr = ({ customAsciiArt: t, version: e, nightly: r }) => {
  let { columns: n } = w2(),
    i,
    a = dhe(uVe),
    s = dhe(lVe);
  t ? (i = t) : n >= a ? (i = uVe) : n >= s ? (i = lVe) : (i = Anr);
  let o = dhe(i);
  return (0, x9.jsxs)(Fe, {
    alignItems: 'flex-start',
    width: o,
    flexShrink: 0,
    flexDirection: 'column',
    children: [
      Ue.GradientColors
        ? (0, x9.jsx)(EB, { colors: Ue.GradientColors, children: (0, x9.jsx)(Se, { children: i }) })
        : (0, x9.jsx)(Se, { children: i }),
      r &&
        (0, x9.jsx)(Fe, {
          width: '100%',
          flexDirection: 'row',
          justifyContent: 'flex-end',
          children: Ue.GradientColors
            ? (0, x9.jsx)(EB, {
                colors: Ue.GradientColors,
                children: (0, x9.jsxs)(Se, { children: ['v', e] }),
              })
            : (0, x9.jsxs)(Se, { children: ['v', e] }),
        }),
    ],
  });
};
var phe = qe(or(), 1);
var cVe = (0, phe.createContext)(void 0),
  Nk = () => {
    let t = phe.default.useContext(cVe);
    if (t === void 0)
      throw new Error('useStreamingContext must be used within a StreamingContextProvider');
    return t;
  };
var Ok = qe(or(), 1);
var _nr = qe(Cnr(), 1);
function Zxn({ type: t = 'dots' }) {
  let [e, r] = (0, Ok.useState)(0),
    n = _nr.default[t];
  return (
    (0, Ok.useEffect)(() => {
      let i = setInterval(() => {
        r((a) => (a === n.frames.length - 1 ? 0 : a + 1));
      }, n.interval);
      return () => {
        clearInterval(i);
      };
    }, [n]),
    Ok.default.createElement(Se, null, n.frames[e])
  );
}
var Mk = Zxn;
var dVe = qe(Ft(), 1);
var mhe = ({ nonRespondingDisplay: t, spinnerType: e = 'dots' }) =>
  Nk() === 'responding'
    ? (0, dVe.jsx)(Mk, { type: e })
    : t
      ? (0, dVe.jsx)(Se, { children: t })
      : null;
function Ab(t) {
  return t < 80;
}
var fh = qe(Ft(), 1);
var Snr = ({ currentLoadingPhrase: t, elapsedTime: e, rightContent: r, thought: n }) => {
  let i = Nk(),
    { columns: a } = w2(),
    s = Ab(a);
  if (i === 'idle') return null;
  let o = n?.subject || t,
    l =
      i !== 'waiting_for_confirmation'
        ? Ie.t('loading.cancelAndTimer', { time: e < 60 ? `${e}s` : uh(e * 1e3) })
        : null;
  return (0, fh.jsxs)(Fe, {
    paddingLeft: 0,
    flexDirection: 'column',
    children: [
      (0, fh.jsxs)(Fe, {
        width: '100%',
        flexDirection: s ? 'column' : 'row',
        alignItems: s ? 'flex-start' : 'center',
        children: [
          (0, fh.jsxs)(Fe, {
            children: [
              (0, fh.jsx)(Fe, {
                marginRight: 1,
                children: (0, fh.jsx)(mhe, {
                  nonRespondingDisplay: i === 'waiting_for_confirmation' ? '' : '',
                }),
              }),
              o && (0, fh.jsx)(Se, { color: Ue.AccentPurple, children: o }),
              !s && l && (0, fh.jsxs)(Se, { color: Ue.Gray, children: [' ', l] }),
            ],
          }),
          !s && (0, fh.jsx)(Fe, { flexGrow: 1 }),
          !s && r && (0, fh.jsx)(Fe, { children: r }),
        ],
      }),
      s && l && (0, fh.jsx)(Fe, { children: (0, fh.jsx)(Se, { color: Ue.Gray, children: l }) }),
      s && r && (0, fh.jsx)(Fe, { children: r }),
    ],
  });
};
Qn();
var sJ = qe(Ft(), 1);
var bnr = ({ approvalMode: t }) => {
  let e = '',
    r = '',
    n = '';
  switch (t) {
    case La.AUTO_EDIT:
      ((e = Ue.AccentGreen), (r = 'accepting edits'), (n = ' (shift + tab to toggle)'));
      break;
    case La.YOLO:
      ((e = Ue.AccentRed), (r = 'YOLO mode'), (n = ' (ctrl + y to toggle)'));
      break;
    case La.DEFAULT:
    default:
      break;
  }
  return (0, sJ.jsx)(Fe, {
    children: (0, sJ.jsxs)(Se, {
      color: e,
      children: [r, n && (0, sJ.jsx)(Se, { color: Ue.Gray, children: n })],
    }),
  });
};
var oJ = qe(Ft(), 1);
var Dnr = () =>
  (0, oJ.jsx)(Fe, {
    children: (0, oJ.jsxs)(Se, {
      color: Ue.AccentYellow,
      children: [
        'shell mode enabled',
        (0, oJ.jsx)(Se, { color: Ue.Gray, children: ' (esc to disable)' }),
      ],
    }),
  });
var Fc = qe(or(), 1);
var Pa = {
  get text() {
    return Ya.getSemanticColors().text;
  },
  get background() {
    return Ya.getSemanticColors().background;
  },
  get border() {
    return Ya.getSemanticColors().border;
  },
  get ui() {
    return Ya.getSemanticColors().ui;
  },
  get status() {
    return Ya.getSemanticColors().status;
  },
};
var yB = qe(Ft(), 1);
var wnr = ({
  label: t,
  matchedIndex: e,
  userInput: r,
  textColor: n,
  highlightColor: i = Ue.AccentYellow,
}) => {
  if (e === void 0 || e < 0 || e >= t.length || r.length === 0)
    return (0, yB.jsx)(Se, { color: n, children: t });
  let a = t.slice(0, e),
    s = t.slice(e, e + r.length),
    o = t.slice(e + r.length);
  return (0, yB.jsxs)(Se, {
    children: [
      (0, yB.jsx)(Se, { color: n, children: a }),
      (0, yB.jsx)(Se, { color: 'black', bold: !0, backgroundColor: i, children: s }),
      (0, yB.jsx)(Se, { color: n, children: o }),
    ],
  });
};
var mh = qe(Ft(), 1);
var B9 = 8;
function pVe({
  suggestions: t,
  activeIndex: e,
  isLoading: r,
  width: n,
  scrollOffset: i,
  userInput: a,
}) {
  if (r)
    return (0, mh.jsx)(Fe, {
      paddingX: 1,
      width: n,
      children: (0, mh.jsx)(Se, { color: 'gray', children: 'Loading suggestions...' }),
    });
  if (t.length === 0) return null;
  let s = i,
    o = Math.min(i + B9, t.length),
    l = t.slice(s, o);
  return (0, mh.jsxs)(Fe, {
    flexDirection: 'column',
    paddingX: 1,
    width: n,
    children: [
      i > 0 && (0, mh.jsx)(Se, { color: Ue.Foreground, children: '' }),
      l.map((u, c) => {
        let p = s + c,
          m = p === e ? Ue.AccentPurple : Ue.Gray,
          E = (0, mh.jsx)(wnr, {
            label: u.label,
            matchedIndex: u.matchedIndex,
            userInput: a,
            textColor: m,
          });
        return (0, mh.jsx)(
          Fe,
          {
            width: n,
            children: (0, mh.jsxs)(Fe, {
              flexDirection: 'row',
              children: [
                a.startsWith('/') ? (0, mh.jsx)(Fe, { width: 20, flexShrink: 0, children: E }) : E,
                u.description
                  ? (0, mh.jsx)(Fe, {
                      flexGrow: 1,
                      children: (0, mh.jsx)(Se, {
                        color: m,
                        wrap: 'truncate',
                        children:
                          typeof u.description == 'function' ? u.description() : u.description,
                      }),
                    })
                  : null,
              ],
            }),
          },
          `${u.value}-${p}`
        );
      }),
      o < t.length && (0, mh.jsx)(Se, { color: 'gray', children: '' }),
      t.length > B9 &&
        (0, mh.jsxs)(Se, { color: 'gray', children: ['(', e + 1, '/', t.length, ')'] }),
    ],
  });
}
var gb = qe(or(), 1);
function Inr({ userMessages: t, onSubmit: e, isActive: r, currentQuery: n, onChange: i }) {
  let [a, s] = (0, gb.useState)(-1),
    [o, l] = (0, gb.useState)(''),
    u = (0, gb.useCallback)(() => {
      (s(-1), l(''));
    }, []),
    c = (0, gb.useCallback)(
      (m) => {
        let E = m.trim();
        (E && e(E), u());
      },
      [e, u]
    ),
    p = (0, gb.useCallback)(() => {
      if (!r || t.length === 0) return !1;
      let m = a;
      if (a === -1) (l(n), (m = 0));
      else if (a < t.length - 1) m = a + 1;
      else return !1;
      if (m !== a) {
        s(m);
        let E = t[t.length - 1 - m];
        return (i(E), !0);
      }
      return !1;
    }, [a, s, i, t, r, n, l]),
    h = (0, gb.useCallback)(() => {
      if (!r || a === -1) return !1;
      let m = a - 1;
      if ((s(m), m === -1)) i(o);
      else {
        let E = t[t.length - 1 - m];
        i(E);
      }
      return !0;
    }, [a, s, o, i, t, r]);
  return { handleSubmit: c, navigateUp: p, navigateDown: h };
}
var rn = qe(or(), 1);
import { stripVTControlCharacters as nBn } from 'util';
import { spawnSync as iBn } from 'child_process';
import lJ from 'fs';
import aBn from 'os';
import Nnr from 'path';
var Bnr = qe(xnr(), 1),
  eBn = new Intl.Segmenter(),
  tBn = /^\p{Default_Ignorable_Code_Point}$/u;
function F1(t, e = {}) {
  if (typeof t != 'string' || t.length === 0) return 0;
  let { ambiguousIsNarrow: r = !0, countAnsiEscapeCodes: n = !1 } = e;
  if ((n || (t = Qh(t)), t.length === 0)) return 0;
  let i = 0,
    a = { ambiguousAsWide: !r };
  for (let { segment: s } of eBn.segment(t)) {
    let o = s.codePointAt(0);
    if (
      !(o <= 31 || (o >= 127 && o <= 159)) &&
      !((o >= 8203 && o <= 8207) || o === 65279) &&
      !(
        (o >= 768 && o <= 879) ||
        (o >= 6832 && o <= 6911) ||
        (o >= 7616 && o <= 7679) ||
        (o >= 8400 && o <= 8447) ||
        (o >= 65056 && o <= 65071)
      ) &&
      !(o >= 55296 && o <= 57343) &&
      !(o >= 65024 && o <= 65039) &&
      !tBn.test(s)
    ) {
      if ((0, Bnr.default)().test(s)) {
        i += 2;
        continue;
      }
      i += eC(o, a);
    }
  }
  return i;
}
Qn();
function rBn(t, e) {
  if (!Lc(t[e])) return !1;
  let r = e + 1;
  for (; r < t.length && ghe(t[r]); ) r++;
  return r >= t.length || !Lc(t[r]);
}
function Rnr(t, e) {
  let { lines: r, cursorRow: n, cursorCol: i } = t;
  switch (e.type) {
    case 'vim_delete_word_forward':
    case 'vim_change_word_forward': {
      let { count: a } = e.payload,
        s = n,
        o = i;
      for (let l = 0; l < a; l++) {
        let u = vB(r, s, o, !0);
        if (u) ((s = u.row), (o = u.col));
        else {
          let c = r[s] || '',
            p = Ehe(c, o);
          p !== null ? (o = p + 1) : (o = ai(c));
          break;
        }
      }
      if (s !== n || o !== i) {
        let l = Gp(t);
        return qf(l, n, i, s, o, '');
      }
      return t;
    }
    case 'vim_delete_word_backward':
    case 'vim_change_word_backward': {
      let { count: a } = e.payload,
        s = n,
        o = i;
      for (let l = 0; l < a; l++) {
        let u = fVe(r, s, o);
        if (u) ((s = u.row), (o = u.col));
        else break;
      }
      if (s !== n || o !== i) {
        let l = Gp(t);
        return qf(l, s, o, n, i, '');
      }
      return t;
    }
    case 'vim_delete_word_end':
    case 'vim_change_word_end': {
      let { count: a } = e.payload,
        s = n,
        o = i,
        l = n,
        u = i;
      for (let c = 0; c < a; c++) {
        let p = vB(r, s, o, !1);
        if (p) {
          if (((l = p.row), (u = p.col + 1), c < a - 1)) {
            let h = vB(r, p.row, p.col + 1, !0);
            if (h) ((s = h.row), (o = h.col));
            else break;
          }
        } else break;
      }
      if (l < r.length) {
        let c = ai(r[l] || '');
        u = Math.min(u, c);
      }
      if (l !== n || u !== i) {
        let c = Gp(t);
        return qf(c, n, i, l, u, '');
      }
      return t;
    }
    case 'vim_delete_line': {
      let { count: a } = e.payload;
      if (r.length === 0) return t;
      let s = Math.min(a, r.length - n),
        o = r.length;
      if (o === 1 || s >= o)
        return { ...Gp(t), lines: [''], cursorRow: 0, cursorCol: 0, preferredCol: null };
      let l = Gp(t),
        u = [...l.lines];
      u.splice(n, s);
      let c = Math.min(n, u.length - 1);
      return { ...l, lines: u, cursorRow: c, cursorCol: 0, preferredCol: null };
    }
    case 'vim_change_line': {
      let { count: a } = e.payload;
      if (r.length === 0) return t;
      let s = Math.min(a, r.length - n),
        o = Gp(t),
        { startOffset: l, endOffset: u } = Ahe(n, s, o.lines),
        { startRow: c, startCol: p, endRow: h, endCol: m } = hhe(l, u, o.lines);
      return qf(o, c, p, h, m, '');
    }
    case 'vim_delete_to_end_of_line':
    case 'vim_change_to_end_of_line': {
      let a = r[n] || '';
      if (i < ai(a)) {
        let s = Gp(t);
        return qf(s, n, i, n, ai(a), '');
      }
      return t;
    }
    case 'vim_change_movement': {
      let { movement: a, count: s } = e.payload,
        o = r.length;
      switch (a) {
        case 'h': {
          let l = Math.max(0, i - s);
          return qf(Gp(t), n, l, n, i, '');
        }
        case 'j': {
          let l = Math.min(s, o - n);
          if (l > 0)
            if (o === 1) {
              let u = t.lines[0] || '';
              return qf(Gp(t), 0, 0, 0, ai(u), '');
            } else {
              let u = Gp(t),
                { startOffset: c, endOffset: p } = Ahe(n, l, u.lines),
                { startRow: h, startCol: m, endRow: E, endCol: v } = hhe(c, p, u.lines);
              return qf(u, h, m, E, v, '');
            }
          return t;
        }
        case 'k': {
          if (Math.min(s, n + 1) > 0)
            if (t.lines.length === 1) {
              let u = t.lines[0] || '';
              return qf(Gp(t), 0, 0, 0, ai(u), '');
            } else {
              let u = Math.max(0, n - s + 1),
                c = n - u + 1,
                p = Gp(t),
                { startOffset: h, endOffset: m } = Ahe(u, c, p.lines),
                { startRow: E, startCol: v, endRow: g, endCol: _ } = hhe(h, m, p.lines);
              return { ...qf(p, E, v, g, _, ''), cursorRow: u, cursorCol: 0 };
            }
          return t;
        }
        case 'l':
          return qf(Gp(t), n, i, n, Math.min(ai(r[n] || ''), i + s), '');
        default:
          return t;
      }
    }
    case 'vim_move_left': {
      let { count: a } = e.payload,
        { cursorRow: s, cursorCol: o, lines: l } = t,
        u = s,
        c = o;
      for (let p = 0; p < a; p++)
        if (c > 0) c--;
        else if (u > 0) {
          u--;
          let h = l[u] || '',
            m = ai(h);
          c = m === 0 ? 0 : m - 1;
        }
      return { ...t, cursorRow: u, cursorCol: c, preferredCol: null };
    }
    case 'vim_move_right': {
      let { count: a } = e.payload,
        { cursorRow: s, cursorCol: o, lines: l } = t,
        u = s,
        c = o;
      for (let p = 0; p < a; p++) {
        let h = l[u] || '',
          m = ai(h);
        if (m === 0) u < l.length - 1 && (u++, (c = 0));
        else if (c < m - 1) {
          c++;
          let E = ml(h);
          for (; c < E.length && ghe(E[c]) && c < m - 1; ) c++;
        } else u < l.length - 1 && (u++, (c = 0));
      }
      return { ...t, cursorRow: u, cursorCol: c, preferredCol: null };
    }
    case 'vim_move_up': {
      let { count: a } = e.payload,
        { cursorRow: s, cursorCol: o, lines: l } = t,
        u = Math.max(0, s - a),
        c = l[u] || '',
        p = ai(c),
        h = Math.min(o, p > 0 ? p - 1 : 0);
      return { ...t, cursorRow: u, cursorCol: h, preferredCol: null };
    }
    case 'vim_move_down': {
      let { count: a } = e.payload,
        { cursorRow: s, cursorCol: o, lines: l } = t,
        u = Math.min(l.length - 1, s + a),
        c = l[u] || '',
        p = ai(c),
        h = Math.min(o, p > 0 ? p - 1 : 0);
      return { ...t, cursorRow: u, cursorCol: h, preferredCol: null };
    }
    case 'vim_move_word_forward': {
      let { count: a } = e.payload,
        s = n,
        o = i;
      for (let l = 0; l < a; l++) {
        let u = vB(r, s, o, !0);
        if (u) ((s = u.row), (o = u.col));
        else break;
      }
      return { ...t, cursorRow: s, cursorCol: o, preferredCol: null };
    }
    case 'vim_move_word_backward': {
      let { count: a } = e.payload,
        s = n,
        o = i;
      for (let l = 0; l < a; l++) {
        let u = fVe(r, s, o);
        if (u) ((s = u.row), (o = u.col));
        else break;
      }
      return { ...t, cursorRow: s, cursorCol: o, preferredCol: null };
    }
    case 'vim_move_word_end': {
      let { count: a } = e.payload,
        s = n,
        o = i;
      for (let l = 0; l < a; l++) {
        if (l === 0) {
          let c = r[s] || '',
            p = ml(c);
          if (
            o < p.length &&
            Lc(p[o]) &&
            (o + 1 >= p.length || !R9(p[o + 1]) || (Lc(p[o]) && rBn(p, o)))
          ) {
            let m = vB(r, s, o + 1, !1);
            if (m) {
              ((s = m.row), (o = m.col));
              continue;
            }
          }
        }
        let u = vB(r, s, o, !1);
        if (u) ((s = u.row), (o = u.col));
        else break;
      }
      return { ...t, cursorRow: s, cursorCol: o, preferredCol: null };
    }
    case 'vim_delete_char': {
      let { count: a } = e.payload,
        { cursorRow: s, cursorCol: o, lines: l } = t,
        u = l[s] || '',
        c = ai(u);
      if (o < c) {
        let p = Math.min(a, c - o),
          h = Gp(t);
        return qf(h, s, o, s, o + p, '');
      }
      return t;
    }
    case 'vim_insert_at_cursor':
      return t;
    case 'vim_append_at_cursor': {
      let { cursorRow: a, cursorCol: s, lines: o } = t,
        l = o[a] || '',
        u = s < ai(l) ? s + 1 : s;
      return { ...t, cursorCol: u, preferredCol: null };
    }
    case 'vim_open_line_below': {
      let { cursorRow: a, lines: s } = t,
        o = Gp(t),
        l = ai(s[a] || '');
      return qf(
        o,
        a,
        l,
        a,
        l,
        `
`
      );
    }
    case 'vim_open_line_above': {
      let { cursorRow: a } = t,
        s = Gp(t);
      return {
        ...qf(
          s,
          a,
          0,
          a,
          0,
          `
`
        ),
        cursorRow: a,
        cursorCol: 0,
      };
    }
    case 'vim_append_at_line_end': {
      let { cursorRow: a, lines: s } = t,
        o = ai(s[a] || '');
      return { ...t, cursorCol: o, preferredCol: null };
    }
    case 'vim_insert_at_line_start': {
      let { cursorRow: a, lines: s } = t,
        o = s[a] || '',
        l = 0,
        u = ml(o);
      for (; l < u.length && /\s/.test(u[l]); ) l++;
      return { ...t, cursorCol: l, preferredCol: null };
    }
    case 'vim_move_to_line_start':
      return { ...t, cursorCol: 0, preferredCol: null };
    case 'vim_move_to_line_end': {
      let { cursorRow: a, lines: s } = t,
        o = ai(s[a] || '');
      return { ...t, cursorCol: o > 0 ? o - 1 : 0, preferredCol: null };
    }
    case 'vim_move_to_first_nonwhitespace': {
      let { cursorRow: a, lines: s } = t,
        o = s[a] || '',
        l = 0,
        u = ml(o);
      for (; l < u.length && /\s/.test(u[l]); ) l++;
      return { ...t, cursorCol: l, preferredCol: null };
    }
    case 'vim_move_to_first_line':
      return { ...t, cursorRow: 0, cursorCol: 0, preferredCol: null };
    case 'vim_move_to_last_line': {
      let { lines: a } = t,
        s = a.length - 1;
      return { ...t, cursorRow: s, cursorCol: 0, preferredCol: null };
    }
    case 'vim_move_to_line': {
      let { lineNumber: a } = e.payload,
        { lines: s } = t,
        o = Math.min(Math.max(0, a - 1), s.length - 1);
      return { ...t, cursorRow: o, cursorCol: 0, preferredCol: null };
    }
    case 'vim_escape_insert_mode': {
      let { cursorCol: a } = t,
        s = a > 0 ? a - 1 : 0;
      return { ...t, cursorCol: s, preferredCol: null };
    }
    default:
      return t;
  }
}
function N9(t) {
  return t === void 0 ? !1 : !/[\s,.;!?]/.test(t);
}
var Lc = (t) => /[\w\p{L}\p{N}]/u.test(t),
  hh = (t) => /\s/.test(t),
  ghe = (t) => /\p{M}/u.test(t),
  R9 = (t) => Lc(t) || ghe(t),
  Onr = (t) =>
    /[\p{Script=Latin}]/u.test(t)
      ? 'latin'
      : /[\p{Script=Han}]/u.test(t)
        ? 'han'
        : /[\p{Script=Arabic}]/u.test(t)
          ? 'arabic'
          : /[\p{Script=Hiragana}]/u.test(t)
            ? 'hiragana'
            : /[\p{Script=Katakana}]/u.test(t)
              ? 'katakana'
              : /[\p{Script=Cyrillic}]/u.test(t)
                ? 'cyrillic'
                : 'other',
  yhe = (t, e) => (!Lc(t) || !Lc(e) ? !1 : Onr(t) !== Onr(e)),
  sBn = (t, e) => {
    let r = ml(t),
      n = e;
    if (n >= r.length) return null;
    let i = r[n];
    if (Lc(i))
      for (; n < r.length && R9(r[n]); ) {
        if (n + 1 < r.length && Lc(r[n + 1]) && yhe(r[n], r[n + 1])) {
          n++;
          break;
        }
        n++;
      }
    else if (!hh(i)) for (; n < r.length && !Lc(r[n]) && !hh(r[n]); ) n++;
    for (; n < r.length && hh(r[n]); ) n++;
    return n < r.length ? n : null;
  },
  Mnr = (t, e) => {
    let r = ml(t),
      n = e;
    if (n <= 0) return null;
    for (n--; n >= 0 && hh(r[n]); ) n--;
    if (n < 0) return null;
    if (Lc(r[n])) {
      for (; n >= 0 && Lc(r[n]); ) {
        if (n - 1 >= 0 && Lc(r[n - 1]) && yhe(r[n], r[n - 1])) return n;
        n--;
      }
      return n + 1;
    } else {
      for (; n >= 0 && !Lc(r[n]) && !hh(r[n]); ) n--;
      return n + 1;
    }
  },
  Ehe = (t, e) => {
    let r = ml(t),
      n = e,
      i =
        n < r.length &&
        R9(r[n]) &&
        (n + 1 >= r.length ||
          !R9(r[n + 1]) ||
          (Lc(r[n]) && n + 1 < r.length && Lc(r[n + 1]) && yhe(r[n], r[n + 1]))),
      a =
        n < r.length &&
        !R9(r[n]) &&
        !hh(r[n]) &&
        (n + 1 >= r.length || hh(r[n + 1]) || R9(r[n + 1]));
    if (i || a) for (n++; n < r.length && hh(r[n]); ) n++;
    if (n < r.length && !R9(r[n])) for (; n < r.length && hh(r[n]); ) n++;
    let s = !1,
      o = -1;
    if (n < r.length && R9(r[n]))
      for (; n < r.length && R9(r[n]); ) {
        if (
          ((s = !0), Lc(r[n]) && (o = n), n + 1 < r.length && Lc(r[n + 1]) && yhe(r[n], r[n + 1]))
        ) {
          (n++, Lc(r[n - 1]) && (o = n - 1));
          break;
        }
        n++;
      }
    else if (n < r.length && !hh(r[n]))
      for (; n < r.length && !Lc(r[n]) && !hh(r[n]); ) ((s = !0), (o = n), n++);
    return s && o >= e ? o : null;
  },
  vB = (t, e, r, n) => {
    let i = t[e] || '',
      a = n ? sBn(i, r) : Ehe(i, r);
    if (a !== null) return { row: e, col: a };
    for (let s = e + 1; s < t.length; s++) {
      let o = t[s] || '',
        l = ml(o);
      if (l.length === 0) {
        let c = !1;
        for (let p = s + 1; p < t.length; p++) {
          let h = t[p] || '',
            m = ml(h),
            E = 0;
          for (; E < m.length && hh(m[E]); ) E++;
          if (E < m.length) {
            c = !0;
            break;
          }
        }
        if (!c) return { row: s, col: 0 };
        continue;
      }
      let u = 0;
      for (; u < l.length && hh(l[u]); ) u++;
      if (u < l.length) {
        if (n) return { row: s, col: u };
        {
          let c = Ehe(o, u);
          if (c !== null) return { row: s, col: c };
        }
      }
    }
    return null;
  },
  fVe = (t, e, r) => {
    let n = t[e] || '',
      i = Mnr(n, r);
    if (i !== null) return { row: e, col: i };
    for (let a = e - 1; a >= 0; a--) {
      let s = t[a] || '',
        o = ml(s);
      if (o.length === 0) continue;
      let l = o.length;
      for (; l > 0 && hh(o[l - 1]); ) l--;
      if (l > 0) {
        let u = Mnr(s, l);
        if (u !== null) return { row: a, col: u };
      }
    }
    return null;
  },
  hhe = (t, e, r) => {
    let n = 0,
      i = 0,
      a = 0,
      s = 0,
      o = 0;
    for (let l = 0; l < r.length; l++) {
      let u = r[l].length + 1;
      if (n + u > t) {
        ((i = l), (a = t - n));
        break;
      }
      n += u;
    }
    n = 0;
    for (let l = 0; l < r.length; l++) {
      let u = r[l].length + (l < r.length - 1 ? 1 : 0);
      if (n + u >= e) {
        ((s = l), (o = e - n));
        break;
      }
      n += u;
    }
    return { startRow: i, startCol: a, endRow: s, endCol: o };
  },
  Ahe = (t, e, r) => {
    let n = 0;
    for (let a = 0; a < t; a++) n += r[a].length + 1;
    let i = n;
    for (let a = 0; a < e; a++) {
      let s = t + a;
      s < r.length && ((i += r[s].length), s < r.length - 1 && (i += 1));
    }
    return { startOffset: n, endOffset: i };
  },
  qf = (t, e, r, n, i, a) => {
    let s = (b) => t.lines[b] || '',
      o = (b) => ai(s(b)),
      l = (b, I, R) => Math.min(Math.max(b, I), R);
    if (
      e > n ||
      (e === n && r > i) ||
      e < 0 ||
      r < 0 ||
      n >= t.lines.length ||
      (n < t.lines.length && i > o(n))
    )
      return t;
    let u = [...t.lines],
      c = l(r, 0, o(e)),
      p = l(i, 0, o(n)),
      h = Mc(s(e), 0, c),
      m = Mc(s(n), p),
      v = a
        .replace(
          /\r\n/g,
          `
`
        )
        .replace(
          /\r/g,
          `
`
        ).split(`
`),
      g = h + v[0];
    if (v.length === 1) u.splice(e, n - e + 1, g + m);
    else {
      let b = v[v.length - 1] + m,
        I = v.slice(1, -1);
      u.splice(e, n - e + 1, g, ...I, b);
    }
    let _ = e + v.length - 1,
      S = (v.length > 1 ? 0 : c) + ai(v[v.length - 1]);
    return {
      ...t,
      lines: u,
      cursorRow: Math.min(Math.max(_, 0), u.length - 1),
      cursorCol: Math.max(0, Math.min(S, ai(u[_] || ''))),
      preferredCol: null,
    };
  };
function oBn(t) {
  let e = Qh(t),
    r = nBn(e);
  return ml(r)
    .filter((n) => {
      let i = n.codePointAt(0);
      return i === void 0
        ? !1
        : i === 10 || i === 13
          ? !0
          : !((i >= 0 && i <= 31) || (i >= 128 && i <= 159));
    })
    .join('');
}
function mVe(t, e, r) {
  return t < e ? e : t > r ? r : t;
}
function lBn(t, e) {
  let r = e,
    n = 0;
  for (; n < t.length; ) {
    let i = ai(t[n]),
      a = i + (n < t.length - 1 ? 1 : 0);
    if (r <= i) return [n, r];
    ((r -= a), n++);
  }
  if (t.length > 0) {
    let i = t.length - 1;
    return [i, ai(t[i])];
  }
  return [0, 0];
}
function hVe(t, e) {
  let r = 0,
    n = 0,
    i = 0;
  if (e === 0) return [0, 0];
  let a = t.split(`
`);
  for (let s = 0; s < a.length; s++) {
    let o = a[s],
      l = ai(o),
      u = l + (s < a.length - 1 ? 1 : 0);
    if (e <= i + l) return ((r = s), (n = e - i), [r, n]);
    if (e <= i + u)
      return ((r = s), (n = l), e === i + u && s < a.length - 1 ? [s + 1, 0] : [r, n]);
    i += u;
  }
  return (a.length > 0 ? ((r = a.length - 1), (n = ai(a[r]))) : ((r = 0), (n = 0)), [r, n]);
}
function uJ(t, e, r) {
  let n = 0,
    i = Math.min(e, t.length - 1);
  for (let a = 0; a < i; a++) n += ai(t[a]) + 1;
  return (i >= 0 && i < t.length && (n += Math.min(r, ai(t[i]))), n);
}
function Lnr(t, e, r) {
  let n = [],
    i = [],
    a = [],
    s = [0, 0];
  if (
    (t.forEach((o, l) => {
      if (((i[l] = []), o.length === 0))
        (i[l].push([n.length, 0]),
          a.push([l, 0]),
          n.push(''),
          l === e[0] && e[1] === 0 && (s = [n.length - 1, 0]));
      else {
        let u = 0,
          c = ml(o);
        for (; u < c.length; ) {
          let p = '',
            h = 0,
            m = 0,
            E = -1,
            v = 0;
          for (let _ = u; _ < c.length; _++) {
            let S = c[_],
              b = F1(S);
            if (h + b > r) {
              E !== -1 && v > 0 && u + v < _
                ? ((p = c.slice(u, u + v).join('')), (m = v))
                : m === 0 && b > r
                  ? ((p = S), (m = 1))
                  : m === 0 && b <= r;
              break;
            }
            ((p += S), (h += b), m++, S === ' ' && ((E = _), (v = m - 1)));
          }
          if (
            (m === 0 && u < c.length && ((p = c[u]), (m = 1)),
            m === 0 && u < c.length && ((p = c[u]), (m = 1)),
            i[l].push([n.length, u]),
            a.push([l, u]),
            n.push(p),
            l === e[0])
          ) {
            let _ = e[1];
            _ >= u && _ < u + m
              ? (s = [n.length - 1, _ - u])
              : _ === u + m && m > 0 && (s = [n.length - 1, m]);
          }
          let g = u;
          ((u += m), g + m < c.length && u < c.length && c[u] === ' ' && u++);
        }
        if (l === e[0] && e[1] === c.length) {
          let p = n.length - 1;
          p >= 0 && n[p] !== void 0 && (s = [p, ai(n[p])]);
        }
      }
    }),
    t.length === 0 || (t.length === 1 && t[0] === ''))
  )
    (n.length === 0 && (n.push(''), i[0] || (i[0] = []), i[0].push([0, 0]), a.push([0, 0])),
      (s = [0, 0]));
  else if (e[0] === t.length - 1 && e[1] === ai(t[t.length - 1]) && n.length > 0) {
    let o = n.length - 1;
    s = [o, ai(n[o])];
  }
  return { visualLines: n, visualCursor: s, logicalToVisualMap: i, visualToLogicalMap: a };
}
var uBn = 100,
  Gp = (t) => {
    let e = { lines: [...t.lines], cursorRow: t.cursorRow, cursorCol: t.cursorCol },
      r = [...t.undoStack, e];
    return (r.length > uBn && r.shift(), { ...t, undoStack: r, redoStack: [] });
  };
function cBn(t, e) {
  let r = Gp,
    n = (a) => t.lines[a] ?? '',
    i = (a) => ai(n(a));
  switch (e.type) {
    case 'set_text': {
      let a = t;
      e.pushToUndo !== !1 && (a = r(t));
      let s = e.payload.replace(
          /\r\n?/g,
          `
`
        ).split(`
`),
        o = s.length === 0 ? [''] : s,
        l = o.length - 1;
      return { ...a, lines: o, cursorRow: l, cursorCol: ai(o[l] ?? ''), preferredCol: null };
    }
    case 'insert': {
      let a = r(t),
        s = [...a.lines],
        o = a.cursorRow,
        l = a.cursorCol,
        u = (v) => s[v] ?? '',
        p = oBn(
          e.payload
            .replace(
              /\r\n/g,
              `
`
            )
            .replace(
              /\r/g,
              `
`
            )
        ).split(`
`),
        h = u(o),
        m = Mc(h, 0, l),
        E = Mc(h, l);
      if (p.length > 1) {
        s[o] = m + p[0];
        let v = p.slice(1),
          g = v.pop() ?? '';
        (s.splice(o + 1, 0, ...v),
          s.splice(o + p.length - 1, 0, g + E),
          (o = o + p.length - 1),
          (l = ai(g)));
      } else ((s[o] = m + p[0] + E), (l = ai(m) + ai(p[0])));
      return { ...a, lines: s, cursorRow: o, cursorCol: l, preferredCol: null };
    }
    case 'backspace': {
      let a = r(t),
        s = [...a.lines],
        o = a.cursorRow,
        l = a.cursorCol,
        u = (c) => s[c] ?? '';
      if (l === 0 && o === 0) return t;
      if (l > 0) {
        let c = u(o);
        ((s[o] = Mc(c, 0, l - 1) + Mc(c, l)), l--);
      } else if (o > 0) {
        let c = u(o - 1),
          p = u(o),
          h = ai(c);
        ((s[o - 1] = c + p), s.splice(o, 1), o--, (l = h));
      }
      return { ...a, lines: s, cursorRow: o, cursorCol: l, preferredCol: null };
    }
    case 'set_viewport_width':
      return e.payload === t.viewportWidth ? t : { ...t, viewportWidth: e.payload };
    case 'move': {
      let { dir: a } = e.payload,
        { lines: s, cursorRow: o, cursorCol: l, viewportWidth: u } = t,
        c = Lnr(s, [o, l], u),
        { visualLines: p, visualCursor: h, visualToLogicalMap: m } = c,
        E = h[0],
        v = h[1],
        g = t.preferredCol,
        _ = ai(p[E] ?? '');
      switch (a) {
        case 'left':
          ((g = null), v > 0 ? v-- : E > 0 && (E--, (v = ai(p[E] ?? ''))));
          break;
        case 'right':
          ((g = null), v < _ ? v++ : E < p.length - 1 && (E++, (v = 0)));
          break;
        case 'up':
          E > 0 && (g === null && (g = v), E--, (v = mVe(g, 0, ai(p[E] ?? ''))));
          break;
        case 'down':
          E < p.length - 1 && (g === null && (g = v), E++, (v = mVe(g, 0, ai(p[E] ?? ''))));
          break;
        case 'home':
          ((g = null), (v = 0));
          break;
        case 'end':
          ((g = null), (v = _));
          break;
        case 'wordLeft': {
          let { cursorRow: S, cursorCol: b, lines: I } = t;
          if (b === 0 && S === 0) return t;
          let R = S,
            F = b;
          if (b === 0) (R--, (F = ai(I[R] ?? '')));
          else {
            let G = I[S],
              U = ml(G),
              M = b,
              Y = !0;
            for (let z = 0; z < M; z++)
              if (N9(U[z])) {
                Y = !1;
                break;
              }
            if (Y && M > 0) M--;
            else {
              for (; M > 0 && !N9(U[M - 1]); ) M--;
              for (; M > 0 && N9(U[M - 1]); ) M--;
            }
            F = M;
          }
          return { ...t, cursorRow: R, cursorCol: F, preferredCol: null };
        }
        case 'wordRight': {
          let { cursorRow: S, cursorCol: b, lines: I } = t;
          if (S === I.length - 1 && b === ai(I[S] ?? '')) return t;
          let R = S,
            F = b,
            G = I[S] ?? '',
            U = ml(G);
          if (b >= U.length) (R++, (F = 0));
          else {
            let M = b;
            for (; M < U.length && !N9(U[M]); ) M++;
            for (; M < U.length && N9(U[M]); ) M++;
            F = M;
          }
          return { ...t, cursorRow: R, cursorCol: F, preferredCol: null };
        }
        default:
          break;
      }
      if (m[E]) {
        let [S, b] = m[E];
        return {
          ...t,
          cursorRow: S,
          cursorCol: mVe(b + v, 0, ai(t.lines[S] ?? '')),
          preferredCol: g,
        };
      }
      return t;
    }
    case 'delete': {
      let { cursorRow: a, cursorCol: s, lines: o } = t,
        l = n(a);
      if (s < i(a)) {
        let u = r(t),
          c = [...u.lines];
        return ((c[a] = Mc(l, 0, s) + Mc(l, s + 1)), { ...u, lines: c, preferredCol: null });
      } else if (a < o.length - 1) {
        let u = r(t),
          c = n(a + 1),
          p = [...u.lines];
        return ((p[a] = l + c), p.splice(a + 1, 1), { ...u, lines: p, preferredCol: null });
      }
      return t;
    }
    case 'delete_word_left': {
      let { cursorRow: a, cursorCol: s } = t;
      if (s === 0 && a === 0) return t;
      if (s === 0) {
        let m = r(t),
          E = n(a - 1),
          v = n(a),
          g = ai(E),
          _ = [...m.lines];
        return (
          (_[a - 1] = E + v),
          _.splice(a, 1),
          { ...m, lines: _, cursorRow: a - 1, cursorCol: g, preferredCol: null }
        );
      }
      let o = r(t),
        l = n(a),
        u = ml(l),
        c = s,
        p = !0;
      for (let m = 0; m < c; m++)
        if (N9(u[m])) {
          p = !1;
          break;
        }
      if (p && c > 0) c--;
      else {
        for (; c > 0 && !N9(u[c - 1]); ) c--;
        for (; c > 0 && N9(u[c - 1]); ) c--;
      }
      let h = [...o.lines];
      return (
        (h[a] = Mc(l, 0, c) + Mc(l, s)),
        { ...o, lines: h, cursorCol: c, preferredCol: null }
      );
    }
    case 'delete_word_right': {
      let { cursorRow: a, cursorCol: s, lines: o } = t,
        l = n(a),
        u = ml(l);
      if (s >= u.length && a === o.length - 1) return t;
      if (s >= u.length) {
        let m = r(t),
          E = n(a + 1),
          v = [...m.lines];
        return ((v[a] = l + E), v.splice(a + 1, 1), { ...m, lines: v, preferredCol: null });
      }
      let c = r(t),
        p = s;
      for (; p < u.length && !N9(u[p]); ) p++;
      for (; p < u.length && N9(u[p]); ) p++;
      let h = [...c.lines];
      return ((h[a] = Mc(l, 0, s) + Mc(l, p)), { ...c, lines: h, preferredCol: null });
    }
    case 'kill_line_right': {
      let { cursorRow: a, cursorCol: s, lines: o } = t,
        l = n(a);
      if (s < i(a)) {
        let u = r(t),
          c = [...u.lines];
        return ((c[a] = Mc(l, 0, s)), { ...u, lines: c });
      } else if (a < o.length - 1) {
        let u = r(t),
          c = n(a + 1),
          p = [...u.lines];
        return ((p[a] = l + c), p.splice(a + 1, 1), { ...u, lines: p, preferredCol: null });
      }
      return t;
    }
    case 'kill_line_left': {
      let { cursorRow: a, cursorCol: s } = t;
      if (s > 0) {
        let o = r(t),
          l = n(a),
          u = [...o.lines];
        return ((u[a] = Mc(l, s)), { ...o, lines: u, cursorCol: 0, preferredCol: null });
      }
      return t;
    }
    case 'undo': {
      let a = t.undoStack[t.undoStack.length - 1];
      if (!a) return t;
      let s = { lines: [...t.lines], cursorRow: t.cursorRow, cursorCol: t.cursorCol };
      return { ...t, ...a, undoStack: t.undoStack.slice(0, -1), redoStack: [...t.redoStack, s] };
    }
    case 'redo': {
      let a = t.redoStack[t.redoStack.length - 1];
      if (!a) return t;
      let s = { lines: [...t.lines], cursorRow: t.cursorRow, cursorCol: t.cursorCol };
      return { ...t, ...a, redoStack: t.redoStack.slice(0, -1), undoStack: [...t.undoStack, s] };
    }
    case 'replace_range': {
      let { startRow: a, startCol: s, endRow: o, endCol: l, text: u } = e.payload,
        c = r(t);
      return qf(c, a, s, o, l, u);
    }
    case 'move_to_offset': {
      let { offset: a } = e.payload,
        [s, o] = hVe(
          t.lines.join(`
`),
          a
        );
      return { ...t, cursorRow: s, cursorCol: o, preferredCol: null };
    }
    case 'create_undo_snapshot':
      return r(t);
    case 'vim_delete_word_forward':
    case 'vim_delete_word_backward':
    case 'vim_delete_word_end':
    case 'vim_change_word_forward':
    case 'vim_change_word_backward':
    case 'vim_change_word_end':
    case 'vim_delete_line':
    case 'vim_change_line':
    case 'vim_delete_to_end_of_line':
    case 'vim_change_to_end_of_line':
    case 'vim_change_movement':
    case 'vim_move_left':
    case 'vim_move_right':
    case 'vim_move_up':
    case 'vim_move_down':
    case 'vim_move_word_forward':
    case 'vim_move_word_backward':
    case 'vim_move_word_end':
    case 'vim_delete_char':
    case 'vim_insert_at_cursor':
    case 'vim_append_at_cursor':
    case 'vim_open_line_below':
    case 'vim_open_line_above':
    case 'vim_append_at_line_end':
    case 'vim_insert_at_line_start':
    case 'vim_move_to_line_start':
    case 'vim_move_to_line_end':
    case 'vim_move_to_first_nonwhitespace':
    case 'vim_move_to_first_line':
    case 'vim_move_to_last_line':
    case 'vim_move_to_line':
    case 'vim_escape_insert_mode':
      return Rnr(t, e);
    default:
      return (console.error(`Unknown action encountered: ${e}`), t);
  }
}
function Fnr({
  initialText: t = '',
  initialCursorOffset: e = 0,
  viewport: r,
  stdin: n,
  setRawMode: i,
  onChange: a,
  isValidPath: s,
  shellModeActive: o = !1,
}) {
  let l = (0, rn.useMemo)(() => {
      let nt = t.split(`
`),
        [Rt, pr] = lBn(nt.length === 0 ? [''] : nt, e);
      return {
        lines: nt.length === 0 ? [''] : nt,
        cursorRow: Rt,
        cursorCol: pr,
        preferredCol: null,
        undoStack: [],
        redoStack: [],
        clipboard: null,
        selectionAnchor: null,
        viewportWidth: r.width,
      };
    }, [t, e, r.width]),
    [u, c] = (0, rn.useReducer)(cBn, l),
    { lines: p, cursorRow: h, cursorCol: m, preferredCol: E, selectionAnchor: v } = u,
    g = (0, rn.useMemo)(
      () =>
        p.join(`
`),
      [p]
    ),
    _ = (0, rn.useMemo)(() => Lnr(p, [h, m], u.viewportWidth), [p, h, m, u.viewportWidth]),
    { visualLines: S, visualCursor: b } = _,
    [I, R] = (0, rn.useState)(0);
  ((0, rn.useEffect)(() => {
    a && a(g);
  }, [g, a]),
    (0, rn.useEffect)(() => {
      c({ type: 'set_viewport_width', payload: r.width });
    }, [r.width]),
    (0, rn.useEffect)(() => {
      let { height: nt } = r,
        Rt = I;
      (b[0] < I ? (Rt = b[0]) : b[0] >= I + nt && (Rt = b[0] - nt + 1), Rt !== I && R(Rt));
    }, [b, I, r]));
  let F = (0, rn.useCallback)(
      (nt, { paste: Rt = !1 } = {}) => {
        if (/[\n\r]/.test(nt)) {
          c({ type: 'insert', payload: nt });
          return;
        }
        if (nt.length >= 3 && !o && Rt) {
          let fr = nt.trim(),
            Lr = fr.match(/^'(.*)'$/);
          (Lr && (fr = Lr[1]), (fr = fr.trim()), s(QG(fr)) && (nt = `@${fr} `));
        }
        let br = '';
        for (let fr of ml(nt))
          fr.codePointAt(0) === 127
            ? (br.length > 0 && (c({ type: 'insert', payload: br }), (br = '')),
              c({ type: 'backspace' }))
            : (br += fr);
        br.length > 0 && c({ type: 'insert', payload: br });
      },
      [s, o]
    ),
    G = (0, rn.useCallback)(() => {
      c({
        type: 'insert',
        payload: `
`,
      });
    }, []),
    U = (0, rn.useCallback)(() => {
      c({ type: 'backspace' });
    }, []),
    M = (0, rn.useCallback)(() => {
      c({ type: 'delete' });
    }, []),
    Y = (0, rn.useCallback)((nt) => {
      c({ type: 'move', payload: { dir: nt } });
    }, []),
    z = (0, rn.useCallback)(() => {
      c({ type: 'undo' });
    }, []),
    se = (0, rn.useCallback)(() => {
      c({ type: 'redo' });
    }, []),
    j = (0, rn.useCallback)((nt) => {
      c({ type: 'set_text', payload: nt });
    }, []),
    N = (0, rn.useCallback)(() => {
      c({ type: 'delete_word_left' });
    }, []),
    H = (0, rn.useCallback)(() => {
      c({ type: 'delete_word_right' });
    }, []),
    ee = (0, rn.useCallback)(() => {
      c({ type: 'kill_line_right' });
    }, []),
    me = (0, rn.useCallback)(() => {
      c({ type: 'kill_line_left' });
    }, []),
    Ae = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_delete_word_forward', payload: { count: nt } });
    }, []),
    X = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_delete_word_backward', payload: { count: nt } });
    }, []),
    re = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_delete_word_end', payload: { count: nt } });
    }, []),
    de = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_change_word_forward', payload: { count: nt } });
    }, []),
    ye = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_change_word_backward', payload: { count: nt } });
    }, []),
    he = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_change_word_end', payload: { count: nt } });
    }, []),
    be = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_delete_line', payload: { count: nt } });
    }, []),
    De = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_change_line', payload: { count: nt } });
    }, []),
    ce = (0, rn.useCallback)(() => {
      c({ type: 'vim_delete_to_end_of_line' });
    }, []),
    Ce = (0, rn.useCallback)(() => {
      c({ type: 'vim_change_to_end_of_line' });
    }, []),
    J = (0, rn.useCallback)((nt, Rt) => {
      c({ type: 'vim_change_movement', payload: { movement: nt, count: Rt } });
    }, []),
    te = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_move_left', payload: { count: nt } });
    }, []),
    ie = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_move_right', payload: { count: nt } });
    }, []),
    pe = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_move_up', payload: { count: nt } });
    }, []),
    ue = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_move_down', payload: { count: nt } });
    }, []),
    ve = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_move_word_forward', payload: { count: nt } });
    }, []),
    ae = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_move_word_backward', payload: { count: nt } });
    }, []),
    k = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_move_word_end', payload: { count: nt } });
    }, []),
    $ = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_delete_char', payload: { count: nt } });
    }, []),
    fe = (0, rn.useCallback)(() => {
      c({ type: 'vim_insert_at_cursor' });
    }, []),
    Z = (0, rn.useCallback)(() => {
      c({ type: 'vim_append_at_cursor' });
    }, []),
    Q = (0, rn.useCallback)(() => {
      c({ type: 'vim_open_line_below' });
    }, []),
    ge = (0, rn.useCallback)(() => {
      c({ type: 'vim_open_line_above' });
    }, []),
    xe = (0, rn.useCallback)(() => {
      c({ type: 'vim_append_at_line_end' });
    }, []),
    He = (0, rn.useCallback)(() => {
      c({ type: 'vim_insert_at_line_start' });
    }, []),
    mt = (0, rn.useCallback)(() => {
      c({ type: 'vim_move_to_line_start' });
    }, []),
    Tt = (0, rn.useCallback)(() => {
      c({ type: 'vim_move_to_line_end' });
    }, []),
    jt = (0, rn.useCallback)(() => {
      c({ type: 'vim_move_to_first_nonwhitespace' });
    }, []),
    ht = (0, rn.useCallback)(() => {
      c({ type: 'vim_move_to_first_line' });
    }, []),
    vt = (0, rn.useCallback)(() => {
      c({ type: 'vim_move_to_last_line' });
    }, []),
    kt = (0, rn.useCallback)((nt) => {
      c({ type: 'vim_move_to_line', payload: { lineNumber: nt } });
    }, []),
    an = (0, rn.useCallback)(() => {
      c({ type: 'vim_escape_insert_mode' });
    }, []),
    Jn = (0, rn.useCallback)(
      async (nt = {}) => {
        let Rt =
            nt.editor ??
            process.env.VISUAL ??
            process.env.EDITOR ??
            (process.platform === 'win32' ? 'notepad' : 'vi'),
          pr = lJ.mkdtempSync(Nnr.join(aBn.tmpdir(), 'gemini-edit-')),
          br = Nnr.join(pr, 'buffer.txt');
        (lJ.writeFileSync(br, g, 'utf8'), c({ type: 'create_undo_snapshot' }));
        let fr = n?.isRaw ?? !1;
        try {
          i?.(!1);
          let { status: Lr, error: Or } = iBn(Rt, [br], { stdio: 'inherit' });
          if (Or) throw Or;
          if (typeof Lr == 'number' && Lr !== 0)
            throw new Error(`External editor exited with status ${Lr}`);
          let Zs = lJ.readFileSync(br, 'utf8');
          ((Zs = Zs.replace(
            /\r\n?/g,
            `
`
          )),
            c({ type: 'set_text', payload: Zs, pushToUndo: !1 }));
        } catch (Lr) {
          console.error('[useTextBuffer] external editor error', Lr);
        } finally {
          fr && i?.(!0);
          try {
            lJ.unlinkSync(br);
          } catch {}
          try {
            lJ.rmdirSync(pr);
          } catch {}
        }
      },
      [g, n, i]
    ),
    fi = (0, rn.useCallback)(
      (nt) => {
        let { sequence: Rt } = nt;
        nt.name === 'return' ||
        Rt === '\r' ||
        Rt ===
          `
` ||
        Rt === '\\\r'
          ? G()
          : (nt.name === 'left' && !nt.meta && !nt.ctrl) || (nt.ctrl && nt.name === 'b')
            ? Y('left')
            : (nt.name === 'right' && !nt.meta && !nt.ctrl) || (nt.ctrl && nt.name === 'f')
              ? Y('right')
              : nt.name === 'up'
                ? Y('up')
                : nt.name === 'down'
                  ? Y('down')
                  : ((nt.ctrl || nt.meta) && nt.name === 'left') || (nt.meta && nt.name === 'b')
                    ? Y('wordLeft')
                    : ((nt.ctrl || nt.meta) && nt.name === 'right') || (nt.meta && nt.name === 'f')
                      ? Y('wordRight')
                      : nt.name === 'home' || (nt.ctrl && nt.name === 'a')
                        ? Y('home')
                        : nt.name === 'end' || (nt.ctrl && nt.name === 'e')
                          ? Y('end')
                          : (nt.ctrl && nt.name === 'w') ||
                              ((nt.meta || nt.ctrl) && (nt.name === 'backspace' || Rt === '\x7F'))
                            ? N()
                            : (nt.meta || nt.ctrl) && nt.name === 'delete'
                              ? H()
                              : nt.name === 'backspace' ||
                                  Rt === '\x7F' ||
                                  (nt.ctrl && nt.name === 'h')
                                ? U()
                                : nt.name === 'delete' || (nt.ctrl && nt.name === 'd')
                                  ? M()
                                  : Rt && !nt.ctrl && !nt.meta && F(Rt, { paste: nt.paste });
      },
      [G, Y, N, H, U, M, F]
    ),
    Ai = (0, rn.useMemo)(() => S.slice(I, I + r.height), [S, I, r.height]),
    da = (0, rn.useCallback)((nt, Rt, pr, br, fr) => {
      c({
        type: 'replace_range',
        payload: { startRow: nt, startCol: Rt, endRow: pr, endCol: br, text: fr },
      });
    }, []),
    Mi = (0, rn.useCallback)(
      (nt, Rt, pr) => {
        let [br, fr] = hVe(g, nt),
          [Lr, Or] = hVe(g, Rt);
        da(br, fr, Lr, Or, pr);
      },
      [g, da]
    ),
    Be = (0, rn.useCallback)((nt) => {
      c({ type: 'move_to_offset', payload: { offset: nt } });
    }, []);
  return {
    lines: p,
    text: g,
    cursor: [h, m],
    preferredCol: E,
    selectionAnchor: v,
    allVisualLines: S,
    viewportVisualLines: Ai,
    visualCursor: b,
    visualScrollRow: I,
    setText: j,
    insert: F,
    newline: G,
    backspace: U,
    del: M,
    move: Y,
    undo: z,
    redo: se,
    replaceRange: da,
    replaceRangeByOffset: Mi,
    moveToOffset: Be,
    deleteWordLeft: N,
    deleteWordRight: H,
    killLineRight: ee,
    killLineLeft: me,
    handleInput: fi,
    openInExternalEditor: Jn,
    vimDeleteWordForward: Ae,
    vimDeleteWordBackward: X,
    vimDeleteWordEnd: re,
    vimChangeWordForward: de,
    vimChangeWordBackward: ye,
    vimChangeWordEnd: he,
    vimDeleteLine: be,
    vimChangeLine: De,
    vimDeleteToEndOfLine: ce,
    vimChangeToEndOfLine: Ce,
    vimChangeMovement: J,
    vimMoveLeft: te,
    vimMoveRight: ie,
    vimMoveUp: pe,
    vimMoveDown: ue,
    vimMoveWordForward: ve,
    vimMoveWordBackward: ae,
    vimMoveWordEnd: k,
    vimDeleteChar: $,
    vimInsertAtCursor: fe,
    vimAppendAtCursor: Z,
    vimOpenLineBelow: Q,
    vimOpenLineAbove: ge,
    vimAppendAtLineEnd: xe,
    vimInsertAtLineStart: He,
    vimMoveToLineStart: mt,
    vimMoveToLineEnd: Tt,
    vimMoveToFirstNonWhitespace: jt,
    vimMoveToFirstLine: ht,
    vimMoveToLastLine: vt,
    vimMoveToLine: kt,
    vimEscapeInsertMode: an,
  };
}
var Ihe = qe(ZHe(), 1);
var f3 = qe(or(), 1);
Qn();
import * as Lk from 'fs/promises';
import * as vhe from 'path';
var dBn = 'shell_history',
  pBn = 100;
async function fBn(t) {
  let e = oy(t);
  return vhe.join(e, dBn);
}
async function mBn(t) {
  try {
    let e = await Lk.readFile(t, 'utf-8'),
      r = [],
      n = '';
    for (let i of e.split(/\r?\n/)) {
      if (!i.trim()) continue;
      let a = i,
        s = n.match(/(\\+)$/);
      s && s[1].length % 2 ? (n = n.slice(0, -1) + ' ' + a) : (n && r.push(n), (n = a));
    }
    return (n && r.push(n), r);
  } catch (e) {
    return Cs(e) && e.code === 'ENOENT' ? [] : (console.error('Error reading history:', e), []);
  }
}
async function hBn(t, e) {
  try {
    (await Lk.mkdir(vhe.dirname(t), { recursive: !0 }),
      await Lk.writeFile(
        t,
        e.join(`
`)
      ));
  } catch (r) {
    console.error('Error writing shell history:', r);
  }
}
function Pnr(t) {
  let [e, r] = (0, f3.useState)([]),
    [n, i] = (0, f3.useState)(-1),
    [a, s] = (0, f3.useState)(null);
  (0, f3.useEffect)(() => {
    async function p() {
      let h = await fBn(t);
      s(h);
      let m = await mBn(h);
      r(m.reverse());
    }
    p();
  }, [t]);
  let o = (0, f3.useCallback)(
      (p) => {
        if (!p.trim() || !a) return;
        let h = [p, ...e.filter((m) => m !== p)].slice(0, pBn).filter(Boolean);
        (r(h), hBn(a, [...h].reverse()), i(-1));
      },
      [e, a]
    ),
    l = (0, f3.useCallback)(() => {
      if (e.length === 0) return null;
      let p = Math.min(n + 1, e.length - 1);
      return (i(p), e[p] ?? null);
    }, [e, n]),
    u = (0, f3.useCallback)(() => {
      if (n < 0) return null;
      let p = n - 1;
      return (i(p), p < 0 ? '' : (e[p] ?? null));
    }, [e, n]),
    c = (0, f3.useCallback)(() => {
      i(-1);
    }, []);
  return {
    history: e,
    addCommandToHistory: o,
    getPreviousCommand: l,
    getNextCommand: u,
    resetHistoryPosition: c,
  };
}
var cJ = qe(or(), 1);
var m3 = qe(or(), 1);
function Che() {
  let [t, e] = (0, m3.useState)([]),
    [r, n] = (0, m3.useState)(-1),
    [i, a] = (0, m3.useState)(0),
    [s, o] = (0, m3.useState)(!1),
    [l, u] = (0, m3.useState)(!1),
    [c, p] = (0, m3.useState)(!1),
    h = (0, m3.useCallback)(() => {
      (e([]), n(-1), a(0), o(!1), u(!1), p(!1));
    }, []),
    m = (0, m3.useCallback)(() => {
      t.length !== 0 &&
        n((v) => {
          let g = v <= 0 ? t.length - 1 : v - 1;
          return (
            a((_) =>
              g === t.length - 1 && t.length > B9 ? Math.max(0, t.length - B9) : g < _ ? g : _
            ),
            g
          );
        });
    }, [t.length]),
    E = (0, m3.useCallback)(() => {
      t.length !== 0 &&
        n((v) => {
          let g = v >= t.length - 1 ? 0 : v + 1;
          return (
            a((_) => {
              if (g === 0 && t.length > B9) return 0;
              let S = _ + B9;
              return g >= S ? g - B9 + 1 : _;
            }),
            g
          );
        });
    }, [t.length]);
  return {
    suggestions: t,
    activeSuggestionIndex: r,
    visibleStartIndex: i,
    showSuggestions: s,
    isLoadingSuggestions: l,
    isPerfectMatch: c,
    setSuggestions: e,
    setShowSuggestions: o,
    setActiveSuggestionIndex: n,
    setVisibleStartIndex: a,
    setIsLoadingSuggestions: u,
    setIsPerfectMatch: p,
    resetCompletionState: h,
    navigateUp: m,
    navigateDown: E,
  };
}
function Qnr(t, e, r) {
  let {
    suggestions: n,
    activeSuggestionIndex: i,
    visibleStartIndex: a,
    showSuggestions: s,
    isLoadingSuggestions: o,
    setSuggestions: l,
    setShowSuggestions: u,
    setActiveSuggestionIndex: c,
    resetCompletionState: p,
    navigateUp: h,
    navigateDown: m,
  } = Che();
  ((0, cJ.useEffect)(() => {
    r || p();
  }, [r, p]),
    (0, cJ.useEffect)(() => {
      if (!r) return;
      let v = t.text.toLowerCase(),
        g = e.reduce((_, S) => {
          let b = S.toLowerCase().indexOf(v);
          return (b !== -1 && _.push({ label: S, value: S, matchedIndex: b }), _);
        }, []);
      (l(g), u(g.length > 0), c(g.length > 0 ? 0 : -1));
    }, [t.text, e, r, c, u, l]));
  let E = (0, cJ.useCallback)(
    (v) => {
      v < 0 || v >= n.length || (t.setText(n[v].value), p());
    },
    [t, n, p]
  );
  return {
    suggestions: n,
    activeSuggestionIndex: i,
    visibleStartIndex: a,
    showSuggestions: s,
    isLoadingSuggestions: o,
    navigateUp: h,
    navigateDown: m,
    handleAutocomplete: E,
    resetCompletionState: p,
  };
}
var CB = qe(or(), 1);
var Xg = qe(or(), 1);
Qn();
var knr = { status: 'idle', suggestions: [], isLoading: !1, pattern: null };
function ABn(t, e) {
  switch (e.type) {
    case 'INITIALIZE':
      return { ...t, status: 'initializing', isLoading: !0 };
    case 'INITIALIZE_SUCCESS':
      return { ...t, status: 'ready', isLoading: !1 };
    case 'SEARCH':
      return { ...t, status: 'searching', pattern: e.payload };
    case 'SEARCH_SUCCESS':
      return { ...t, status: 'ready', suggestions: e.payload, isLoading: !1 };
    case 'SET_LOADING':
      return t.status === 'searching' ? { ...t, isLoading: e.payload, suggestions: [] } : t;
    case 'ERROR':
      return { ...t, status: 'error', isLoading: !1, suggestions: [] };
    case 'RESET':
      return knr;
    default:
      return t;
  }
}
function Unr(t) {
  let {
      enabled: e,
      pattern: r,
      config: n,
      cwd: i,
      setSuggestions: a,
      setIsLoadingSuggestions: s,
    } = t,
    [o, l] = (0, Xg.useReducer)(ABn, knr),
    u = (0, Xg.useRef)(null),
    c = (0, Xg.useRef)(null),
    p = (0, Xg.useRef)(null);
  ((0, Xg.useEffect)(() => {
    a(o.suggestions);
  }, [o.suggestions, a]),
    (0, Xg.useEffect)(() => {
      s(o.isLoading);
    }, [o.isLoading, s]),
    (0, Xg.useEffect)(() => {
      l({ type: 'RESET' });
    }, [i, n]),
    (0, Xg.useEffect)(() => {
      if (!e) {
        (o.status === 'ready' || o.status === 'error') && l({ type: 'RESET' });
        return;
      }
      if (r === null) {
        l({ type: 'RESET' });
        return;
      }
      o.status === 'idle'
        ? l({ type: 'INITIALIZE' })
        : (o.status === 'ready' || o.status === 'searching') &&
          r !== o.pattern &&
          l({ type: 'SEARCH', payload: r });
    }, [e, r, o.status, o.pattern]),
    (0, Xg.useEffect)(() => {
      let h = async () => {
          try {
            let E = new kz({
              projectRoot: i,
              ignoreDirs: [],
              useGitignore: n?.getFileFilteringOptions()?.respectGitIgnore ?? !0,
              useGeminiignore: n?.getFileFilteringOptions()?.respectKodaIgnore ?? !0,
              cache: !0,
              cacheTtl: 30,
              maxDepth: (n?.getEnableRecursiveFileSearch() ?? !0) ? void 0 : 0,
            });
            (await E.initialize(),
              (u.current = E),
              l({ type: 'INITIALIZE_SUCCESS' }),
              o.pattern !== null && l({ type: 'SEARCH', payload: o.pattern }));
          } catch {
            l({ type: 'ERROR' });
          }
        },
        m = async () => {
          if (!u.current || o.pattern === null) return;
          p.current && clearTimeout(p.current);
          let E = new AbortController();
          ((c.current = E),
            (p.current = setTimeout(() => {
              l({ type: 'SET_LOADING', payload: !0 });
            }, 200)));
          try {
            let v = await u.current.search(o.pattern, { signal: E.signal, maxResults: B9 * 3 });
            if ((p.current && clearTimeout(p.current), E.signal.aborted)) return;
            let g = v.map((_) => ({ label: _, value: ICe(_) }));
            l({ type: 'SEARCH_SUCCESS', payload: g });
          } catch (v) {
            (v instanceof Error && v.name === 'AbortError') || l({ type: 'ERROR' });
          }
        };
      return (
        o.status === 'initializing' ? h() : o.status === 'searching' && m(),
        () => {
          (c.current?.abort(), p.current && clearTimeout(p.current));
        }
      );
    }, [o.status, o.pattern, n, i]));
}
var dJ = qe(or(), 1);
function Hnr(t) {
  let {
      enabled: e,
      query: r,
      slashCommands: n,
      commandContext: i,
      setSuggestions: a,
      setIsLoadingSuggestions: s,
      setIsPerfectMatch: o,
    } = t,
    [l, u] = (0, dJ.useState)(-1),
    [c, p] = (0, dJ.useState)(-1);
  return (
    (0, dJ.useEffect)(() => {
      if (!e || r === null) return;
      let h = r?.substring(1) || '',
        m = !!r?.endsWith(' '),
        E = h.split(/\s+/).filter((G) => G),
        v = E,
        g = '';
      !m && E.length > 0 && ((g = E[E.length - 1]), (v = E.slice(0, -1)));
      let _ = n,
        S = null;
      for (let G of v) {
        if (!_) {
          ((S = null), (_ = []));
          break;
        }
        let U = _.find((M) => M.name === G || M.altNames?.includes(G));
        if (U) ((S = U), (_ = U.subCommands));
        else {
          ((S = null), (_ = []));
          break;
        }
      }
      let b;
      (!m &&
        _ &&
        ((b = _.find((G) => (G.name === g || G.altNames?.includes(g)) && G.subCommands)),
        b && ((S = b), (_ = b.subCommands), (g = ''))),
        o(!1),
        m ||
          (((S && g === '' && S.action) ||
            (_ && _.find((U) => (U.name === g || U.altNames?.includes(g)) && U.action))) &&
            o(!0)));
      let I = v.length,
        R = S?.completion && (m || (E.length > I && I > 0 && g !== ''));
      if (m || b) (u(r.length), p(r.length));
      else if (g) {
        if (R) {
          let U = `/${v.join(' ')}`.length + (v.length > 0 ? 1 : 0);
          u(U);
        } else u(r.length - g.length);
        p(r.length);
      } else (u(1), p(r.length));
      if (R) {
        (async () => {
          s(!0);
          let U = E.slice(I).join(' '),
            Y = ((await S.completion(i, U)) || []).map((z) => ({ label: z, value: z }));
          (a(Y), s(!1));
        })();
        return;
      }
      let F = _ || [];
      if (F.length > 0) {
        let G = F.filter(
          (M) => M.description && (M.name.startsWith(g) || M.altNames?.some((Y) => Y.startsWith(g)))
        );
        if (G.length > 0 && !m) {
          let M = G.find((Y) => Y.name === g || Y.altNames?.includes(g));
          M && M.action && (G = []);
        }
        let U = G.map((M) => ({ label: M.name, value: M.name, description: M.description }));
        a(U);
        return;
      }
      a([]);
    }, [e, r, n, i, a, s, o]),
    { completionStart: l, completionEnd: c }
  );
}
function Vnr(t, e, r, n, i, a = !1, s) {
  let {
      suggestions: o,
      activeSuggestionIndex: l,
      visibleStartIndex: u,
      showSuggestions: c,
      isLoadingSuggestions: p,
      isPerfectMatch: h,
      setSuggestions: m,
      setShowSuggestions: E,
      setActiveSuggestionIndex: v,
      setIsLoadingSuggestions: g,
      setIsPerfectMatch: _,
      setVisibleStartIndex: S,
      resetCompletionState: b,
      navigateUp: I,
      navigateDown: R,
    } = Che(),
    F = t.cursor[0],
    G = t.cursor[1],
    {
      completionMode: U,
      query: M,
      completionStart: Y,
      completionEnd: z,
    } = (0, CB.useMemo)(() => {
      let N = t.lines[F] || '';
      if (F === 0 && FKt(N.trim()))
        return { completionMode: 'SLASH', query: N, completionStart: 0, completionEnd: N.length };
      let H = ml(N);
      for (let ee = G - 1; ee >= 0; ee--) {
        let me = H[ee];
        if (me === ' ') {
          let Ae = 0;
          for (let X = ee - 1; X >= 0 && H[X] === '\\'; X--) Ae++;
          if (Ae % 2 === 0)
            return { completionMode: 'IDLE', query: null, completionStart: -1, completionEnd: -1 };
        } else if (me === '@') {
          let Ae = H.length;
          for (let de = G; de < H.length; de++)
            if (H[de] === ' ') {
              let ye = 0;
              for (let he = de - 1; he >= 0 && H[he] === '\\'; he--) ye++;
              if (ye % 2 === 0) {
                Ae = de;
                break;
              }
            }
          let X = ee + 1;
          return {
            completionMode: 'AT',
            query: N.substring(X, Ae),
            completionStart: X,
            completionEnd: Ae,
          };
        }
      }
      return { completionMode: 'IDLE', query: null, completionStart: -1, completionEnd: -1 };
    }, [F, G, t.lines]);
  Unr({
    enabled: U === 'AT',
    pattern: M || '',
    config: s,
    cwd: r,
    setSuggestions: m,
    setIsLoadingSuggestions: g,
  });
  let se = Hnr({
    enabled: U === 'SLASH',
    query: M,
    slashCommands: n,
    commandContext: i,
    setSuggestions: m,
    setIsLoadingSuggestions: g,
    setIsPerfectMatch: _,
  });
  ((0, CB.useEffect)(() => {
    (v(o.length > 0 ? 0 : -1), S(0));
  }, [o, v, S]),
    (0, CB.useEffect)(() => {
      if (U === 'IDLE' || a) {
        b();
        return;
      }
      E(p || o.length > 0);
    }, [U, o.length, p, a, b, E]));
  let j = (0, CB.useCallback)(
    (N) => {
      if (N < 0 || N >= o.length) return;
      let H = o[N].value,
        ee = Y,
        me = z;
      if (
        (U === 'SLASH' && ((ee = se.completionStart), (me = se.completionEnd)),
        ee === -1 || me === -1)
      )
        return;
      let Ae = H;
      (U === 'SLASH' &&
        ee === me &&
        ee > 1 &&
        (t.lines[F] || '')[ee - 1] !== ' ' &&
        (Ae = ' ' + Ae),
        (Ae += ' '),
        t.replaceRangeByOffset(uJ(t.lines, F, ee), uJ(t.lines, F, me), Ae));
    },
    [F, t, o, U, Y, z, se]
  );
  return {
    suggestions: o,
    activeSuggestionIndex: l,
    visibleStartIndex: u,
    showSuggestions: c,
    isLoadingSuggestions: p,
    isPerfectMatch: h,
    setActiveSuggestionIndex: v,
    setShowSuggestions: E,
    resetCompletionState: b,
    navigateUp: I,
    navigateDown: R,
    handleAutocomplete: j,
  };
}
var Ynr = qe(or(), 1);
var _he = !1,
  She = !1,
  bhe = !1;
async function qnr() {
  return _he
    ? She
    : new Promise((t) => {
        if (!process.stdin.isTTY || !process.stdout.isTTY) {
          ((_he = !0), t(!1));
          return;
        }
        let e = process.stdin.isRaw;
        e || process.stdin.setRawMode(!0);
        let r = '',
          n = !1,
          i = !1,
          a = (s) => {
            ((r += s.toString()),
              r.includes('\x1B[?') && r.includes('u') && (n = !0),
              r.includes('\x1B[?') &&
                r.includes('c') &&
                (i ||
                  ((i = !0),
                  process.stdin.removeListener('data', a),
                  e || process.stdin.setRawMode(!1),
                  n &&
                    (process.stdout.write('\x1B[>1u'),
                    (She = !0),
                    (bhe = !0),
                    process.on('exit', Gnr),
                    process.on('SIGTERM', Gnr)),
                  (_he = !0),
                  t(She))));
          };
        (process.stdin.on('data', a),
          process.stdout.write('\x1B[?u'),
          process.stdout.write('\x1B[c'),
          setTimeout(() => {
            i ||
              (process.stdin.removeListener('data', a),
              e || process.stdin.setRawMode(!1),
              (_he = !0),
              t(!1));
          }, 50));
      });
}
function Gnr() {
  bhe && (process.stdout.write('\x1B[<u'), (bhe = !1));
}
function $nr() {
  return bhe;
}
function jnr() {
  return She;
}
function Dhe() {
  let [t] = (0, Ynr.useState)({ supported: jnr(), enabled: $nr(), checking: !1 });
  return t;
}
var pJ = ((se) => (
    (se.RETURN = 'return'),
    (se.ESCAPE = 'escape'),
    (se.HOME = 'home'),
    (se.END = 'end'),
    (se.KILL_LINE_RIGHT = 'killLineRight'),
    (se.KILL_LINE_LEFT = 'killLineLeft'),
    (se.CLEAR_INPUT = 'clearInput'),
    (se.CLEAR_SCREEN = 'clearScreen'),
    (se.HISTORY_UP = 'historyUp'),
    (se.HISTORY_DOWN = 'historyDown'),
    (se.NAVIGATION_UP = 'navigationUp'),
    (se.NAVIGATION_DOWN = 'navigationDown'),
    (se.ACCEPT_SUGGESTION = 'acceptSuggestion'),
    (se.COMPLETION_UP = 'completionUp'),
    (se.COMPLETION_DOWN = 'completionDown'),
    (se.SUBMIT = 'submit'),
    (se.NEWLINE = 'newline'),
    (se.OPEN_EXTERNAL_EDITOR = 'openExternalEditor'),
    (se.PASTE_CLIPBOARD_IMAGE = 'pasteClipboardImage'),
    (se.SHOW_ERROR_DETAILS = 'showErrorDetails'),
    (se.TOGGLE_TOOL_DESCRIPTIONS = 'toggleToolDescriptions'),
    (se.TOGGLE_IDE_CONTEXT_DETAIL = 'toggleIDEContextDetail'),
    (se.QUIT = 'quit'),
    (se.EXIT = 'exit'),
    (se.SHOW_MORE_LINES = 'showMoreLines'),
    (se.REVERSE_SEARCH = 'reverseSearch'),
    (se.SUBMIT_REVERSE_SEARCH = 'submitReverseSearch'),
    (se.ACCEPT_SUGGESTION_REVERSE_SEARCH = 'acceptSuggestionReverseSearch'),
    se
  ))(pJ || {}),
  whe = {
    return: [{ key: 'return' }],
    escape: [{ key: 'escape' }],
    home: [{ key: 'a', ctrl: !0 }],
    end: [{ key: 'e', ctrl: !0 }],
    killLineRight: [{ key: 'k', ctrl: !0 }],
    killLineLeft: [{ key: 'u', ctrl: !0 }],
    clearInput: [{ key: 'c', ctrl: !0 }],
    clearScreen: [{ key: 'l', ctrl: !0 }],
    historyUp: [{ key: 'p', ctrl: !0 }],
    historyDown: [{ key: 'n', ctrl: !0 }],
    navigationUp: [{ key: 'up' }],
    navigationDown: [{ key: 'down' }],
    acceptSuggestion: [{ key: 'tab' }, { key: 'return', ctrl: !1 }],
    completionUp: [{ key: 'up' }, { key: 'p', ctrl: !0 }],
    completionDown: [{ key: 'down' }, { key: 'n', ctrl: !0 }],
    submit: [{ key: 'return', ctrl: !1, command: !1, paste: !1, shift: !1 }],
    newline: [
      { key: 'return', ctrl: !0 },
      { key: 'return', command: !0 },
      { key: 'return', paste: !0 },
      { key: 'return', shift: !0 },
      { key: 'j', ctrl: !0 },
    ],
    openExternalEditor: [
      { key: 'x', ctrl: !0 },
      { sequence: '', ctrl: !0 },
    ],
    pasteClipboardImage: [{ key: 'v', ctrl: !0 }],
    showErrorDetails: [{ key: 'o', ctrl: !0 }],
    toggleToolDescriptions: [{ key: 't', ctrl: !0 }],
    toggleIDEContextDetail: [{ key: 'g', ctrl: !0 }],
    quit: [{ key: 'c', ctrl: !0 }],
    exit: [{ key: 'd', ctrl: !0 }],
    showMoreLines: [{ key: 's', ctrl: !0 }],
    reverseSearch: [{ key: 'r', ctrl: !0 }],
    submitReverseSearch: [{ key: 'return', ctrl: !1 }],
    acceptSuggestionReverseSearch: [{ key: 'tab' }],
  };
function gBn(t, e) {
  let r = !1;
  if (t.key !== void 0) r = t.key === e.name;
  else if (t.sequence !== void 0) r = t.sequence === e.sequence;
  else return !1;
  return !(
    !r ||
    (t.ctrl !== void 0 && e.ctrl !== t.ctrl) ||
    (t.shift !== void 0 && e.shift !== t.shift) ||
    (t.command !== void 0 && e.meta !== t.command) ||
    (t.paste !== void 0 && e.paste !== t.paste)
  );
}
function EBn(t, e, r = whe) {
  return r[t].some((i) => gBn(i, e));
}
function yBn(t = whe) {
  let e = {};
  for (let r of Object.values(pJ)) e[r] = (n) => EBn(r, n, t);
  return e;
}
var Wa = yBn(whe);
import { exec as vBn } from 'child_process';
import { promisify as CBn } from 'util';
import * as O9 from 'fs/promises';
import * as fJ from 'path';
var Wnr = CBn(vBn);
async function znr() {
  if (process.platform !== 'darwin') return !1;
  try {
    let { stdout: t } = await Wnr(
      `osascript -e 'clipboard info' 2>/dev/null | grep -qE "\xABclass PNGf\xBB|TIFF picture|JPEG picture|GIF picture|\xABclass JPEG\xBB|\xABclass TIFF\xBB" && echo "true" || echo "false"`,
      { shell: '/bin/bash' }
    );
    return t.trim() === 'true';
  } catch {
    return !1;
  }
}
async function Jnr(t) {
  if (process.platform !== 'darwin') return null;
  try {
    let e = t || process.cwd(),
      r = fJ.join(e, '.kodacli-clipboard');
    await O9.mkdir(r, { recursive: !0 });
    let n = new Date().getTime(),
      i = [
        { class: 'PNGf', extension: 'png' },
        { class: 'JPEG', extension: 'jpg' },
        { class: 'TIFF', extension: 'tiff' },
        { class: 'GIFf', extension: 'gif' },
      ];
    for (let a of i) {
      let s = fJ.join(r, `clipboard-${n}.${a.extension}`),
        o = `
        try
          set imageData to the clipboard as \xABclass ${a.class}\xBB
          set fileRef to open for access POSIX file "${s}" with write permission
          write imageData to fileRef
          close access fileRef
          return "success"
        on error errMsg
          try
            close access POSIX file "${s}"
          end try
          return "error"
        end try
      `,
        { stdout: l } = await Wnr(`osascript -e '${o}'`);
      if (l.trim() === 'success')
        try {
          if ((await O9.stat(s)).size > 0) return s;
        } catch {}
      try {
        await O9.unlink(s);
      } catch {}
    }
    return null;
  } catch (e) {
    return (console.error('Error saving clipboard image:', e), null);
  }
}
async function Knr(t) {
  try {
    let e = t || process.cwd(),
      r = fJ.join(e, '.kodacli-clipboard'),
      n = await O9.readdir(r),
      i = Date.now() - 60 * 60 * 1e3;
    for (let a of n)
      if (
        a.startsWith('clipboard-') &&
        (a.endsWith('.png') || a.endsWith('.jpg') || a.endsWith('.tiff') || a.endsWith('.gif'))
      ) {
        let s = fJ.join(r, a);
        (await O9.stat(s)).mtimeMs < i && (await O9.unlink(s));
      }
  } catch {}
}
var P1 = qe(Ft(), 1);
import * as Xnr from 'path';
var Znr = ({
  buffer: t,
  onSubmit: e,
  userMessages: r,
  onClearScreen: n,
  config: i,
  slashCommands: a,
  commandContext: s,
  placeholder: o = '  Type your message or @path/to/file',
  focus: l = !0,
  inputWidth: u,
  suggestionsWidth: c,
  shellModeActive: p,
  setShellModeActive: h,
  onEscapePromptChange: m,
  vimHandleInput: E,
}) => {
  let [v, g] = (0, Fc.useState)(!1),
    [_, S] = (0, Fc.useState)(0),
    [b, I] = (0, Fc.useState)(!1),
    R = (0, Fc.useRef)(null),
    F = Dhe(),
    [G, U] = (0, Fc.useState)(i.getWorkspaceContext().getDirectories()),
    M = i.getWorkspaceContext().getDirectories();
  (0, Fc.useEffect)(() => {
    G.length !== M.length && U(M);
  }, [G.length, M]);
  let [Y, z] = (0, Fc.useState)(!1),
    [se, j] = (0, Fc.useState)(''),
    [N, H] = (0, Fc.useState)([0, 0]),
    ee = Pnr(i.getProjectRoot()),
    me = ee.history,
    Ae = Vnr(t, G, i.getTargetDir(), a, s, Y, i),
    X = Qnr(t, me, Y),
    re = Ae.resetCompletionState,
    de = X.resetCompletionState,
    ye = (0, Fc.useCallback)(() => {
      (R.current && (clearTimeout(R.current), (R.current = null)), S(0), I(!1));
    }, []);
  ((0, Fc.useEffect)(() => {
    m && m(b);
  }, [b, m]),
    (0, Fc.useEffect)(
      () => () => {
        R.current && clearTimeout(R.current);
      },
      []
    ));
  let he = (0, Fc.useCallback)(
      (ue) => {
        (p && ee.addCommandToHistory(ue), t.setText(''), e(ue), re(), de());
      },
      [e, t, re, p, ee, de]
    ),
    be = (0, Fc.useCallback)(
      (ue) => {
        (t.setText(ue), g(!0));
      },
      [t, g]
    ),
    De = Inr({
      userMessages: r,
      onSubmit: he,
      isActive: (!Ae.showSuggestions || Ae.suggestions.length === 1) && !p,
      currentQuery: t.text,
      onChange: be,
    });
  (0, Fc.useEffect)(() => {
    v && (re(), de(), g(!1));
  }, [v, t.text, re, g, de]);
  let ce = (0, Fc.useCallback)(async () => {
      try {
        if (await znr()) {
          let ue = await Jnr(i.getTargetDir());
          if (ue) {
            Knr(i.getTargetDir()).catch(() => {});
            let ae = `@${Xnr.relative(i.getTargetDir(), ue)}`,
              k = t.text,
              [$, fe] = t.cursor,
              Z = 0;
            for (let He = 0; He < $; He++) Z += t.lines[He].length + 1;
            Z += fe;
            let Q = ae,
              ge = Z > 0 ? k[Z - 1] : '',
              xe = Z < k.length ? k[Z] : '';
            (ge &&
              ge !== ' ' &&
              ge !==
                `
` &&
              (Q = ' ' + Q),
              (!xe ||
                (xe !== ' ' &&
                  xe !==
                    `
`)) &&
                (Q = Q + ' '),
              t.replaceRangeByOffset(Z, Z, Q));
          }
        }
      } catch (ue) {
        console.error('Error handling clipboard image:', ue);
      }
    }, [t, i]),
    Ce = (0, Fc.useCallback)(
      (ue) => {
        if (!(!l && !ue.paste) && !(E && E(ue))) {
          if (
            (ue.name !== 'escape' && (_ > 0 || b) && ye(),
            ue.sequence === '!' && t.text === '' && !Ae.showSuggestions)
          ) {
            (h(!p), t.setText(''));
            return;
          }
          if (Wa.escape(ue)) {
            if (Y) {
              (z(!1), X.resetCompletionState(), t.setText(se));
              let ve = uJ(t.lines, N[0], N[1]);
              t.moveToOffset(ve);
              return;
            }
            if (p) {
              (h(!1), ye());
              return;
            }
            if (Ae.showSuggestions) {
              (Ae.resetCompletionState(), ye());
              return;
            }
            if (_ === 0) {
              if (t.text === '') return;
              (S(1),
                I(!0),
                R.current && clearTimeout(R.current),
                (R.current = setTimeout(() => {
                  ye();
                }, 500)));
            } else (t.setText(''), re(), ye());
            return;
          }
          if (p && Wa.reverseSearch(ue)) {
            (z(!0), j(t.text), H(t.cursor));
            return;
          }
          if (Wa.clearScreen(ue)) {
            n();
            return;
          }
          if (Y) {
            let {
              activeSuggestionIndex: ve,
              navigateUp: ae,
              navigateDown: k,
              showSuggestions: $,
              suggestions: fe,
            } = X;
            if ($) {
              if (Wa.navigationUp(ue)) {
                ae();
                return;
              }
              if (Wa.navigationDown(ue)) {
                k();
                return;
              }
              if (Wa.acceptSuggestionReverseSearch(ue)) {
                (X.handleAutocomplete(ve), X.resetCompletionState(), z(!1));
                return;
              }
            }
            if (Wa.submitReverseSearch(ue)) {
              let Z = $ && ve > -1 ? fe[ve].value : t.text;
              (he(Z), X.resetCompletionState(), z(!1));
              return;
            }
            if (Wa.navigationUp(ue) || Wa.navigationDown(ue)) return;
          }
          if (Ae.isPerfectMatch && Wa.return(ue)) {
            he(t.text);
            return;
          }
          if (Ae.showSuggestions) {
            if (Ae.suggestions.length > 1) {
              if (Wa.completionUp(ue)) {
                Ae.navigateUp();
                return;
              }
              if (Wa.completionDown(ue)) {
                Ae.navigateDown();
                return;
              }
            }
            if (Wa.acceptSuggestion(ue)) {
              if (Ae.suggestions.length > 0) {
                let ve = Ae.activeSuggestionIndex === -1 ? 0 : Ae.activeSuggestionIndex;
                ve < Ae.suggestions.length && Ae.handleAutocomplete(ve);
              }
              return;
            }
          }
          if (p) {
            if (Wa.navigationUp(ue)) {
              let ve = ee.getPreviousCommand();
              ve !== null && t.setText(ve);
              return;
            }
            if (Wa.navigationDown(ue)) {
              let ve = ee.getNextCommand();
              ve !== null && t.setText(ve);
              return;
            }
          } else {
            if (Wa.historyUp(ue)) {
              De.navigateUp();
              return;
            }
            if (Wa.historyDown(ue)) {
              De.navigateDown();
              return;
            }
            if (
              Wa.navigationUp(ue) &&
              (t.allVisualLines.length === 1 ||
                (t.visualCursor[0] === 0 && t.visualScrollRow === 0))
            ) {
              De.navigateUp();
              return;
            }
            if (
              Wa.navigationDown(ue) &&
              (t.allVisualLines.length === 1 || t.visualCursor[0] === t.allVisualLines.length - 1)
            ) {
              De.navigateDown();
              return;
            }
          }
          if (Wa.submit(ue)) {
            if (t.text.trim()) {
              let [ve, ae] = t.cursor,
                k = t.lines[ve];
              (ae > 0 ? Mc(k, ae - 1, ae) : '') === '\\'
                ? (t.backspace(), t.newline())
                : he(t.text);
            }
            return;
          }
          if (Wa.newline(ue)) {
            t.newline();
            return;
          }
          if (Wa.home(ue)) {
            t.move('home');
            return;
          }
          if (Wa.end(ue)) {
            (t.move('end'), t.moveToOffset(ai(t.text)));
            return;
          }
          if (Wa.clearInput(ue)) {
            t.text.length > 0 && (t.setText(''), re());
            return;
          }
          if (Wa.killLineRight(ue)) {
            t.killLineRight();
            return;
          }
          if (Wa.killLineLeft(ue)) {
            t.killLineLeft();
            return;
          }
          if (Wa.openExternalEditor(ue)) {
            t.openInExternalEditor();
            return;
          }
          if (Wa.pasteClipboardImage(ue)) {
            ce();
            return;
          }
          t.handleInput(ue);
        }
      },
      [l, t, Ae, p, h, n, De, he, ee, X, ce, re, _, b, ye, E, Y, se, N]
    );
  ja(Ce, { isActive: !0, kittyProtocolEnabled: F.enabled, config: i });
  let J = t.viewportVisualLines,
    [te, ie] = t.visualCursor,
    pe = t.visualScrollRow;
  return (0, P1.jsxs)(P1.Fragment, {
    children: [
      (0, P1.jsxs)(Fe, {
        borderStyle: 'round',
        borderColor: p ? Pa.status.warning : Pa.border.focused,
        paddingX: 1,
        children: [
          (0, P1.jsx)(Se, {
            color: p ? Pa.status.warning : Pa.text.accent,
            children: p
              ? Y
                ? (0, P1.jsx)(Se, { color: Pa.text.link, children: '(r:) ' })
                : '! '
              : '> ',
          }),
          (0, P1.jsx)(Fe, {
            flexGrow: 1,
            flexDirection: 'column',
            children:
              t.text.length === 0 && o
                ? l
                  ? (0, P1.jsxs)(Se, {
                      children: [
                        Ihe.default.inverse(o.slice(0, 1)),
                        (0, P1.jsx)(Se, { color: Pa.text.secondary, children: o.slice(1) }),
                      ],
                    })
                  : (0, P1.jsx)(Se, { color: Pa.text.secondary, children: o })
                : J.map((ue, ve) => {
                    let ae = te - pe,
                      k = Mc(ue, 0, u),
                      $ = F1(k);
                    if (($ < u && (k = k + ' '.repeat(u - $)), l && ve === ae)) {
                      let fe = ie;
                      if (fe >= 0)
                        if (fe < ai(k)) {
                          let Z = Mc(k, fe, fe + 1) || ' ',
                            Q = Ihe.default.inverse(Z);
                          k = Mc(k, 0, fe) + Q + Mc(k, fe + 1);
                        } else fe === ai(k) && ai(k) === u && (k = k + Ihe.default.inverse(' '));
                    }
                    return (0, P1.jsx)(Se, { children: k }, `line-${ve}`);
                  }),
          }),
        ],
      }),
      Ae.showSuggestions &&
        (0, P1.jsx)(Fe, {
          paddingRight: 2,
          children: (0, P1.jsx)(pVe, {
            suggestions: Ae.suggestions,
            activeIndex: Ae.activeSuggestionIndex,
            isLoading: Ae.isLoadingSuggestions,
            width: c,
            scrollOffset: Ae.visibleStartIndex,
            userInput: t.text,
          }),
        }),
      Y &&
        (0, P1.jsx)(Fe, {
          paddingRight: 2,
          children: (0, P1.jsx)(pVe, {
            suggestions: X.suggestions,
            activeIndex: X.activeSuggestionIndex,
            isLoading: X.isLoadingSuggestions,
            width: c,
            scrollOffset: X.visibleStartIndex,
            userInput: t.text,
          }),
        }),
    ],
  });
};
Qn();
var mJ = qe(Ft(), 1);
var eir = ({ errorCount: t }) =>
  t === 0
    ? null
    : (0, mJ.jsx)(Fe, {
        children:
          t > 0 &&
          (0, mJ.jsxs)(Se, {
            color: Ue.AccentRed,
            children: [
              '',
              ' ',
              t,
              ' error',
              t > 1 ? 's' : '',
              ' ',
              (0, mJ.jsx)(Se, { color: Ue.Gray, children: '(ctrl+o for details)' }),
            ],
          }),
      });
import gJ from 'node:process';
import SBn from 'node:path';
var hJ = qe(or(), 1);
import _Bn from 'node:process';
var AJ = qe(Ft(), 1);
var tir = () => {
  let [t, e] = (0, hJ.useState)(''),
    [r, n] = (0, hJ.useState)(Ue.Gray);
  return (
    (0, hJ.useEffect)(() => {
      let i = () => {
          let s = _Bn.memoryUsage().rss;
          (e(dk(s)), n(s >= 2147483648 ? Ue.AccentRed : Ue.Gray));
        },
        a = setInterval(i, 2e3);
      return (i(), () => clearInterval(a));
    }, []),
    (0, AJ.jsxs)(Fe, {
      children: [
        (0, AJ.jsx)(Se, { color: Ue.Gray, children: '| ' }),
        (0, AJ.jsx)(Se, { color: r, children: t }),
      ],
    })
  );
};
Qn();
var nir = qe(Ft(), 1);
var rir = ({ promptTokenCount: t, model: e }) => {
  let r = oz(e),
    n = Number.isFinite(r) && r > 0 ? r : 0,
    i = n > 0 ? t / n : 1,
    s = ((1 - Math.min(Math.max(i, 0), 1)) * 100).toFixed(0);
  return (0, nir.jsx)(Se, {
    color: Ue.Gray,
    children: Ie.t('app.context.contextLeft', { percentLeft: s }),
  });
};
var Fk = qe(or(), 1);
var air = qe(Ft(), 1);
var iir = () => {
  let t = (0, Fk.useRef)(0),
    [e, r] = (0, Fk.useState)(!1);
  return (
    (0, Fk.useEffect)(() => {
      t.current++;
    }),
    ja(
      (n) => {
        n.ctrl && n.name === 'b' && r((i) => !i);
      },
      { isActive: !0 }
    ),
    e
      ? (0, air.jsxs)(Se, { color: Ue.AccentYellow, children: ['Renders: ', t.current, ' '] })
      : null
  );
};
var za = qe(Ft(), 1);
var sir = ({
  model: t,
  targetDir: e,
  branchName: r,
  debugMode: n,
  debugMessage: i,
  corgiMode: a,
  errorCount: s,
  showErrorDetails: o,
  showMemoryUsage: l,
  promptTokenCount: u,
  nightly: c,
  vimMode: p,
  isTrustedFolder: h,
  trialRequestsUsed: m,
  trialRequestsLimit: E,
}) => {
  let { columns: v } = w2(),
    g = Ab(v),
    _ =
      typeof m == 'number'
        ? Ie.t('app.trial.footerLabel', {
            used: m.toString(),
            limitPart: typeof E == 'number' ? `/${E}` : '',
          })
        : null,
    S = Math.max(20, Math.floor(v * 0.4)),
    b = g ? SBn.basename(dI(e)) : od(dI(e), S);
  return (0, za.jsxs)(Fe, {
    justifyContent: 'space-between',
    width: '100%',
    flexDirection: g ? 'column' : 'row',
    alignItems: g ? 'flex-start' : 'center',
    children: [
      (0, za.jsxs)(Fe, {
        children: [
          n && (0, za.jsx)(iir, {}),
          p && (0, za.jsxs)(Se, { color: Pa.text.secondary, children: ['[', p, '] '] }),
          c
            ? (0, za.jsx)(EB, {
                colors: Pa.ui.gradient,
                children: (0, za.jsxs)(Se, {
                  children: [b, r && (0, za.jsxs)(Se, { children: [' (', r, '*)'] })],
                }),
              })
            : (0, za.jsxs)(Se, {
                color: Pa.text.link,
                children: [
                  b,
                  r && (0, za.jsxs)(Se, { color: Pa.text.secondary, children: [' (', r, '*)'] }),
                ],
              }),
          n && (0, za.jsx)(Se, { color: Pa.status.error, children: ' ' + (i || '--debug') }),
        ],
      }),
      (0, za.jsx)(Fe, {
        flexGrow: g ? 0 : 1,
        alignItems: 'center',
        justifyContent: g ? 'flex-start' : 'center',
        display: 'flex',
        paddingX: g ? 0 : 1,
        paddingTop: g ? 1 : 0,
        children:
          h === !1
            ? (0, za.jsx)(Se, { color: Pa.status.warning, children: 'untrusted' })
            : gJ.env.SANDBOX && gJ.env.SANDBOX !== 'sandbox-exec'
              ? (0, za.jsx)(Se, {
                  color: 'green',
                  children: gJ.env.SANDBOX.replace(/^gemini-(?:cli-)?/, ''),
                })
              : gJ.env.SANDBOX === 'sandbox-exec'
                ? (0, za.jsxs)(Se, {
                    color: Pa.status.warning,
                    children: [
                      'macOS Seatbelt',
                      ' ',
                      (0, za.jsxs)(Se, {
                        color: Pa.text.secondary,
                        children: ['(', gJ.env.SEATBELT_PROFILE, ')'],
                      }),
                    ],
                  })
                : (0, za.jsxs)(Se, {
                    color: Pa.status.error,
                    children: [
                      'no sandbox ',
                      (0, za.jsxs)(Se, {
                        color: Pa.text.secondary,
                        children: ['(', Ie.t('app.docs.seeDocs'), ')'],
                      }),
                    ],
                  }),
      }),
      (0, za.jsxs)(Fe, {
        alignItems: 'center',
        paddingTop: g ? 1 : 0,
        children: [
          (0, za.jsxs)(Se, {
            color: Pa.text.accent,
            children: [g ? '' : ' ', t, ' ', (0, za.jsx)(rir, { promptTokenCount: u, model: t })],
          }),
          _ &&
            (0, za.jsxs)(Se, {
              children: [
                (0, za.jsx)(Se, { color: Pa.ui.symbol, children: ' | ' }),
                (0, za.jsx)(Se, { color: Pa.text.secondary, children: _ }),
              ],
            }),
          a &&
            (0, za.jsxs)(Se, {
              children: [
                (0, za.jsx)(Se, { color: Pa.ui.symbol, children: '| ' }),
                (0, za.jsx)(Se, { color: Pa.status.error, children: '' }),
                (0, za.jsx)(Se, { color: Pa.text.primary, children: '(\xB4' }),
                (0, za.jsx)(Se, { color: Pa.status.error, children: '' }),
                (0, za.jsx)(Se, { color: Pa.text.primary, children: '`)' }),
                (0, za.jsx)(Se, { color: Pa.status.error, children: ' ' }),
              ],
            }),
          !o &&
            s > 0 &&
            (0, za.jsxs)(Fe, {
              children: [
                (0, za.jsx)(Se, { color: Pa.ui.symbol, children: '| ' }),
                (0, za.jsx)(eir, { errorCount: s }),
              ],
            }),
          l && (0, za.jsx)(tir, {}),
        ],
      }),
    ],
  });
};
var qv = qe(or(), 1);
import ZRn from 'crypto';
var Uhe = qe(or(), 1);
function bBn(t) {
  let e = t.regex,
    r = t.COMMENT('//', '$', { contains: [{ begin: /\\\n/ }] }),
    n = 'decltype\\(auto\\)',
    i = '[a-zA-Z_]\\w*::',
    s = '(?!struct)(' + n + '|' + e.optional(i) + '[a-zA-Z_]\\w*' + e.optional('<[^<>]+>') + ')',
    o = { className: 'type', begin: '\\b[a-z\\d_]*_t\\b' },
    u = {
      className: 'string',
      variants: [
        { begin: '(u8?|U|L)?"', end: '"', illegal: '\\n', contains: [t.BACKSLASH_ESCAPE] },
        {
          begin: "(u8?|U|L)?'(" + '\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)' + '|.)',
          end: "'",
          illegal: '.',
        },
        t.END_SAME_AS_BEGIN({
          begin: /(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,
          end: /\)([^()\\ ]{0,16})"/,
        }),
      ],
    },
    c = {
      className: 'number',
      variants: [
        {
          begin:
            "[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)",
        },
        {
          begin:
            "[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)",
        },
      ],
      relevance: 0,
    },
    p = {
      className: 'meta',
      begin: /#\s*[a-z]+\b/,
      end: /$/,
      keywords: {
        keyword:
          'if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include',
      },
      contains: [
        { begin: /\\\n/, relevance: 0 },
        t.inherit(u, { className: 'string' }),
        { className: 'string', begin: /<.*?>/ },
        r,
        t.C_BLOCK_COMMENT_MODE,
      ],
    },
    h = { className: 'title', begin: e.optional(i) + t.IDENT_RE, relevance: 0 },
    m = e.optional(i) + t.IDENT_RE + '\\s*\\(',
    E = [
      'alignas',
      'alignof',
      'and',
      'and_eq',
      'asm',
      'atomic_cancel',
      'atomic_commit',
      'atomic_noexcept',
      'auto',
      'bitand',
      'bitor',
      'break',
      'case',
      'catch',
      'class',
      'co_await',
      'co_return',
      'co_yield',
      'compl',
      'concept',
      'const_cast|10',
      'consteval',
      'constexpr',
      'constinit',
      'continue',
      'decltype',
      'default',
      'delete',
      'do',
      'dynamic_cast|10',
      'else',
      'enum',
      'explicit',
      'export',
      'extern',
      'false',
      'final',
      'for',
      'friend',
      'goto',
      'if',
      'import',
      'inline',
      'module',
      'mutable',
      'namespace',
      'new',
      'noexcept',
      'not',
      'not_eq',
      'nullptr',
      'operator',
      'or',
      'or_eq',
      'override',
      'private',
      'protected',
      'public',
      'reflexpr',
      'register',
      'reinterpret_cast|10',
      'requires',
      'return',
      'sizeof',
      'static_assert',
      'static_cast|10',
      'struct',
      'switch',
      'synchronized',
      'template',
      'this',
      'thread_local',
      'throw',
      'transaction_safe',
      'transaction_safe_dynamic',
      'true',
      'try',
      'typedef',
      'typeid',
      'typename',
      'union',
      'using',
      'virtual',
      'volatile',
      'while',
      'xor',
      'xor_eq',
    ],
    v = [
      'bool',
      'char',
      'char16_t',
      'char32_t',
      'char8_t',
      'double',
      'float',
      'int',
      'long',
      'short',
      'void',
      'wchar_t',
      'unsigned',
      'signed',
      'const',
      'static',
    ],
    g = [
      'any',
      'auto_ptr',
      'barrier',
      'binary_semaphore',
      'bitset',
      'complex',
      'condition_variable',
      'condition_variable_any',
      'counting_semaphore',
      'deque',
      'false_type',
      'flat_map',
      'flat_set',
      'future',
      'imaginary',
      'initializer_list',
      'istringstream',
      'jthread',
      'latch',
      'lock_guard',
      'multimap',
      'multiset',
      'mutex',
      'optional',
      'ostringstream',
      'packaged_task',
      'pair',
      'promise',
      'priority_queue',
      'queue',
      'recursive_mutex',
      'recursive_timed_mutex',
      'scoped_lock',
      'set',
      'shared_future',
      'shared_lock',
      'shared_mutex',
      'shared_timed_mutex',
      'shared_ptr',
      'stack',
      'string_view',
      'stringstream',
      'timed_mutex',
      'thread',
      'true_type',
      'tuple',
      'unique_lock',
      'unique_ptr',
      'unordered_map',
      'unordered_multimap',
      'unordered_multiset',
      'unordered_set',
      'variant',
      'vector',
      'weak_ptr',
      'wstring',
      'wstring_view',
    ],
    _ = [
      'abort',
      'abs',
      'acos',
      'apply',
      'as_const',
      'asin',
      'atan',
      'atan2',
      'calloc',
      'ceil',
      'cerr',
      'cin',
      'clog',
      'cos',
      'cosh',
      'cout',
      'declval',
      'endl',
      'exchange',
      'exit',
      'exp',
      'fabs',
      'floor',
      'fmod',
      'forward',
      'fprintf',
      'fputs',
      'free',
      'frexp',
      'fscanf',
      'future',
      'invoke',
      'isalnum',
      'isalpha',
      'iscntrl',
      'isdigit',
      'isgraph',
      'islower',
      'isprint',
      'ispunct',
      'isspace',
      'isupper',
      'isxdigit',
      'labs',
      'launder',
      'ldexp',
      'log',
      'log10',
      'make_pair',
      'make_shared',
      'make_shared_for_overwrite',
      'make_tuple',
      'make_unique',
      'malloc',
      'memchr',
      'memcmp',
      'memcpy',
      'memset',
      'modf',
      'move',
      'pow',
      'printf',
      'putchar',
      'puts',
      'realloc',
      'scanf',
      'sin',
      'sinh',
      'snprintf',
      'sprintf',
      'sqrt',
      'sscanf',
      'std',
      'stderr',
      'stdin',
      'stdout',
      'strcat',
      'strchr',
      'strcmp',
      'strcpy',
      'strcspn',
      'strlen',
      'strncat',
      'strncmp',
      'strncpy',
      'strpbrk',
      'strrchr',
      'strspn',
      'strstr',
      'swap',
      'tan',
      'tanh',
      'terminate',
      'to_underlying',
      'tolower',
      'toupper',
      'vfprintf',
      'visit',
      'vprintf',
      'vsprintf',
    ],
    I = {
      type: v,
      keyword: E,
      literal: ['NULL', 'false', 'nullopt', 'nullptr', 'true'],
      built_in: ['_Pragma'],
      _type_hints: g,
    },
    R = {
      className: 'function.dispatch',
      relevance: 0,
      keywords: { _hint: _ },
      begin: e.concat(
        /\b/,
        /(?!decltype)/,
        /(?!if)/,
        /(?!for)/,
        /(?!switch)/,
        /(?!while)/,
        t.IDENT_RE,
        e.lookahead(/(<[^<>]+>|)\s*\(/)
      ),
    },
    F = [R, p, o, r, t.C_BLOCK_COMMENT_MODE, c, u],
    G = {
      variants: [
        { begin: /=/, end: /;/ },
        { begin: /\(/, end: /\)/ },
        { beginKeywords: 'new throw return else', end: /;/ },
      ],
      keywords: I,
      contains: F.concat([
        { begin: /\(/, end: /\)/, keywords: I, contains: F.concat(['self']), relevance: 0 },
      ]),
      relevance: 0,
    },
    U = {
      className: 'function',
      begin: '(' + s + '[\\*&\\s]+)+' + m,
      returnBegin: !0,
      end: /[{;=]/,
      excludeEnd: !0,
      keywords: I,
      illegal: /[^\w\s\*&:<>.]/,
      contains: [
        { begin: n, keywords: I, relevance: 0 },
        { begin: m, returnBegin: !0, contains: [h], relevance: 0 },
        { begin: /::/, relevance: 0 },
        { begin: /:/, endsWithParent: !0, contains: [u, c] },
        { relevance: 0, match: /,/ },
        {
          className: 'params',
          begin: /\(/,
          end: /\)/,
          keywords: I,
          relevance: 0,
          contains: [
            r,
            t.C_BLOCK_COMMENT_MODE,
            u,
            c,
            o,
            {
              begin: /\(/,
              end: /\)/,
              keywords: I,
              relevance: 0,
              contains: ['self', r, t.C_BLOCK_COMMENT_MODE, u, c, o],
            },
          ],
        },
        o,
        r,
        t.C_BLOCK_COMMENT_MODE,
        p,
      ],
    };
  return {
    name: 'C++',
    aliases: ['cc', 'c++', 'h++', 'hpp', 'hh', 'hxx', 'cxx'],
    keywords: I,
    illegal: '</',
    classNameAliases: { 'function.dispatch': 'built_in' },
    contains: [].concat(G, U, R, F, [
      p,
      {
        begin:
          '\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)',
        end: '>',
        keywords: I,
        contains: ['self', o],
      },
      { begin: t.IDENT_RE + '::', keywords: I },
      {
        match: [/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/, /\s+/, /\w+/],
        className: { 1: 'keyword', 3: 'title.class' },
      },
    ]),
  };
}
function oir(t) {
  let e = {
      type: ['boolean', 'byte', 'word', 'String'],
      built_in: [
        'KeyboardController',
        'MouseController',
        'SoftwareSerial',
        'EthernetServer',
        'EthernetClient',
        'LiquidCrystal',
        'RobotControl',
        'GSMVoiceCall',
        'EthernetUDP',
        'EsploraTFT',
        'HttpClient',
        'RobotMotor',
        'WiFiClient',
        'GSMScanner',
        'FileSystem',
        'Scheduler',
        'GSMServer',
        'YunClient',
        'YunServer',
        'IPAddress',
        'GSMClient',
        'GSMModem',
        'Keyboard',
        'Ethernet',
        'Console',
        'GSMBand',
        'Esplora',
        'Stepper',
        'Process',
        'WiFiUDP',
        'GSM_SMS',
        'Mailbox',
        'USBHost',
        'Firmata',
        'PImage',
        'Client',
        'Server',
        'GSMPIN',
        'FileIO',
        'Bridge',
        'Serial',
        'EEPROM',
        'Stream',
        'Mouse',
        'Audio',
        'Servo',
        'File',
        'Task',
        'GPRS',
        'WiFi',
        'Wire',
        'TFT',
        'GSM',
        'SPI',
        'SD',
      ],
      _hints: [
        'setup',
        'loop',
        'runShellCommandAsynchronously',
        'analogWriteResolution',
        'retrieveCallingNumber',
        'printFirmwareVersion',
        'analogReadResolution',
        'sendDigitalPortPair',
        'noListenOnLocalhost',
        'readJoystickButton',
        'setFirmwareVersion',
        'readJoystickSwitch',
        'scrollDisplayRight',
        'getVoiceCallStatus',
        'scrollDisplayLeft',
        'writeMicroseconds',
        'delayMicroseconds',
        'beginTransmission',
        'getSignalStrength',
        'runAsynchronously',
        'getAsynchronously',
        'listenOnLocalhost',
        'getCurrentCarrier',
        'readAccelerometer',
        'messageAvailable',
        'sendDigitalPorts',
        'lineFollowConfig',
        'countryNameWrite',
        'runShellCommand',
        'readStringUntil',
        'rewindDirectory',
        'readTemperature',
        'setClockDivider',
        'readLightSensor',
        'endTransmission',
        'analogReference',
        'detachInterrupt',
        'countryNameRead',
        'attachInterrupt',
        'encryptionType',
        'readBytesUntil',
        'robotNameWrite',
        'readMicrophone',
        'robotNameRead',
        'cityNameWrite',
        'userNameWrite',
        'readJoystickY',
        'readJoystickX',
        'mouseReleased',
        'openNextFile',
        'scanNetworks',
        'noInterrupts',
        'digitalWrite',
        'beginSpeaker',
        'mousePressed',
        'isActionDone',
        'mouseDragged',
        'displayLogos',
        'noAutoscroll',
        'addParameter',
        'remoteNumber',
        'getModifiers',
        'keyboardRead',
        'userNameRead',
        'waitContinue',
        'processInput',
        'parseCommand',
        'printVersion',
        'readNetworks',
        'writeMessage',
        'blinkVersion',
        'cityNameRead',
        'readMessage',
        'setDataMode',
        'parsePacket',
        'isListening',
        'setBitOrder',
        'beginPacket',
        'isDirectory',
        'motorsWrite',
        'drawCompass',
        'digitalRead',
        'clearScreen',
        'serialEvent',
        'rightToLeft',
        'setTextSize',
        'leftToRight',
        'requestFrom',
        'keyReleased',
        'compassRead',
        'analogWrite',
        'interrupts',
        'WiFiServer',
        'disconnect',
        'playMelody',
        'parseFloat',
        'autoscroll',
        'getPINUsed',
        'setPINUsed',
        'setTimeout',
        'sendAnalog',
        'readSlider',
        'analogRead',
        'beginWrite',
        'createChar',
        'motorsStop',
        'keyPressed',
        'tempoWrite',
        'readButton',
        'subnetMask',
        'debugPrint',
        'macAddress',
        'writeGreen',
        'randomSeed',
        'attachGPRS',
        'readString',
        'sendString',
        'remotePort',
        'releaseAll',
        'mouseMoved',
        'background',
        'getXChange',
        'getYChange',
        'answerCall',
        'getResult',
        'voiceCall',
        'endPacket',
        'constrain',
        'getSocket',
        'writeJSON',
        'getButton',
        'available',
        'connected',
        'findUntil',
        'readBytes',
        'exitValue',
        'readGreen',
        'writeBlue',
        'startLoop',
        'IPAddress',
        'isPressed',
        'sendSysex',
        'pauseMode',
        'gatewayIP',
        'setCursor',
        'getOemKey',
        'tuneWrite',
        'noDisplay',
        'loadImage',
        'switchPIN',
        'onRequest',
        'onReceive',
        'changePIN',
        'playFile',
        'noBuffer',
        'parseInt',
        'overflow',
        'checkPIN',
        'knobRead',
        'beginTFT',
        'bitClear',
        'updateIR',
        'bitWrite',
        'position',
        'writeRGB',
        'highByte',
        'writeRed',
        'setSpeed',
        'readBlue',
        'noStroke',
        'remoteIP',
        'transfer',
        'shutdown',
        'hangCall',
        'beginSMS',
        'endWrite',
        'attached',
        'maintain',
        'noCursor',
        'checkReg',
        'checkPUK',
        'shiftOut',
        'isValid',
        'shiftIn',
        'pulseIn',
        'connect',
        'println',
        'localIP',
        'pinMode',
        'getIMEI',
        'display',
        'noBlink',
        'process',
        'getBand',
        'running',
        'beginSD',
        'drawBMP',
        'lowByte',
        'setBand',
        'release',
        'bitRead',
        'prepare',
        'pointTo',
        'readRed',
        'setMode',
        'noFill',
        'remove',
        'listen',
        'stroke',
        'detach',
        'attach',
        'noTone',
        'exists',
        'buffer',
        'height',
        'bitSet',
        'circle',
        'config',
        'cursor',
        'random',
        'IRread',
        'setDNS',
        'endSMS',
        'getKey',
        'micros',
        'millis',
        'begin',
        'print',
        'write',
        'ready',
        'flush',
        'width',
        'isPIN',
        'blink',
        'clear',
        'press',
        'mkdir',
        'rmdir',
        'close',
        'point',
        'yield',
        'image',
        'BSSID',
        'click',
        'delay',
        'read',
        'text',
        'move',
        'peek',
        'beep',
        'rect',
        'line',
        'open',
        'seek',
        'fill',
        'size',
        'turn',
        'stop',
        'home',
        'find',
        'step',
        'tone',
        'sqrt',
        'RSSI',
        'SSID',
        'end',
        'bit',
        'tan',
        'cos',
        'sin',
        'pow',
        'map',
        'abs',
        'max',
        'min',
        'get',
        'run',
        'put',
      ],
      literal: [
        'DIGITAL_MESSAGE',
        'FIRMATA_STRING',
        'ANALOG_MESSAGE',
        'REPORT_DIGITAL',
        'REPORT_ANALOG',
        'INPUT_PULLUP',
        'SET_PIN_MODE',
        'INTERNAL2V56',
        'SYSTEM_RESET',
        'LED_BUILTIN',
        'INTERNAL1V1',
        'SYSEX_START',
        'INTERNAL',
        'EXTERNAL',
        'DEFAULT',
        'OUTPUT',
        'INPUT',
        'HIGH',
        'LOW',
      ],
    },
    r = bBn(t),
    n = r.keywords;
  return (
    (n.type = [...n.type, ...e.type]),
    (n.literal = [...n.literal, ...e.literal]),
    (n.built_in = [...n.built_in, ...e.built_in]),
    (n._hints = e._hints),
    (r.name = 'Arduino'),
    (r.aliases = ['ino']),
    (r.supersetOf = 'cpp'),
    r
  );
}
function lir(t) {
  let e = t.regex,
    r = {},
    n = { begin: /\$\{/, end: /\}/, contains: ['self', { begin: /:-/, contains: [r] }] };
  Object.assign(r, {
    className: 'variable',
    variants: [{ begin: e.concat(/\$[\w\d#@][\w\d_]*/, '(?![\\w\\d])(?![$])') }, n],
  });
  let i = { className: 'subst', begin: /\$\(/, end: /\)/, contains: [t.BACKSLASH_ESCAPE] },
    a = t.inherit(t.COMMENT(), { match: [/(^|\s)/, /#.*$/], scope: { 2: 'comment' } }),
    s = {
      begin: /<<-?\s*(?=\w+)/,
      starts: {
        contains: [t.END_SAME_AS_BEGIN({ begin: /(\w+)/, end: /(\w+)/, className: 'string' })],
      },
    },
    o = { className: 'string', begin: /"/, end: /"/, contains: [t.BACKSLASH_ESCAPE, r, i] };
  i.contains.push(o);
  let l = { match: /\\"/ },
    u = { className: 'string', begin: /'/, end: /'/ },
    c = { match: /\\'/ },
    p = {
      begin: /\$?\(\(/,
      end: /\)\)/,
      contains: [{ begin: /\d+#[0-9a-f]+/, className: 'number' }, t.NUMBER_MODE, r],
    },
    h = ['fish', 'bash', 'zsh', 'sh', 'csh', 'ksh', 'tcsh', 'dash', 'scsh'],
    m = t.SHEBANG({ binary: `(${h.join('|')})`, relevance: 10 }),
    E = {
      className: 'function',
      begin: /\w[\w\d_]*\s*\(\s*\)\s*\{/,
      returnBegin: !0,
      contains: [t.inherit(t.TITLE_MODE, { begin: /\w[\w\d_]*/ })],
      relevance: 0,
    },
    v = [
      'if',
      'then',
      'else',
      'elif',
      'fi',
      'time',
      'for',
      'while',
      'until',
      'in',
      'do',
      'done',
      'case',
      'esac',
      'coproc',
      'function',
      'select',
    ],
    g = ['true', 'false'],
    _ = { match: /(\/[a-z._-]+)+/ },
    S = [
      'break',
      'cd',
      'continue',
      'eval',
      'exec',
      'exit',
      'export',
      'getopts',
      'hash',
      'pwd',
      'readonly',
      'return',
      'shift',
      'test',
      'times',
      'trap',
      'umask',
      'unset',
    ],
    b = [
      'alias',
      'bind',
      'builtin',
      'caller',
      'command',
      'declare',
      'echo',
      'enable',
      'help',
      'let',
      'local',
      'logout',
      'mapfile',
      'printf',
      'read',
      'readarray',
      'source',
      'sudo',
      'type',
      'typeset',
      'ulimit',
      'unalias',
    ],
    I = [
      'autoload',
      'bg',
      'bindkey',
      'bye',
      'cap',
      'chdir',
      'clone',
      'comparguments',
      'compcall',
      'compctl',
      'compdescribe',
      'compfiles',
      'compgroups',
      'compquote',
      'comptags',
      'comptry',
      'compvalues',
      'dirs',
      'disable',
      'disown',
      'echotc',
      'echoti',
      'emulate',
      'fc',
      'fg',
      'float',
      'functions',
      'getcap',
      'getln',
      'history',
      'integer',
      'jobs',
      'kill',
      'limit',
      'log',
      'noglob',
      'popd',
      'print',
      'pushd',
      'pushln',
      'rehash',
      'sched',
      'setcap',
      'setopt',
      'stat',
      'suspend',
      'ttyctl',
      'unfunction',
      'unhash',
      'unlimit',
      'unsetopt',
      'vared',
      'wait',
      'whence',
      'where',
      'which',
      'zcompile',
      'zformat',
      'zftp',
      'zle',
      'zmodload',
      'zparseopts',
      'zprof',
      'zpty',
      'zregexparse',
      'zsocket',
      'zstyle',
      'ztcp',
    ],
    R = [
      'chcon',
      'chgrp',
      'chown',
      'chmod',
      'cp',
      'dd',
      'df',
      'dir',
      'dircolors',
      'ln',
      'ls',
      'mkdir',
      'mkfifo',
      'mknod',
      'mktemp',
      'mv',
      'realpath',
      'rm',
      'rmdir',
      'shred',
      'sync',
      'touch',
      'truncate',
      'vdir',
      'b2sum',
      'base32',
      'base64',
      'cat',
      'cksum',
      'comm',
      'csplit',
      'cut',
      'expand',
      'fmt',
      'fold',
      'head',
      'join',
      'md5sum',
      'nl',
      'numfmt',
      'od',
      'paste',
      'ptx',
      'pr',
      'sha1sum',
      'sha224sum',
      'sha256sum',
      'sha384sum',
      'sha512sum',
      'shuf',
      'sort',
      'split',
      'sum',
      'tac',
      'tail',
      'tr',
      'tsort',
      'unexpand',
      'uniq',
      'wc',
      'arch',
      'basename',
      'chroot',
      'date',
      'dirname',
      'du',
      'echo',
      'env',
      'expr',
      'factor',
      'groups',
      'hostid',
      'id',
      'link',
      'logname',
      'nice',
      'nohup',
      'nproc',
      'pathchk',
      'pinky',
      'printenv',
      'printf',
      'pwd',
      'readlink',
      'runcon',
      'seq',
      'sleep',
      'stat',
      'stdbuf',
      'stty',
      'tee',
      'test',
      'timeout',
      'tty',
      'uname',
      'unlink',
      'uptime',
      'users',
      'who',
      'whoami',
      'yes',
    ];
  return {
    name: 'Bash',
    aliases: ['sh', 'zsh'],
    keywords: {
      $pattern: /\b[a-z][a-z0-9._-]+\b/,
      keyword: v,
      literal: g,
      built_in: [...S, ...b, 'set', 'shopt', ...I, ...R],
    },
    contains: [m, t.SHEBANG(), E, p, a, s, _, o, l, u, c, r],
  };
}
function uir(t) {
  let e = t.regex,
    r = t.COMMENT('//', '$', { contains: [{ begin: /\\\n/ }] }),
    n = 'decltype\\(auto\\)',
    i = '[a-zA-Z_]\\w*::',
    s = '(' + n + '|' + e.optional(i) + '[a-zA-Z_]\\w*' + e.optional('<[^<>]+>') + ')',
    o = {
      className: 'type',
      variants: [{ begin: '\\b[a-z\\d_]*_t\\b' }, { match: /\batomic_[a-z]{3,6}\b/ }],
    },
    u = {
      className: 'string',
      variants: [
        { begin: '(u8?|U|L)?"', end: '"', illegal: '\\n', contains: [t.BACKSLASH_ESCAPE] },
        {
          begin: "(u8?|U|L)?'(" + '\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)' + '|.)',
          end: "'",
          illegal: '.',
        },
        t.END_SAME_AS_BEGIN({
          begin: /(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,
          end: /\)([^()\\ ]{0,16})"/,
        }),
      ],
    },
    c = {
      className: 'number',
      variants: [
        { match: /\b(0b[01']+)/ },
        {
          match: /(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/,
        },
        {
          match:
            /(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/,
        },
        { match: /(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/ },
      ],
      relevance: 0,
    },
    p = {
      className: 'meta',
      begin: /#\s*[a-z]+\b/,
      end: /$/,
      keywords: {
        keyword:
          'if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include',
      },
      contains: [
        { begin: /\\\n/, relevance: 0 },
        t.inherit(u, { className: 'string' }),
        { className: 'string', begin: /<.*?>/ },
        r,
        t.C_BLOCK_COMMENT_MODE,
      ],
    },
    h = { className: 'title', begin: e.optional(i) + t.IDENT_RE, relevance: 0 },
    m = e.optional(i) + t.IDENT_RE + '\\s*\\(',
    g = {
      keyword: [
        'asm',
        'auto',
        'break',
        'case',
        'continue',
        'default',
        'do',
        'else',
        'enum',
        'extern',
        'for',
        'fortran',
        'goto',
        'if',
        'inline',
        'register',
        'restrict',
        'return',
        'sizeof',
        'typeof',
        'typeof_unqual',
        'struct',
        'switch',
        'typedef',
        'union',
        'volatile',
        'while',
        '_Alignas',
        '_Alignof',
        '_Atomic',
        '_Generic',
        '_Noreturn',
        '_Static_assert',
        '_Thread_local',
        'alignas',
        'alignof',
        'noreturn',
        'static_assert',
        'thread_local',
        '_Pragma',
      ],
      type: [
        'float',
        'double',
        'signed',
        'unsigned',
        'int',
        'short',
        'long',
        'char',
        'void',
        '_Bool',
        '_BitInt',
        '_Complex',
        '_Imaginary',
        '_Decimal32',
        '_Decimal64',
        '_Decimal96',
        '_Decimal128',
        '_Decimal64x',
        '_Decimal128x',
        '_Float16',
        '_Float32',
        '_Float64',
        '_Float128',
        '_Float32x',
        '_Float64x',
        '_Float128x',
        'const',
        'static',
        'constexpr',
        'complex',
        'bool',
        'imaginary',
      ],
      literal: 'true false NULL',
      built_in:
        'std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr',
    },
    _ = [p, o, r, t.C_BLOCK_COMMENT_MODE, c, u],
    S = {
      variants: [
        { begin: /=/, end: /;/ },
        { begin: /\(/, end: /\)/ },
        { beginKeywords: 'new throw return else', end: /;/ },
      ],
      keywords: g,
      contains: _.concat([
        { begin: /\(/, end: /\)/, keywords: g, contains: _.concat(['self']), relevance: 0 },
      ]),
      relevance: 0,
    },
    b = {
      begin: '(' + s + '[\\*&\\s]+)+' + m,
      returnBegin: !0,
      end: /[{;=]/,
      excludeEnd: !0,
      keywords: g,
      illegal: /[^\w\s\*&:<>.]/,
      contains: [
        { begin: n, keywords: g, relevance: 0 },
        {
          begin: m,
          returnBegin: !0,
          contains: [t.inherit(h, { className: 'title.function' })],
          relevance: 0,
        },
        { relevance: 0, match: /,/ },
        {
          className: 'params',
          begin: /\(/,
          end: /\)/,
          keywords: g,
          relevance: 0,
          contains: [
            r,
            t.C_BLOCK_COMMENT_MODE,
            u,
            c,
            o,
            {
              begin: /\(/,
              end: /\)/,
              keywords: g,
              relevance: 0,
              contains: ['self', r, t.C_BLOCK_COMMENT_MODE, u, c, o],
            },
          ],
        },
        o,
        r,
        t.C_BLOCK_COMMENT_MODE,
        p,
      ],
    };
  return {
    name: 'C',
    aliases: ['h'],
    keywords: g,
    disableAutodetect: !0,
    illegal: '</',
    contains: [].concat(S, b, _, [
      p,
      { begin: t.IDENT_RE + '::', keywords: g },
      {
        className: 'class',
        beginKeywords: 'enum class struct union',
        end: /[{;:<>=]/,
        contains: [{ beginKeywords: 'final class struct' }, t.TITLE_MODE],
      },
    ]),
    exports: { preprocessor: p, strings: u, keywords: g },
  };
}
function cir(t) {
  let e = t.regex,
    r = t.COMMENT('//', '$', { contains: [{ begin: /\\\n/ }] }),
    n = 'decltype\\(auto\\)',
    i = '[a-zA-Z_]\\w*::',
    s = '(?!struct)(' + n + '|' + e.optional(i) + '[a-zA-Z_]\\w*' + e.optional('<[^<>]+>') + ')',
    o = { className: 'type', begin: '\\b[a-z\\d_]*_t\\b' },
    u = {
      className: 'string',
      variants: [
        { begin: '(u8?|U|L)?"', end: '"', illegal: '\\n', contains: [t.BACKSLASH_ESCAPE] },
        {
          begin: "(u8?|U|L)?'(" + '\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)' + '|.)',
          end: "'",
          illegal: '.',
        },
        t.END_SAME_AS_BEGIN({
          begin: /(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,
          end: /\)([^()\\ ]{0,16})"/,
        }),
      ],
    },
    c = {
      className: 'number',
      variants: [
        {
          begin:
            "[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)",
        },
        {
          begin:
            "[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)",
        },
      ],
      relevance: 0,
    },
    p = {
      className: 'meta',
      begin: /#\s*[a-z]+\b/,
      end: /$/,
      keywords: {
        keyword:
          'if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include',
      },
      contains: [
        { begin: /\\\n/, relevance: 0 },
        t.inherit(u, { className: 'string' }),
        { className: 'string', begin: /<.*?>/ },
        r,
        t.C_BLOCK_COMMENT_MODE,
      ],
    },
    h = { className: 'title', begin: e.optional(i) + t.IDENT_RE, relevance: 0 },
    m = e.optional(i) + t.IDENT_RE + '\\s*\\(',
    E = [
      'alignas',
      'alignof',
      'and',
      'and_eq',
      'asm',
      'atomic_cancel',
      'atomic_commit',
      'atomic_noexcept',
      'auto',
      'bitand',
      'bitor',
      'break',
      'case',
      'catch',
      'class',
      'co_await',
      'co_return',
      'co_yield',
      'compl',
      'concept',
      'const_cast|10',
      'consteval',
      'constexpr',
      'constinit',
      'continue',
      'decltype',
      'default',
      'delete',
      'do',
      'dynamic_cast|10',
      'else',
      'enum',
      'explicit',
      'export',
      'extern',
      'false',
      'final',
      'for',
      'friend',
      'goto',
      'if',
      'import',
      'inline',
      'module',
      'mutable',
      'namespace',
      'new',
      'noexcept',
      'not',
      'not_eq',
      'nullptr',
      'operator',
      'or',
      'or_eq',
      'override',
      'private',
      'protected',
      'public',
      'reflexpr',
      'register',
      'reinterpret_cast|10',
      'requires',
      'return',
      'sizeof',
      'static_assert',
      'static_cast|10',
      'struct',
      'switch',
      'synchronized',
      'template',
      'this',
      'thread_local',
      'throw',
      'transaction_safe',
      'transaction_safe_dynamic',
      'true',
      'try',
      'typedef',
      'typeid',
      'typename',
      'union',
      'using',
      'virtual',
      'volatile',
      'while',
      'xor',
      'xor_eq',
    ],
    v = [
      'bool',
      'char',
      'char16_t',
      'char32_t',
      'char8_t',
      'double',
      'float',
      'int',
      'long',
      'short',
      'void',
      'wchar_t',
      'unsigned',
      'signed',
      'const',
      'static',
    ],
    g = [
      'any',
      'auto_ptr',
      'barrier',
      'binary_semaphore',
      'bitset',
      'complex',
      'condition_variable',
      'condition_variable_any',
      'counting_semaphore',
      'deque',
      'false_type',
      'flat_map',
      'flat_set',
      'future',
      'imaginary',
      'initializer_list',
      'istringstream',
      'jthread',
      'latch',
      'lock_guard',
      'multimap',
      'multiset',
      'mutex',
      'optional',
      'ostringstream',
      'packaged_task',
      'pair',
      'promise',
      'priority_queue',
      'queue',
      'recursive_mutex',
      'recursive_timed_mutex',
      'scoped_lock',
      'set',
      'shared_future',
      'shared_lock',
      'shared_mutex',
      'shared_timed_mutex',
      'shared_ptr',
      'stack',
      'string_view',
      'stringstream',
      'timed_mutex',
      'thread',
      'true_type',
      'tuple',
      'unique_lock',
      'unique_ptr',
      'unordered_map',
      'unordered_multimap',
      'unordered_multiset',
      'unordered_set',
      'variant',
      'vector',
      'weak_ptr',
      'wstring',
      'wstring_view',
    ],
    _ = [
      'abort',
      'abs',
      'acos',
      'apply',
      'as_const',
      'asin',
      'atan',
      'atan2',
      'calloc',
      'ceil',
      'cerr',
      'cin',
      'clog',
      'cos',
      'cosh',
      'cout',
      'declval',
      'endl',
      'exchange',
      'exit',
      'exp',
      'fabs',
      'floor',
      'fmod',
      'forward',
      'fprintf',
      'fputs',
      'free',
      'frexp',
      'fscanf',
      'future',
      'invoke',
      'isalnum',
      'isalpha',
      'iscntrl',
      'isdigit',
      'isgraph',
      'islower',
      'isprint',
      'ispunct',
      'isspace',
      'isupper',
      'isxdigit',
      'labs',
      'launder',
      'ldexp',
      'log',
      'log10',
      'make_pair',
      'make_shared',
      'make_shared_for_overwrite',
      'make_tuple',
      'make_unique',
      'malloc',
      'memchr',
      'memcmp',
      'memcpy',
      'memset',
      'modf',
      'move',
      'pow',
      'printf',
      'putchar',
      'puts',
      'realloc',
      'scanf',
      'sin',
      'sinh',
      'snprintf',
      'sprintf',
      'sqrt',
      'sscanf',
      'std',
      'stderr',
      'stdin',
      'stdout',
      'strcat',
      'strchr',
      'strcmp',
      'strcpy',
      'strcspn',
      'strlen',
      'strncat',
      'strncmp',
      'strncpy',
      'strpbrk',
      'strrchr',
      'strspn',
      'strstr',
      'swap',
      'tan',
      'tanh',
      'terminate',
      'to_underlying',
      'tolower',
      'toupper',
      'vfprintf',
      'visit',
      'vprintf',
      'vsprintf',
    ],
    I = {
      type: v,
      keyword: E,
      literal: ['NULL', 'false', 'nullopt', 'nullptr', 'true'],
      built_in: ['_Pragma'],
      _type_hints: g,
    },
    R = {
      className: 'function.dispatch',
      relevance: 0,
      keywords: { _hint: _ },
      begin: e.concat(
        /\b/,
        /(?!decltype)/,
        /(?!if)/,
        /(?!for)/,
        /(?!switch)/,
        /(?!while)/,
        t.IDENT_RE,
        e.lookahead(/(<[^<>]+>|)\s*\(/)
      ),
    },
    F = [R, p, o, r, t.C_BLOCK_COMMENT_MODE, c, u],
    G = {
      variants: [
        { begin: /=/, end: /;/ },
        { begin: /\(/, end: /\)/ },
        { beginKeywords: 'new throw return else', end: /;/ },
      ],
      keywords: I,
      contains: F.concat([
        { begin: /\(/, end: /\)/, keywords: I, contains: F.concat(['self']), relevance: 0 },
      ]),
      relevance: 0,
    },
    U = {
      className: 'function',
      begin: '(' + s + '[\\*&\\s]+)+' + m,
      returnBegin: !0,
      end: /[{;=]/,
      excludeEnd: !0,
      keywords: I,
      illegal: /[^\w\s\*&:<>.]/,
      contains: [
        { begin: n, keywords: I, relevance: 0 },
        { begin: m, returnBegin: !0, contains: [h], relevance: 0 },
        { begin: /::/, relevance: 0 },
        { begin: /:/, endsWithParent: !0, contains: [u, c] },
        { relevance: 0, match: /,/ },
        {
          className: 'params',
          begin: /\(/,
          end: /\)/,
          keywords: I,
          relevance: 0,
          contains: [
            r,
            t.C_BLOCK_COMMENT_MODE,
            u,
            c,
            o,
            {
              begin: /\(/,
              end: /\)/,
              keywords: I,
              relevance: 0,
              contains: ['self', r, t.C_BLOCK_COMMENT_MODE, u, c, o],
            },
          ],
        },
        o,
        r,
        t.C_BLOCK_COMMENT_MODE,
        p,
      ],
    };
  return {
    name: 'C++',
    aliases: ['cc', 'c++', 'h++', 'hpp', 'hh', 'hxx', 'cxx'],
    keywords: I,
    illegal: '</',
    classNameAliases: { 'function.dispatch': 'built_in' },
    contains: [].concat(G, U, R, F, [
      p,
      {
        begin:
          '\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)',
        end: '>',
        keywords: I,
        contains: ['self', o],
      },
      { begin: t.IDENT_RE + '::', keywords: I },
      {
        match: [/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/, /\s+/, /\w+/],
        className: { 1: 'keyword', 3: 'title.class' },
      },
    ]),
  };
}
function dir(t) {
  let e = [
      'bool',
      'byte',
      'char',
      'decimal',
      'delegate',
      'double',
      'dynamic',
      'enum',
      'float',
      'int',
      'long',
      'nint',
      'nuint',
      'object',
      'sbyte',
      'short',
      'string',
      'ulong',
      'uint',
      'ushort',
    ],
    r = [
      'public',
      'private',
      'protected',
      'static',
      'internal',
      'protected',
      'abstract',
      'async',
      'extern',
      'override',
      'unsafe',
      'virtual',
      'new',
      'sealed',
      'partial',
    ],
    n = ['default', 'false', 'null', 'true'],
    i = [
      'abstract',
      'as',
      'base',
      'break',
      'case',
      'catch',
      'class',
      'const',
      'continue',
      'do',
      'else',
      'event',
      'explicit',
      'extern',
      'finally',
      'fixed',
      'for',
      'foreach',
      'goto',
      'if',
      'implicit',
      'in',
      'interface',
      'internal',
      'is',
      'lock',
      'namespace',
      'new',
      'operator',
      'out',
      'override',
      'params',
      'private',
      'protected',
      'public',
      'readonly',
      'record',
      'ref',
      'return',
      'scoped',
      'sealed',
      'sizeof',
      'stackalloc',
      'static',
      'struct',
      'switch',
      'this',
      'throw',
      'try',
      'typeof',
      'unchecked',
      'unsafe',
      'using',
      'virtual',
      'void',
      'volatile',
      'while',
    ],
    a = [
      'add',
      'alias',
      'and',
      'ascending',
      'args',
      'async',
      'await',
      'by',
      'descending',
      'dynamic',
      'equals',
      'file',
      'from',
      'get',
      'global',
      'group',
      'init',
      'into',
      'join',
      'let',
      'nameof',
      'not',
      'notnull',
      'on',
      'or',
      'orderby',
      'partial',
      'record',
      'remove',
      'required',
      'scoped',
      'select',
      'set',
      'unmanaged',
      'value|0',
      'var',
      'when',
      'where',
      'with',
      'yield',
    ],
    s = { keyword: i.concat(a), built_in: e, literal: n },
    o = t.inherit(t.TITLE_MODE, { begin: '[a-zA-Z](\\.?\\w)*' }),
    l = {
      className: 'number',
      variants: [
        { begin: "\\b(0b[01']+)" },
        { begin: "(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)" },
        {
          begin:
            "(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)",
        },
      ],
      relevance: 0,
    },
    u = { className: 'string', begin: /"""("*)(?!")(.|\n)*?"""\1/, relevance: 1 },
    c = { className: 'string', begin: '@"', end: '"', contains: [{ begin: '""' }] },
    p = t.inherit(c, { illegal: /\n/ }),
    h = { className: 'subst', begin: /\{/, end: /\}/, keywords: s },
    m = t.inherit(h, { illegal: /\n/ }),
    E = {
      className: 'string',
      begin: /\$"/,
      end: '"',
      illegal: /\n/,
      contains: [{ begin: /\{\{/ }, { begin: /\}\}/ }, t.BACKSLASH_ESCAPE, m],
    },
    v = {
      className: 'string',
      begin: /\$@"/,
      end: '"',
      contains: [{ begin: /\{\{/ }, { begin: /\}\}/ }, { begin: '""' }, h],
    },
    g = t.inherit(v, {
      illegal: /\n/,
      contains: [{ begin: /\{\{/ }, { begin: /\}\}/ }, { begin: '""' }, m],
    });
  ((h.contains = [v, E, c, t.APOS_STRING_MODE, t.QUOTE_STRING_MODE, l, t.C_BLOCK_COMMENT_MODE]),
    (m.contains = [
      g,
      E,
      p,
      t.APOS_STRING_MODE,
      t.QUOTE_STRING_MODE,
      l,
      t.inherit(t.C_BLOCK_COMMENT_MODE, { illegal: /\n/ }),
    ]));
  let _ = { variants: [u, v, E, c, t.APOS_STRING_MODE, t.QUOTE_STRING_MODE] },
    S = { begin: '<', end: '>', contains: [{ beginKeywords: 'in out' }, o] },
    b = t.IDENT_RE + '(<' + t.IDENT_RE + '(\\s*,\\s*' + t.IDENT_RE + ')*>)?(\\[\\])?',
    I = { begin: '@' + t.IDENT_RE, relevance: 0 };
  return {
    name: 'C#',
    aliases: ['cs', 'c#'],
    keywords: s,
    illegal: /::/,
    contains: [
      t.COMMENT('///', '$', {
        returnBegin: !0,
        contains: [
          {
            className: 'doctag',
            variants: [
              { begin: '///', relevance: 0 },
              { begin: '<!--|-->' },
              { begin: '</?', end: '>' },
            ],
          },
        ],
      }),
      t.C_LINE_COMMENT_MODE,
      t.C_BLOCK_COMMENT_MODE,
      {
        className: 'meta',
        begin: '#',
        end: '$',
        keywords: {
          keyword:
            'if else elif endif define undef warning error line region endregion pragma checksum',
        },
      },
      _,
      l,
      {
        beginKeywords: 'class interface',
        relevance: 0,
        end: /[{;=]/,
        illegal: /[^\s:,]/,
        contains: [
          { beginKeywords: 'where class' },
          o,
          S,
          t.C_LINE_COMMENT_MODE,
          t.C_BLOCK_COMMENT_MODE,
        ],
      },
      {
        beginKeywords: 'namespace',
        relevance: 0,
        end: /[{;=]/,
        illegal: /[^\s:]/,
        contains: [o, t.C_LINE_COMMENT_MODE, t.C_BLOCK_COMMENT_MODE],
      },
      {
        beginKeywords: 'record',
        relevance: 0,
        end: /[{;=]/,
        illegal: /[^\s:]/,
        contains: [o, S, t.C_LINE_COMMENT_MODE, t.C_BLOCK_COMMENT_MODE],
      },
      {
        className: 'meta',
        begin: '^\\s*\\[(?=[\\w])',
        excludeBegin: !0,
        end: '\\]',
        excludeEnd: !0,
        contains: [{ className: 'string', begin: /"/, end: /"/ }],
      },
      { beginKeywords: 'new return throw await else', relevance: 0 },
      {
        className: 'function',
        begin: '(' + b + '\\s+)+' + t.IDENT_RE + '\\s*(<[^=]+>\\s*)?\\(',
        returnBegin: !0,
        end: /\s*[{;=]/,
        excludeEnd: !0,
        keywords: s,
        contains: [
          { beginKeywords: r.join(' '), relevance: 0 },
          {
            begin: t.IDENT_RE + '\\s*(<[^=]+>\\s*)?\\(',
            returnBegin: !0,
            contains: [t.TITLE_MODE, S],
            relevance: 0,
          },
          { match: /\(\)/ },
          {
            className: 'params',
            begin: /\(/,
            end: /\)/,
            excludeBegin: !0,
            excludeEnd: !0,
            keywords: s,
            relevance: 0,
            contains: [_, l, t.C_BLOCK_COMMENT_MODE],
          },
          t.C_LINE_COMMENT_MODE,
          t.C_BLOCK_COMMENT_MODE,
        ],
      },
      I,
    ],
  };
}
var DBn = (t) => ({
    IMPORTANT: { scope: 'meta', begin: '!important' },
    BLOCK_COMMENT: t.C_BLOCK_COMMENT_MODE,
    HEXCOLOR: { scope: 'number', begin: /#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/ },
    FUNCTION_DISPATCH: { className: 'built_in', begin: /[\w-]+(?=\()/ },
    ATTRIBUTE_SELECTOR_MODE: {
      scope: 'selector-attr',
      begin: /\[/,
      end: /\]/,
      illegal: '$',
      contains: [t.APOS_STRING_MODE, t.QUOTE_STRING_MODE],
    },
    CSS_NUMBER_MODE: {
      scope: 'number',
      begin:
        t.NUMBER_RE +
        '(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?',
      relevance: 0,
    },
    CSS_VARIABLE: { className: 'attr', begin: /--[A-Za-z_][A-Za-z0-9_-]*/ },
  }),
  wBn = [
    'a',
    'abbr',
    'address',
    'article',
    'aside',
    'audio',
    'b',
    'blockquote',
    'body',
    'button',
    'canvas',
    'caption',
    'cite',
    'code',
    'dd',
    'del',
    'details',
    'dfn',
    'div',
    'dl',
    'dt',
    'em',
    'fieldset',
    'figcaption',
    'figure',
    'footer',
    'form',
    'h1',
    'h2',
    'h3',
    'h4',
    'h5',
    'h6',
    'header',
    'hgroup',
    'html',
    'i',
    'iframe',
    'img',
    'input',
    'ins',
    'kbd',
    'label',
    'legend',
    'li',
    'main',
    'mark',
    'menu',
    'nav',
    'object',
    'ol',
    'optgroup',
    'option',
    'p',
    'picture',
    'q',
    'quote',
    'samp',
    'section',
    'select',
    'source',
    'span',
    'strong',
    'summary',
    'sup',
    'table',
    'tbody',
    'td',
    'textarea',
    'tfoot',
    'th',
    'thead',
    'time',
    'tr',
    'ul',
    'var',
    'video',
  ],
  IBn = [
    'defs',
    'g',
    'marker',
    'mask',
    'pattern',
    'svg',
    'switch',
    'symbol',
    'feBlend',
    'feColorMatrix',
    'feComponentTransfer',
    'feComposite',
    'feConvolveMatrix',
    'feDiffuseLighting',
    'feDisplacementMap',
    'feFlood',
    'feGaussianBlur',
    'feImage',
    'feMerge',
    'feMorphology',
    'feOffset',
    'feSpecularLighting',
    'feTile',
    'feTurbulence',
    'linearGradient',
    'radialGradient',
    'stop',
    'circle',
    'ellipse',
    'image',
    'line',
    'path',
    'polygon',
    'polyline',
    'rect',
    'text',
    'use',
    'textPath',
    'tspan',
    'foreignObject',
    'clipPath',
  ],
  TBn = [...wBn, ...IBn],
  xBn = [
    'any-hover',
    'any-pointer',
    'aspect-ratio',
    'color',
    'color-gamut',
    'color-index',
    'device-aspect-ratio',
    'device-height',
    'device-width',
    'display-mode',
    'forced-colors',
    'grid',
    'height',
    'hover',
    'inverted-colors',
    'monochrome',
    'orientation',
    'overflow-block',
    'overflow-inline',
    'pointer',
    'prefers-color-scheme',
    'prefers-contrast',
    'prefers-reduced-motion',
    'prefers-reduced-transparency',
    'resolution',
    'scan',
    'scripting',
    'update',
    'width',
    'min-width',
    'max-width',
    'min-height',
    'max-height',
  ]
    .sort()
    .reverse(),
  BBn = [
    'active',
    'any-link',
    'blank',
    'checked',
    'current',
    'default',
    'defined',
    'dir',
    'disabled',
    'drop',
    'empty',
    'enabled',
    'first',
    'first-child',
    'first-of-type',
    'fullscreen',
    'future',
    'focus',
    'focus-visible',
    'focus-within',
    'has',
    'host',
    'host-context',
    'hover',
    'indeterminate',
    'in-range',
    'invalid',
    'is',
    'lang',
    'last-child',
    'last-of-type',
    'left',
    'link',
    'local-link',
    'not',
    'nth-child',
    'nth-col',
    'nth-last-child',
    'nth-last-col',
    'nth-last-of-type',
    'nth-of-type',
    'only-child',
    'only-of-type',
    'optional',
    'out-of-range',
    'past',
    'placeholder-shown',
    'read-only',
    'read-write',
    'required',
    'right',
    'root',
    'scope',
    'target',
    'target-within',
    'user-invalid',
    'valid',
    'visited',
    'where',
  ]
    .sort()
    .reverse(),
  RBn = [
    'after',
    'backdrop',
    'before',
    'cue',
    'cue-region',
    'first-letter',
    'first-line',
    'grammar-error',
    'marker',
    'part',
    'placeholder',
    'selection',
    'slotted',
    'spelling-error',
  ]
    .sort()
    .reverse(),
  NBn = [
    'accent-color',
    'align-content',
    'align-items',
    'align-self',
    'alignment-baseline',
    'all',
    'anchor-name',
    'animation',
    'animation-composition',
    'animation-delay',
    'animation-direction',
    'animation-duration',
    'animation-fill-mode',
    'animation-iteration-count',
    'animation-name',
    'animation-play-state',
    'animation-range',
    'animation-range-end',
    'animation-range-start',
    'animation-timeline',
    'animation-timing-function',
    'appearance',
    'aspect-ratio',
    'backdrop-filter',
    'backface-visibility',
    'background',
    'background-attachment',
    'background-blend-mode',
    'background-clip',
    'background-color',
    'background-image',
    'background-origin',
    'background-position',
    'background-position-x',
    'background-position-y',
    'background-repeat',
    'background-size',
    'baseline-shift',
    'block-size',
    'border',
    'border-block',
    'border-block-color',
    'border-block-end',
    'border-block-end-color',
    'border-block-end-style',
    'border-block-end-width',
    'border-block-start',
    'border-block-start-color',
    'border-block-start-style',
    'border-block-start-width',
    'border-block-style',
    'border-block-width',
    'border-bottom',
    'border-bottom-color',
    'border-bottom-left-radius',
    'border-bottom-right-radius',
    'border-bottom-style',
    'border-bottom-width',
    'border-collapse',
    'border-color',
    'border-end-end-radius',
    'border-end-start-radius',
    'border-image',
    'border-image-outset',
    'border-image-repeat',
    'border-image-slice',
    'border-image-source',
    'border-image-width',
    'border-inline',
    'border-inline-color',
    'border-inline-end',
    'border-inline-end-color',
    'border-inline-end-style',
    'border-inline-end-width',
    'border-inline-start',
    'border-inline-start-color',
    'border-inline-start-style',
    'border-inline-start-width',
    'border-inline-style',
    'border-inline-width',
    'border-left',
    'border-left-color',
    'border-left-style',
    'border-left-width',
    'border-radius',
    'border-right',
    'border-right-color',
    'border-right-style',
    'border-right-width',
    'border-spacing',
    'border-start-end-radius',
    'border-start-start-radius',
    'border-style',
    'border-top',
    'border-top-color',
    'border-top-left-radius',
    'border-top-right-radius',
    'border-top-style',
    'border-top-width',
    'border-width',
    'bottom',
    'box-align',
    'box-decoration-break',
    'box-direction',
    'box-flex',
    'box-flex-group',
    'box-lines',
    'box-ordinal-group',
    'box-orient',
    'box-pack',
    'box-shadow',
    'box-sizing',
    'break-after',
    'break-before',
    'break-inside',
    'caption-side',
    'caret-color',
    'clear',
    'clip',
    'clip-path',
    'clip-rule',
    'color',
    'color-interpolation',
    'color-interpolation-filters',
    'color-profile',
    'color-rendering',
    'color-scheme',
    'column-count',
    'column-fill',
    'column-gap',
    'column-rule',
    'column-rule-color',
    'column-rule-style',
    'column-rule-width',
    'column-span',
    'column-width',
    'columns',
    'contain',
    'contain-intrinsic-block-size',
    'contain-intrinsic-height',
    'contain-intrinsic-inline-size',
    'contain-intrinsic-size',
    'contain-intrinsic-width',
    'container',
    'container-name',
    'container-type',
    'content',
    'content-visibility',
    'counter-increment',
    'counter-reset',
    'counter-set',
    'cue',
    'cue-after',
    'cue-before',
    'cursor',
    'cx',
    'cy',
    'direction',
    'display',
    'dominant-baseline',
    'empty-cells',
    'enable-background',
    'field-sizing',
    'fill',
    'fill-opacity',
    'fill-rule',
    'filter',
    'flex',
    'flex-basis',
    'flex-direction',
    'flex-flow',
    'flex-grow',
    'flex-shrink',
    'flex-wrap',
    'float',
    'flood-color',
    'flood-opacity',
    'flow',
    'font',
    'font-display',
    'font-family',
    'font-feature-settings',
    'font-kerning',
    'font-language-override',
    'font-optical-sizing',
    'font-palette',
    'font-size',
    'font-size-adjust',
    'font-smooth',
    'font-smoothing',
    'font-stretch',
    'font-style',
    'font-synthesis',
    'font-synthesis-position',
    'font-synthesis-small-caps',
    'font-synthesis-style',
    'font-synthesis-weight',
    'font-variant',
    'font-variant-alternates',
    'font-variant-caps',
    'font-variant-east-asian',
    'font-variant-emoji',
    'font-variant-ligatures',
    'font-variant-numeric',
    'font-variant-position',
    'font-variation-settings',
    'font-weight',
    'forced-color-adjust',
    'gap',
    'glyph-orientation-horizontal',
    'glyph-orientation-vertical',
    'grid',
    'grid-area',
    'grid-auto-columns',
    'grid-auto-flow',
    'grid-auto-rows',
    'grid-column',
    'grid-column-end',
    'grid-column-start',
    'grid-gap',
    'grid-row',
    'grid-row-end',
    'grid-row-start',
    'grid-template',
    'grid-template-areas',
    'grid-template-columns',
    'grid-template-rows',
    'hanging-punctuation',
    'height',
    'hyphenate-character',
    'hyphenate-limit-chars',
    'hyphens',
    'icon',
    'image-orientation',
    'image-rendering',
    'image-resolution',
    'ime-mode',
    'initial-letter',
    'initial-letter-align',
    'inline-size',
    'inset',
    'inset-area',
    'inset-block',
    'inset-block-end',
    'inset-block-start',
    'inset-inline',
    'inset-inline-end',
    'inset-inline-start',
    'isolation',
    'justify-content',
    'justify-items',
    'justify-self',
    'kerning',
    'left',
    'letter-spacing',
    'lighting-color',
    'line-break',
    'line-height',
    'line-height-step',
    'list-style',
    'list-style-image',
    'list-style-position',
    'list-style-type',
    'margin',
    'margin-block',
    'margin-block-end',
    'margin-block-start',
    'margin-bottom',
    'margin-inline',
    'margin-inline-end',
    'margin-inline-start',
    'margin-left',
    'margin-right',
    'margin-top',
    'margin-trim',
    'marker',
    'marker-end',
    'marker-mid',
    'marker-start',
    'marks',
    'mask',
    'mask-border',
    'mask-border-mode',
    'mask-border-outset',
    'mask-border-repeat',
    'mask-border-slice',
    'mask-border-source',
    'mask-border-width',
    'mask-clip',
    'mask-composite',
    'mask-image',
    'mask-mode',
    'mask-origin',
    'mask-position',
    'mask-repeat',
    'mask-size',
    'mask-type',
    'masonry-auto-flow',
    'math-depth',
    'math-shift',
    'math-style',
    'max-block-size',
    'max-height',
    'max-inline-size',
    'max-width',
    'min-block-size',
    'min-height',
    'min-inline-size',
    'min-width',
    'mix-blend-mode',
    'nav-down',
    'nav-index',
    'nav-left',
    'nav-right',
    'nav-up',
    'none',
    'normal',
    'object-fit',
    'object-position',
    'offset',
    'offset-anchor',
    'offset-distance',
    'offset-path',
    'offset-position',
    'offset-rotate',
    'opacity',
    'order',
    'orphans',
    'outline',
    'outline-color',
    'outline-offset',
    'outline-style',
    'outline-width',
    'overflow',
    'overflow-anchor',
    'overflow-block',
    'overflow-clip-margin',
    'overflow-inline',
    'overflow-wrap',
    'overflow-x',
    'overflow-y',
    'overlay',
    'overscroll-behavior',
    'overscroll-behavior-block',
    'overscroll-behavior-inline',
    'overscroll-behavior-x',
    'overscroll-behavior-y',
    'padding',
    'padding-block',
    'padding-block-end',
    'padding-block-start',
    'padding-bottom',
    'padding-inline',
    'padding-inline-end',
    'padding-inline-start',
    'padding-left',
    'padding-right',
    'padding-top',
    'page',
    'page-break-after',
    'page-break-before',
    'page-break-inside',
    'paint-order',
    'pause',
    'pause-after',
    'pause-before',
    'perspective',
    'perspective-origin',
    'place-content',
    'place-items',
    'place-self',
    'pointer-events',
    'position',
    'position-anchor',
    'position-visibility',
    'print-color-adjust',
    'quotes',
    'r',
    'resize',
    'rest',
    'rest-after',
    'rest-before',
    'right',
    'rotate',
    'row-gap',
    'ruby-align',
    'ruby-position',
    'scale',
    'scroll-behavior',
    'scroll-margin',
    'scroll-margin-block',
    'scroll-margin-block-end',
    'scroll-margin-block-start',
    'scroll-margin-bottom',
    'scroll-margin-inline',
    'scroll-margin-inline-end',
    'scroll-margin-inline-start',
    'scroll-margin-left',
    'scroll-margin-right',
    'scroll-margin-top',
    'scroll-padding',
    'scroll-padding-block',
    'scroll-padding-block-end',
    'scroll-padding-block-start',
    'scroll-padding-bottom',
    'scroll-padding-inline',
    'scroll-padding-inline-end',
    'scroll-padding-inline-start',
    'scroll-padding-left',
    'scroll-padding-right',
    'scroll-padding-top',
    'scroll-snap-align',
    'scroll-snap-stop',
    'scroll-snap-type',
    'scroll-timeline',
    'scroll-timeline-axis',
    'scroll-timeline-name',
    'scrollbar-color',
    'scrollbar-gutter',
    'scrollbar-width',
    'shape-image-threshold',
    'shape-margin',
    'shape-outside',
    'shape-rendering',
    'speak',
    'speak-as',
    'src',
    'stop-color',
    'stop-opacity',
    'stroke',
    'stroke-dasharray',
    'stroke-dashoffset',
    'stroke-linecap',
    'stroke-linejoin',
    'stroke-miterlimit',
    'stroke-opacity',
    'stroke-width',
    'tab-size',
    'table-layout',
    'text-align',
    'text-align-all',
    'text-align-last',
    'text-anchor',
    'text-combine-upright',
    'text-decoration',
    'text-decoration-color',
    'text-decoration-line',
    'text-decoration-skip',
    'text-decoration-skip-ink',
    'text-decoration-style',
    'text-decoration-thickness',
    'text-emphasis',
    'text-emphasis-color',
    'text-emphasis-position',
    'text-emphasis-style',
    'text-indent',
    'text-justify',
    'text-orientation',
    'text-overflow',
    'text-rendering',
    'text-shadow',
    'text-size-adjust',
    'text-transform',
    'text-underline-offset',
    'text-underline-position',
    'text-wrap',
    'text-wrap-mode',
    'text-wrap-style',
    'timeline-scope',
    'top',
    'touch-action',
    'transform',
    'transform-box',
    'transform-origin',
    'transform-style',
    'transition',
    'transition-behavior',
    'transition-delay',
    'transition-duration',
    'transition-property',
    'transition-timing-function',
    'translate',
    'unicode-bidi',
    'user-modify',
    'user-select',
    'vector-effect',
    'vertical-align',
    'view-timeline',
    'view-timeline-axis',
    'view-timeline-inset',
    'view-timeline-name',
    'view-transition-name',
    'visibility',
    'voice-balance',
    'voice-duration',
    'voice-family',
    'voice-pitch',
    'voice-range',
    'voice-rate',
    'voice-stress',
    'voice-volume',
    'white-space',
    'white-space-collapse',
    'widows',
    'width',
    'will-change',
    'word-break',
    'word-spacing',
    'word-wrap',
    'writing-mode',
    'x',
    'y',
    'z-index',
    'zoom',
  ]
    .sort()
    .reverse();
function pir(t) {
  let e = t.regex,
    r = DBn(t),
    n = { begin: /-(webkit|moz|ms|o)-(?=[a-z])/ },
    i = 'and or not only',
    a = /@-?\w[\w]*(-\w+)*/,
    s = '[a-zA-Z-][a-zA-Z0-9_-]*',
    o = [t.APOS_STRING_MODE, t.QUOTE_STRING_MODE];
  return {
    name: 'CSS',
    case_insensitive: !0,
    illegal: /[=|'\$]/,
    keywords: { keyframePosition: 'from to' },
    classNameAliases: { keyframePosition: 'selector-tag' },
    contains: [
      r.BLOCK_COMMENT,
      n,
      r.CSS_NUMBER_MODE,
      { className: 'selector-id', begin: /#[A-Za-z0-9_-]+/, relevance: 0 },
      { className: 'selector-class', begin: '\\.' + s, relevance: 0 },
      r.ATTRIBUTE_SELECTOR_MODE,
      {
        className: 'selector-pseudo',
        variants: [
          { begin: ':(' + BBn.join('|') + ')' },
          { begin: ':(:)?(' + RBn.join('|') + ')' },
        ],
      },
      r.CSS_VARIABLE,
      { className: 'attribute', begin: '\\b(' + NBn.join('|') + ')\\b' },
      {
        begin: /:/,
        end: /[;}{]/,
        contains: [
          r.BLOCK_COMMENT,
          r.HEXCOLOR,
          r.IMPORTANT,
          r.CSS_NUMBER_MODE,
          ...o,
          {
            begin: /(url|data-uri)\(/,
            end: /\)/,
            relevance: 0,
            keywords: { built_in: 'url data-uri' },
            contains: [
              ...o,
              { className: 'string', begin: /[^)]/, endsWithParent: !0, excludeEnd: !0 },
            ],
          },
          r.FUNCTION_DISPATCH,
        ],
      },
      {
        begin: e.lookahead(/@/),
        end: '[{;]',
        relevance: 0,
        illegal: /:/,
        contains: [
          { className: 'keyword', begin: a },
          {
            begin: /\s/,
            endsWithParent: !0,
            excludeEnd: !0,
            relevance: 0,
            keywords: { $pattern: /[a-z-]+/, keyword: i, attribute: xBn.join(' ') },
            contains: [{ begin: /[a-z-]+(?=:)/, className: 'attribute' }, ...o, r.CSS_NUMBER_MODE],
          },
        ],
      },
      { className: 'selector-tag', begin: '\\b(' + TBn.join('|') + ')\\b' },
    ],
  };
}
function fir(t) {
  let e = t.regex;
  return {
    name: 'Diff',
    aliases: ['patch'],
    contains: [
      {
        className: 'meta',
        relevance: 10,
        match: e.either(
          /^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,
          /^\*\*\* +\d+,\d+ +\*\*\*\*$/,
          /^--- +\d+,\d+ +----$/
        ),
      },
      {
        className: 'comment',
        variants: [
          {
            begin: e.either(
              /Index: /,
              /^index/,
              /={3,}/,
              /^-{3}/,
              /^\*{3} /,
              /^\+{3}/,
              /^diff --git/
            ),
            end: /$/,
          },
          { match: /^\*{15}$/ },
        ],
      },
      { className: 'addition', begin: /^\+/, end: /$/ },
      { className: 'deletion', begin: /^-/, end: /$/ },
      { className: 'addition', begin: /^!/, end: /$/ },
    ],
  };
}
function mir(t) {
  let a = {
    keyword: [
      'break',
      'case',
      'chan',
      'const',
      'continue',
      'default',
      'defer',
      'else',
      'fallthrough',
      'for',
      'func',
      'go',
      'goto',
      'if',
      'import',
      'interface',
      'map',
      'package',
      'range',
      'return',
      'select',
      'struct',
      'switch',
      'type',
      'var',
    ],
    type: [
      'bool',
      'byte',
      'complex64',
      'complex128',
      'error',
      'float32',
      'float64',
      'int8',
      'int16',
      'int32',
      'int64',
      'string',
      'uint8',
      'uint16',
      'uint32',
      'uint64',
      'int',
      'uint',
      'uintptr',
      'rune',
    ],
    literal: ['true', 'false', 'iota', 'nil'],
    built_in: [
      'append',
      'cap',
      'close',
      'complex',
      'copy',
      'imag',
      'len',
      'make',
      'new',
      'panic',
      'print',
      'println',
      'real',
      'recover',
      'delete',
    ],
  };
  return {
    name: 'Go',
    aliases: ['golang'],
    keywords: a,
    illegal: '</',
    contains: [
      t.C_LINE_COMMENT_MODE,
      t.C_BLOCK_COMMENT_MODE,
      {
        className: 'string',
        variants: [t.QUOTE_STRING_MODE, t.APOS_STRING_MODE, { begin: '`', end: '`' }],
      },
      {
        className: 'number',
        variants: [
          { match: /-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/, relevance: 0 },
          {
            match:
              /-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,
            relevance: 0,
          },
          { match: /-?\b0[oO](_?[0-7])*i?/, relevance: 0 },
          { match: /-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/, relevance: 0 },
          { match: /-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/, relevance: 0 },
        ],
      },
      { begin: /:=/ },
      {
        className: 'function',
        beginKeywords: 'func',
        end: '\\s*(\\{|$)',
        excludeEnd: !0,
        contains: [
          t.TITLE_MODE,
          {
            className: 'params',
            begin: /\(/,
            end: /\)/,
            endsParent: !0,
            keywords: a,
            illegal: /["']/,
          },
        ],
      },
    ],
  };
}
function hir(t) {
  let e = t.regex,
    r = /[_A-Za-z][_0-9A-Za-z]*/;
  return {
    name: 'GraphQL',
    aliases: ['gql'],
    case_insensitive: !0,
    disableAutodetect: !1,
    keywords: {
      keyword: [
        'query',
        'mutation',
        'subscription',
        'type',
        'input',
        'schema',
        'directive',
        'interface',
        'union',
        'scalar',
        'fragment',
        'enum',
        'on',
      ],
      literal: ['true', 'false', 'null'],
    },
    contains: [
      t.HASH_COMMENT_MODE,
      t.QUOTE_STRING_MODE,
      t.NUMBER_MODE,
      { scope: 'punctuation', match: /[.]{3}/, relevance: 0 },
      { scope: 'punctuation', begin: /[\!\(\)\:\=\[\]\{\|\}]{1}/, relevance: 0 },
      { scope: 'variable', begin: /\$/, end: /\W/, excludeEnd: !0, relevance: 0 },
      { scope: 'meta', match: /@\w+/, excludeEnd: !0 },
      { scope: 'symbol', begin: e.concat(r, e.lookahead(/\s*:/)), relevance: 0 },
    ],
    illegal: [/[;<']/, /BEGIN/],
  };
}
function Air(t) {
  let e = t.regex,
    r = {
      className: 'number',
      relevance: 0,
      variants: [{ begin: /([+-]+)?[\d]+_[\d_]+/ }, { begin: t.NUMBER_RE }],
    },
    n = t.COMMENT();
  n.variants = [
    { begin: /;/, end: /$/ },
    { begin: /#/, end: /$/ },
  ];
  let i = {
      className: 'variable',
      variants: [{ begin: /\$[\w\d"][\w\d_]*/ }, { begin: /\$\{(.*?)\}/ }],
    },
    a = { className: 'literal', begin: /\bon|off|true|false|yes|no\b/ },
    s = {
      className: 'string',
      contains: [t.BACKSLASH_ESCAPE],
      variants: [
        { begin: "'''", end: "'''", relevance: 10 },
        { begin: '"""', end: '"""', relevance: 10 },
        { begin: '"', end: '"' },
        { begin: "'", end: "'" },
      ],
    },
    o = { begin: /\[/, end: /\]/, contains: [n, a, i, s, r, 'self'], relevance: 0 },
    l = /[A-Za-z0-9_-]+/,
    u = /"(\\"|[^"])*"/,
    c = /'[^']*'/,
    p = e.either(l, u, c),
    h = e.concat(p, '(\\s*\\.\\s*', p, ')*', e.lookahead(/\s*=\s*[^#\s]/));
  return {
    name: 'TOML, also INI',
    aliases: ['toml'],
    case_insensitive: !0,
    illegal: /\S/,
    contains: [
      n,
      { className: 'section', begin: /\[+/, end: /\]+/ },
      { begin: h, className: 'attr', starts: { end: /$/, contains: [n, o, a, i, s, r] } },
    ],
  };
}
var Pk = '[0-9](_*[0-9])*',
  The = `\\.(${Pk})`,
  xhe = '[0-9a-fA-F](_*[0-9a-fA-F])*',
  gir = {
    className: 'number',
    variants: [
      { begin: `(\\b(${Pk})((${The})|\\.)?|(${The}))[eE][+-]?(${Pk})[fFdD]?\\b` },
      { begin: `\\b(${Pk})((${The})[fFdD]?\\b|\\.([fFdD]\\b)?)` },
      { begin: `(${The})[fFdD]?\\b` },
      { begin: `\\b(${Pk})[fFdD]\\b` },
      { begin: `\\b0[xX]((${xhe})\\.?|(${xhe})?\\.(${xhe}))[pP][+-]?(${Pk})[fFdD]?\\b` },
      { begin: '\\b(0|[1-9](_*[0-9])*)[lL]?\\b' },
      { begin: `\\b0[xX](${xhe})[lL]?\\b` },
      { begin: '\\b0(_*[0-7])*[lL]?\\b' },
      { begin: '\\b0[bB][01](_*[01])*[lL]?\\b' },
    ],
    relevance: 0,
  };
function Eir(t, e, r) {
  return r === -1 ? '' : t.replace(e, (n) => Eir(t, e, r - 1));
}
function yir(t) {
  let e = t.regex,
    r = '[\xC0-a-zA-Z_$][\xC0-a-zA-Z_$0-9]*',
    n = r + Eir('(?:<' + r + '~~~(?:\\s*,\\s*' + r + '~~~)*>)?', /~~~/g, 2),
    l = {
      keyword: [
        'synchronized',
        'abstract',
        'private',
        'var',
        'static',
        'if',
        'const ',
        'for',
        'while',
        'strictfp',
        'finally',
        'protected',
        'import',
        'native',
        'final',
        'void',
        'enum',
        'else',
        'break',
        'transient',
        'catch',
        'instanceof',
        'volatile',
        'case',
        'assert',
        'package',
        'default',
        'public',
        'try',
        'switch',
        'continue',
        'throws',
        'protected',
        'public',
        'private',
        'module',
        'requires',
        'exports',
        'do',
        'sealed',
        'yield',
        'permits',
        'goto',
        'when',
      ],
      literal: ['false', 'true', 'null'],
      type: ['char', 'boolean', 'long', 'float', 'int', 'byte', 'short', 'double'],
      built_in: ['super', 'this'],
    },
    u = {
      className: 'meta',
      begin: '@' + r,
      contains: [{ begin: /\(/, end: /\)/, contains: ['self'] }],
    },
    c = {
      className: 'params',
      begin: /\(/,
      end: /\)/,
      keywords: l,
      relevance: 0,
      contains: [t.C_BLOCK_COMMENT_MODE],
      endsParent: !0,
    };
  return {
    name: 'Java',
    aliases: ['jsp'],
    keywords: l,
    illegal: /<\/|#/,
    contains: [
      t.COMMENT('/\\*\\*', '\\*/', {
        relevance: 0,
        contains: [
          { begin: /\w+@/, relevance: 0 },
          { className: 'doctag', begin: '@[A-Za-z]+' },
        ],
      }),
      { begin: /import java\.[a-z]+\./, keywords: 'import', relevance: 2 },
      t.C_LINE_COMMENT_MODE,
      t.C_BLOCK_COMMENT_MODE,
      { begin: /"""/, end: /"""/, className: 'string', contains: [t.BACKSLASH_ESCAPE] },
      t.APOS_STRING_MODE,
      t.QUOTE_STRING_MODE,
      {
        match: [/\b(?:class|interface|enum|extends|implements|new)/, /\s+/, r],
        className: { 1: 'keyword', 3: 'title.class' },
      },
      { match: /non-sealed/, scope: 'keyword' },
      {
        begin: [e.concat(/(?!else)/, r), /\s+/, r, /\s+/, /=(?!=)/],
        className: { 1: 'type', 3: 'variable', 5: 'operator' },
      },
      {
        begin: [/record/, /\s+/, r],
        className: { 1: 'keyword', 3: 'title.class' },
        contains: [c, t.C_LINE_COMMENT_MODE, t.C_BLOCK_COMMENT_MODE],
      },
      { beginKeywords: 'new throw return else', relevance: 0 },
      {
        begin: ['(?:' + n + '\\s+)', t.UNDERSCORE_IDENT_RE, /\s*(?=\()/],
        className: { 2: 'title.function' },
        keywords: l,
        contains: [
          {
            className: 'params',
            begin: /\(/,
            end: /\)/,
            keywords: l,
            relevance: 0,
            contains: [u, t.APOS_STRING_MODE, t.QUOTE_STRING_MODE, gir, t.C_BLOCK_COMMENT_MODE],
          },
          t.C_LINE_COMMENT_MODE,
          t.C_BLOCK_COMMENT_MODE,
        ],
      },
      gir,
      u,
    ],
  };
}
var vir = '[A-Za-z$_][0-9A-Za-z$_]*',
  OBn = [
    'as',
    'in',
    'of',
    'if',
    'for',
    'while',
    'finally',
    'var',
    'new',
    'function',
    'do',
    'return',
    'void',
    'else',
    'break',
    'catch',
    'instanceof',
    'with',
    'throw',
    'case',
    'default',
    'try',
    'switch',
    'continue',
    'typeof',
    'delete',
    'let',
    'yield',
    'const',
    'class',
    'debugger',
    'async',
    'await',
    'static',
    'import',
    'from',
    'export',
    'extends',
    'using',
  ],
  MBn = ['true', 'false', 'null', 'undefined', 'NaN', 'Infinity'],
  Cir = [
    'Object',
    'Function',
    'Boolean',
    'Symbol',
    'Math',
    'Date',
    'Number',
    'BigInt',
    'String',
    'RegExp',
    'Array',
    'Float32Array',
    'Float64Array',
    'Int8Array',
    'Uint8Array',
    'Uint8ClampedArray',
    'Int16Array',
    'Int32Array',
    'Uint16Array',
    'Uint32Array',
    'BigInt64Array',
    'BigUint64Array',
    'Set',
    'Map',
    'WeakSet',
    'WeakMap',
    'ArrayBuffer',
    'SharedArrayBuffer',
    'Atomics',
    'DataView',
    'JSON',
    'Promise',
    'Generator',
    'GeneratorFunction',
    'AsyncFunction',
    'Reflect',
    'Proxy',
    'Intl',
    'WebAssembly',
  ],
  _ir = [
    'Error',
    'EvalError',
    'InternalError',
    'RangeError',
    'ReferenceError',
    'SyntaxError',
    'TypeError',
    'URIError',
  ],
  Sir = [
    'setInterval',
    'setTimeout',
    'clearInterval',
    'clearTimeout',
    'require',
    'exports',
    'eval',
    'isFinite',
    'isNaN',
    'parseFloat',
    'parseInt',
    'decodeURI',
    'decodeURIComponent',
    'encodeURI',
    'encodeURIComponent',
    'escape',
    'unescape',
  ],
  LBn = [
    'arguments',
    'this',
    'super',
    'console',
    'window',
    'document',
    'localStorage',
    'sessionStorage',
    'module',
    'global',
  ],
  FBn = [].concat(Sir, Cir, _ir);
function bir(t) {
  let e = t.regex,
    r = (Ae, { after: X }) => {
      let re = '</' + Ae[0].slice(1);
      return Ae.input.indexOf(re, X) !== -1;
    },
    n = vir,
    i = { begin: '<>', end: '</>' },
    a = /<[A-Za-z0-9\\._:-]+\s*\/>/,
    s = {
      begin: /<[A-Za-z0-9\\._:-]+/,
      end: /\/[A-Za-z0-9\\._:-]+>|\/>/,
      isTrulyOpeningTag: (Ae, X) => {
        let re = Ae[0].length + Ae.index,
          de = Ae.input[re];
        if (de === '<' || de === ',') {
          X.ignoreMatch();
          return;
        }
        de === '>' && (r(Ae, { after: re }) || X.ignoreMatch());
        let ye,
          he = Ae.input.substring(re);
        if ((ye = he.match(/^\s*=/))) {
          X.ignoreMatch();
          return;
        }
        if ((ye = he.match(/^\s+extends\s+/)) && ye.index === 0) {
          X.ignoreMatch();
          return;
        }
      },
    },
    o = { $pattern: vir, keyword: OBn, literal: MBn, built_in: FBn, 'variable.language': LBn },
    l = '[0-9](_?[0-9])*',
    u = `\\.(${l})`,
    c = '0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*',
    p = {
      className: 'number',
      variants: [
        { begin: `(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b` },
        { begin: `\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b` },
        { begin: '\\b(0|[1-9](_?[0-9])*)n\\b' },
        { begin: '\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b' },
        { begin: '\\b0[bB][0-1](_?[0-1])*n?\\b' },
        { begin: '\\b0[oO][0-7](_?[0-7])*n?\\b' },
        { begin: '\\b0[0-7]+n?\\b' },
      ],
      relevance: 0,
    },
    h = { className: 'subst', begin: '\\$\\{', end: '\\}', keywords: o, contains: [] },
    m = {
      begin: '.?html`',
      end: '',
      starts: { end: '`', returnEnd: !1, contains: [t.BACKSLASH_ESCAPE, h], subLanguage: 'xml' },
    },
    E = {
      begin: '.?css`',
      end: '',
      starts: { end: '`', returnEnd: !1, contains: [t.BACKSLASH_ESCAPE, h], subLanguage: 'css' },
    },
    v = {
      begin: '.?gql`',
      end: '',
      starts: {
        end: '`',
        returnEnd: !1,
        contains: [t.BACKSLASH_ESCAPE, h],
        subLanguage: 'graphql',
      },
    },
    g = { className: 'string', begin: '`', end: '`', contains: [t.BACKSLASH_ESCAPE, h] },
    S = {
      className: 'comment',
      variants: [
        t.COMMENT(/\/\*\*(?!\/)/, '\\*/', {
          relevance: 0,
          contains: [
            {
              begin: '(?=@[A-Za-z]+)',
              relevance: 0,
              contains: [
                { className: 'doctag', begin: '@[A-Za-z]+' },
                {
                  className: 'type',
                  begin: '\\{',
                  end: '\\}',
                  excludeEnd: !0,
                  excludeBegin: !0,
                  relevance: 0,
                },
                { className: 'variable', begin: n + '(?=\\s*(-)|$)', endsParent: !0, relevance: 0 },
                { begin: /(?=[^\n])\s/, relevance: 0 },
              ],
            },
          ],
        }),
        t.C_BLOCK_COMMENT_MODE,
        t.C_LINE_COMMENT_MODE,
      ],
    },
    b = [t.APOS_STRING_MODE, t.QUOTE_STRING_MODE, m, E, v, g, { match: /\$\d+/ }, p];
  h.contains = b.concat({ begin: /\{/, end: /\}/, keywords: o, contains: ['self'].concat(b) });
  let I = [].concat(S, h.contains),
    R = I.concat([{ begin: /(\s*)\(/, end: /\)/, keywords: o, contains: ['self'].concat(I) }]),
    F = {
      className: 'params',
      begin: /(\s*)\(/,
      end: /\)/,
      excludeBegin: !0,
      excludeEnd: !0,
      keywords: o,
      contains: R,
    },
    G = {
      variants: [
        {
          match: [
            /class/,
            /\s+/,
            n,
            /\s+/,
            /extends/,
            /\s+/,
            e.concat(n, '(', e.concat(/\./, n), ')*'),
          ],
          scope: { 1: 'keyword', 3: 'title.class', 5: 'keyword', 7: 'title.class.inherited' },
        },
        { match: [/class/, /\s+/, n], scope: { 1: 'keyword', 3: 'title.class' } },
      ],
    },
    U = {
      relevance: 0,
      match: e.either(
        /\bJSON/,
        /\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,
        /\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,
        /\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/
      ),
      className: 'title.class',
      keywords: { _: [...Cir, ..._ir] },
    },
    M = {
      label: 'use_strict',
      className: 'meta',
      relevance: 10,
      begin: /^\s*['"]use (strict|asm)['"]/,
    },
    Y = {
      variants: [
        { match: [/function/, /\s+/, n, /(?=\s*\()/] },
        { match: [/function/, /\s*(?=\()/] },
      ],
      className: { 1: 'keyword', 3: 'title.function' },
      label: 'func.def',
      contains: [F],
      illegal: /%/,
    },
    z = { relevance: 0, match: /\b[A-Z][A-Z_0-9]+\b/, className: 'variable.constant' };
  function se(Ae) {
    return e.concat('(?!', Ae.join('|'), ')');
  }
  let j = {
      match: e.concat(
        /\b/,
        se([...Sir, 'super', 'import'].map((Ae) => `${Ae}\\s*\\(`)),
        n,
        e.lookahead(/\s*\(/)
      ),
      className: 'title.function',
      relevance: 0,
    },
    N = {
      begin: e.concat(/\./, e.lookahead(e.concat(n, /(?![0-9A-Za-z$_(])/))),
      end: n,
      excludeBegin: !0,
      keywords: 'prototype',
      className: 'property',
      relevance: 0,
    },
    H = {
      match: [/get|set/, /\s+/, n, /(?=\()/],
      className: { 1: 'keyword', 3: 'title.function' },
      contains: [{ begin: /\(\)/ }, F],
    },
    ee =
      '(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|' +
      t.UNDERSCORE_IDENT_RE +
      ')\\s*=>',
    me = {
      match: [/const|var|let/, /\s+/, n, /\s*/, /=\s*/, /(async\s*)?/, e.lookahead(ee)],
      keywords: 'async',
      className: { 1: 'keyword', 3: 'title.function' },
      contains: [F],
    };
  return {
    name: 'JavaScript',
    aliases: ['js', 'jsx', 'mjs', 'cjs'],
    keywords: o,
    exports: { PARAMS_CONTAINS: R, CLASS_REFERENCE: U },
    illegal: /#(?![$_A-z])/,
    contains: [
      t.SHEBANG({ label: 'shebang', binary: 'node', relevance: 5 }),
      M,
      t.APOS_STRING_MODE,
      t.QUOTE_STRING_MODE,
      m,
      E,
      v,
      g,
      S,
      { match: /\$\d+/ },
      p,
      U,
      { scope: 'attr', match: n + e.lookahead(':'), relevance: 0 },
      me,
      {
        begin: '(' + t.RE_STARTERS_RE + '|\\b(case|return|throw)\\b)\\s*',
        keywords: 'return throw case',
        relevance: 0,
        contains: [
          S,
          t.REGEXP_MODE,
          {
            className: 'function',
            begin: ee,
            returnBegin: !0,
            end: '\\s*=>',
            contains: [
              {
                className: 'params',
                variants: [
                  { begin: t.UNDERSCORE_IDENT_RE, relevance: 0 },
                  { className: null, begin: /\(\s*\)/, skip: !0 },
                  {
                    begin: /(\s*)\(/,
                    end: /\)/,
                    excludeBegin: !0,
                    excludeEnd: !0,
                    keywords: o,
                    contains: R,
                  },
                ],
              },
            ],
          },
          { begin: /,/, relevance: 0 },
          { match: /\s+/, relevance: 0 },
          {
            variants: [
              { begin: i.begin, end: i.end },
              { match: a },
              { begin: s.begin, 'on:begin': s.isTrulyOpeningTag, end: s.end },
            ],
            subLanguage: 'xml',
            contains: [{ begin: s.begin, end: s.end, skip: !0, contains: ['self'] }],
          },
        ],
      },
      Y,
      { beginKeywords: 'while if switch catch for' },
      {
        begin:
          '\\b(?!function)' +
          t.UNDERSCORE_IDENT_RE +
          '\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{',
        returnBegin: !0,
        label: 'func.def',
        contains: [F, t.inherit(t.TITLE_MODE, { begin: n, className: 'title.function' })],
      },
      { match: /\.\.\./, relevance: 0 },
      N,
      { match: '\\$' + n, relevance: 0 },
      { match: [/\bconstructor(?=\s*\()/], className: { 1: 'title.function' }, contains: [F] },
      j,
      z,
      G,
      H,
      { match: /\$[(.]/ },
    ],
  };
}
function Dir(t) {
  let e = { className: 'attr', begin: /"(\\.|[^\\"\r\n])*"(?=\s*:)/, relevance: 1.01 },
    r = { match: /[{}[\],:]/, className: 'punctuation', relevance: 0 },
    n = ['true', 'false', 'null'],
    i = { scope: 'literal', beginKeywords: n.join(' ') };
  return {
    name: 'JSON',
    aliases: ['jsonc'],
    keywords: { literal: n },
    contains: [
      e,
      r,
      t.QUOTE_STRING_MODE,
      i,
      t.C_NUMBER_MODE,
      t.C_LINE_COMMENT_MODE,
      t.C_BLOCK_COMMENT_MODE,
    ],
    illegal: '\\S',
  };
}
var Qk = '[0-9](_*[0-9])*',
  Bhe = `\\.(${Qk})`,
  Rhe = '[0-9a-fA-F](_*[0-9a-fA-F])*',
  PBn = {
    className: 'number',
    variants: [
      { begin: `(\\b(${Qk})((${Bhe})|\\.)?|(${Bhe}))[eE][+-]?(${Qk})[fFdD]?\\b` },
      { begin: `\\b(${Qk})((${Bhe})[fFdD]?\\b|\\.([fFdD]\\b)?)` },
      { begin: `(${Bhe})[fFdD]?\\b` },
      { begin: `\\b(${Qk})[fFdD]\\b` },
      { begin: `\\b0[xX]((${Rhe})\\.?|(${Rhe})?\\.(${Rhe}))[pP][+-]?(${Qk})[fFdD]?\\b` },
      { begin: '\\b(0|[1-9](_*[0-9])*)[lL]?\\b' },
      { begin: `\\b0[xX](${Rhe})[lL]?\\b` },
      { begin: '\\b0(_*[0-7])*[lL]?\\b' },
      { begin: '\\b0[bB][01](_*[01])*[lL]?\\b' },
    ],
    relevance: 0,
  };
function wir(t) {
  let e = {
      keyword:
        'abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual',
      built_in: 'Byte Short Char Int Long Boolean Float Double Void Unit Nothing',
      literal: 'true false null',
    },
    r = {
      className: 'keyword',
      begin: /\b(break|continue|return|this)\b/,
      starts: { contains: [{ className: 'symbol', begin: /@\w+/ }] },
    },
    n = { className: 'symbol', begin: t.UNDERSCORE_IDENT_RE + '@' },
    i = { className: 'subst', begin: /\$\{/, end: /\}/, contains: [t.C_NUMBER_MODE] },
    a = { className: 'variable', begin: '\\$' + t.UNDERSCORE_IDENT_RE },
    s = {
      className: 'string',
      variants: [
        { begin: '"""', end: '"""(?=[^"])', contains: [a, i] },
        { begin: "'", end: "'", illegal: /\n/, contains: [t.BACKSLASH_ESCAPE] },
        { begin: '"', end: '"', illegal: /\n/, contains: [t.BACKSLASH_ESCAPE, a, i] },
      ],
    };
  i.contains.push(s);
  let o = {
      className: 'meta',
      begin:
        '@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*' +
        t.UNDERSCORE_IDENT_RE +
        ')?',
    },
    l = {
      className: 'meta',
      begin: '@' + t.UNDERSCORE_IDENT_RE,
      contains: [
        { begin: /\(/, end: /\)/, contains: [t.inherit(s, { className: 'string' }), 'self'] },
      ],
    },
    u = PBn,
    c = t.COMMENT('/\\*', '\\*/', { contains: [t.C_BLOCK_COMMENT_MODE] }),
    p = {
      variants: [
        { className: 'type', begin: t.UNDERSCORE_IDENT_RE },
        { begin: /\(/, end: /\)/, contains: [] },
      ],
    },
    h = p;
  return (
    (h.variants[1].contains = [p]),
    (p.variants[1].contains = [h]),
    {
      name: 'Kotlin',
      aliases: ['kt', 'kts'],
      keywords: e,
      contains: [
        t.COMMENT('/\\*\\*', '\\*/', {
          relevance: 0,
          contains: [{ className: 'doctag', begin: '@[A-Za-z]+' }],
        }),
        t.C_LINE_COMMENT_MODE,
        c,
        r,
        n,
        o,
        l,
        {
          className: 'function',
          beginKeywords: 'fun',
          end: '[(]|$',
          returnBegin: !0,
          excludeEnd: !0,
          keywords: e,
          relevance: 5,
          contains: [
            {
              begin: t.UNDERSCORE_IDENT_RE + '\\s*\\(',
              returnBegin: !0,
              relevance: 0,
              contains: [t.UNDERSCORE_TITLE_MODE],
            },
            { className: 'type', begin: /</, end: />/, keywords: 'reified', relevance: 0 },
            {
              className: 'params',
              begin: /\(/,
              end: /\)/,
              endsParent: !0,
              keywords: e,
              relevance: 0,
              contains: [
                {
                  begin: /:/,
                  end: /[=,\/]/,
                  endsWithParent: !0,
                  contains: [p, t.C_LINE_COMMENT_MODE, c],
                  relevance: 0,
                },
                t.C_LINE_COMMENT_MODE,
                c,
                o,
                l,
                s,
                t.C_NUMBER_MODE,
              ],
            },
            c,
          ],
        },
        {
          begin: [/class|interface|trait/, /\s+/, t.UNDERSCORE_IDENT_RE],
          beginScope: { 3: 'title.class' },
          keywords: 'class interface trait',
          end: /[:\{(]|$/,
          excludeEnd: !0,
          illegal: 'extends implements',
          contains: [
            { beginKeywords: 'public protected internal private constructor' },
            t.UNDERSCORE_TITLE_MODE,
            {
              className: 'type',
              begin: /</,
              end: />/,
              excludeBegin: !0,
              excludeEnd: !0,
              relevance: 0,
            },
            {
              className: 'type',
              begin: /[,:]\s*/,
              end: /[<\(,){\s]|$/,
              excludeBegin: !0,
              returnEnd: !0,
            },
            o,
            l,
          ],
        },
        s,
        {
          className: 'meta',
          begin: '^#!/usr/bin/env',
          end: '$',
          illegal: `
`,
        },
        u,
      ],
    }
  );
}
var QBn = (t) => ({
    IMPORTANT: { scope: 'meta', begin: '!important' },
    BLOCK_COMMENT: t.C_BLOCK_COMMENT_MODE,
    HEXCOLOR: { scope: 'number', begin: /#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/ },
    FUNCTION_DISPATCH: { className: 'built_in', begin: /[\w-]+(?=\()/ },
    ATTRIBUTE_SELECTOR_MODE: {
      scope: 'selector-attr',
      begin: /\[/,
      end: /\]/,
      illegal: '$',
      contains: [t.APOS_STRING_MODE, t.QUOTE_STRING_MODE],
    },
    CSS_NUMBER_MODE: {
      scope: 'number',
      begin:
        t.NUMBER_RE +
        '(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?',
      relevance: 0,
    },
    CSS_VARIABLE: { className: 'attr', begin: /--[A-Za-z_][A-Za-z0-9_-]*/ },
  }),
  kBn = [
    'a',
    'abbr',
    'address',
    'article',
    'aside',
    'audio',
    'b',
    'blockquote',
    'body',
    'button',
    'canvas',
    'caption',
    'cite',
    'code',
    'dd',
    'del',
    'details',
    'dfn',
    'div',
    'dl',
    'dt',
    'em',
    'fieldset',
    'figcaption',
    'figure',
    'footer',
    'form',
    'h1',
    'h2',
    'h3',
    'h4',
    'h5',
    'h6',
    'header',
    'hgroup',
    'html',
    'i',
    'iframe',
    'img',
    'input',
    'ins',
    'kbd',
    'label',
    'legend',
    'li',
    'main',
    'mark',
    'menu',
    'nav',
    'object',
    'ol',
    'optgroup',
    'option',
    'p',
    'picture',
    'q',
    'quote',
    'samp',
    'section',
    'select',
    'source',
    'span',
    'strong',
    'summary',
    'sup',
    'table',
    'tbody',
    'td',
    'textarea',
    'tfoot',
    'th',
    'thead',
    'time',
    'tr',
    'ul',
    'var',
    'video',
  ],
  UBn = [
    'defs',
    'g',
    'marker',
    'mask',
    'pattern',
    'svg',
    'switch',
    'symbol',
    'feBlend',
    'feColorMatrix',
    'feComponentTransfer',
    'feComposite',
    'feConvolveMatrix',
    'feDiffuseLighting',
    'feDisplacementMap',
    'feFlood',
    'feGaussianBlur',
    'feImage',
    'feMerge',
    'feMorphology',
    'feOffset',
    'feSpecularLighting',
    'feTile',
    'feTurbulence',
    'linearGradient',
    'radialGradient',
    'stop',
    'circle',
    'ellipse',
    'image',
    'line',
    'path',
    'polygon',
    'polyline',
    'rect',
    'text',
    'use',
    'textPath',
    'tspan',
    'foreignObject',
    'clipPath',
  ],
  HBn = [...kBn, ...UBn],
  VBn = [
    'any-hover',
    'any-pointer',
    'aspect-ratio',
    'color',
    'color-gamut',
    'color-index',
    'device-aspect-ratio',
    'device-height',
    'device-width',
    'display-mode',
    'forced-colors',
    'grid',
    'height',
    'hover',
    'inverted-colors',
    'monochrome',
    'orientation',
    'overflow-block',
    'overflow-inline',
    'pointer',
    'prefers-color-scheme',
    'prefers-contrast',
    'prefers-reduced-motion',
    'prefers-reduced-transparency',
    'resolution',
    'scan',
    'scripting',
    'update',
    'width',
    'min-width',
    'max-width',
    'min-height',
    'max-height',
  ]
    .sort()
    .reverse(),
  Iir = [
    'active',
    'any-link',
    'blank',
    'checked',
    'current',
    'default',
    'defined',
    'dir',
    'disabled',
    'drop',
    'empty',
    'enabled',
    'first',
    'first-child',
    'first-of-type',
    'fullscreen',
    'future',
    'focus',
    'focus-visible',
    'focus-within',
    'has',
    'host',
    'host-context',
    'hover',
    'indeterminate',
    'in-range',
    'invalid',
    'is',
    'lang',
    'last-child',
    'last-of-type',
    'left',
    'link',
    'local-link',
    'not',
    'nth-child',
    'nth-col',
    'nth-last-child',
    'nth-last-col',
    'nth-last-of-type',
    'nth-of-type',
    'only-child',
    'only-of-type',
    'optional',
    'out-of-range',
    'past',
    'placeholder-shown',
    'read-only',
    'read-write',
    'required',
    'right',
    'root',
    'scope',
    'target',
    'target-within',
    'user-invalid',
    'valid',
    'visited',
    'where',
  ]
    .sort()
    .reverse(),
  Tir = [
    'after',
    'backdrop',
    'before',
    'cue',
    'cue-region',
    'first-letter',
    'first-line',
    'grammar-error',
    'marker',
    'part',
    'placeholder',
    'selection',
    'slotted',
    'spelling-error',
  ]
    .sort()
    .reverse(),
  GBn = [
    'accent-color',
    'align-content',
    'align-items',
    'align-self',
    'alignment-baseline',
    'all',
    'anchor-name',
    'animation',
    'animation-composition',
    'animation-delay',
    'animation-direction',
    'animation-duration',
    'animation-fill-mode',
    'animation-iteration-count',
    'animation-name',
    'animation-play-state',
    'animation-range',
    'animation-range-end',
    'animation-range-start',
    'animation-timeline',
    'animation-timing-function',
    'appearance',
    'aspect-ratio',
    'backdrop-filter',
    'backface-visibility',
    'background',
    'background-attachment',
    'background-blend-mode',
    'background-clip',
    'background-color',
    'background-image',
    'background-origin',
    'background-position',
    'background-position-x',
    'background-position-y',
    'background-repeat',
    'background-size',
    'baseline-shift',
    'block-size',
    'border',
    'border-block',
    'border-block-color',
    'border-block-end',
    'border-block-end-color',
    'border-block-end-style',
    'border-block-end-width',
    'border-block-start',
    'border-block-start-color',
    'border-block-start-style',
    'border-block-start-width',
    'border-block-style',
    'border-block-width',
    'border-bottom',
    'border-bottom-color',
    'border-bottom-left-radius',
    'border-bottom-right-radius',
    'border-bottom-style',
    'border-bottom-width',
    'border-collapse',
    'border-color',
    'border-end-end-radius',
    'border-end-start-radius',
    'border-image',
    'border-image-outset',
    'border-image-repeat',
    'border-image-slice',
    'border-image-source',
    'border-image-width',
    'border-inline',
    'border-inline-color',
    'border-inline-end',
    'border-inline-end-color',
    'border-inline-end-style',
    'border-inline-end-width',
    'border-inline-start',
    'border-inline-start-color',
    'border-inline-start-style',
    'border-inline-start-width',
    'border-inline-style',
    'border-inline-width',
    'border-left',
    'border-left-color',
    'border-left-style',
    'border-left-width',
    'border-radius',
    'border-right',
    'border-right-color',
    'border-right-style',
    'border-right-width',
    'border-spacing',
    'border-start-end-radius',
    'border-start-start-radius',
    'border-style',
    'border-top',
    'border-top-color',
    'border-top-left-radius',
    'border-top-right-radius',
    'border-top-style',
    'border-top-width',
    'border-width',
    'bottom',
    'box-align',
    'box-decoration-break',
    'box-direction',
    'box-flex',
    'box-flex-group',
    'box-lines',
    'box-ordinal-group',
    'box-orient',
    'box-pack',
    'box-shadow',
    'box-sizing',
    'break-after',
    'break-before',
    'break-inside',
    'caption-side',
    'caret-color',
    'clear',
    'clip',
    'clip-path',
    'clip-rule',
    'color',
    'color-interpolation',
    'color-interpolation-filters',
    'color-profile',
    'color-rendering',
    'color-scheme',
    'column-count',
    'column-fill',
    'column-gap',
    'column-rule',
    'column-rule-color',
    'column-rule-style',
    'column-rule-width',
    'column-span',
    'column-width',
    'columns',
    'contain',
    'contain-intrinsic-block-size',
    'contain-intrinsic-height',
    'contain-intrinsic-inline-size',
    'contain-intrinsic-size',
    'contain-intrinsic-width',
    'container',
    'container-name',
    'container-type',
    'content',
    'content-visibility',
    'counter-increment',
    'counter-reset',
    'counter-set',
    'cue',
    'cue-after',
    'cue-before',
    'cursor',
    'cx',
    'cy',
    'direction',
    'display',
    'dominant-baseline',
    'empty-cells',
    'enable-background',
    'field-sizing',
    'fill',
    'fill-opacity',
    'fill-rule',
    'filter',
    'flex',
    'flex-basis',
    'flex-direction',
    'flex-flow',
    'flex-grow',
    'flex-shrink',
    'flex-wrap',
    'float',
    'flood-color',
    'flood-opacity',
    'flow',
    'font',
    'font-display',
    'font-family',
    'font-feature-settings',
    'font-kerning',
    'font-language-override',
    'font-optical-sizing',
    'font-palette',
    'font-size',
    'font-size-adjust',
    'font-smooth',
    'font-smoothing',
    'font-stretch',
    'font-style',
    'font-synthesis',
    'font-synthesis-position',
    'font-synthesis-small-caps',
    'font-synthesis-style',
    'font-synthesis-weight',
    'font-variant',
    'font-variant-alternates',
    'font-variant-caps',
    'font-variant-east-asian',
    'font-variant-emoji',
    'font-variant-ligatures',
    'font-variant-numeric',
    'font-variant-position',
    'font-variation-settings',
    'font-weight',
    'forced-color-adjust',
    'gap',
    'glyph-orientation-horizontal',
    'glyph-orientation-vertical',
    'grid',
    'grid-area',
    'grid-auto-columns',
    'grid-auto-flow',
    'grid-auto-rows',
    'grid-column',
    'grid-column-end',
    'grid-column-start',
    'grid-gap',
    'grid-row',
    'grid-row-end',
    'grid-row-start',
    'grid-template',
    'grid-template-areas',
    'grid-template-columns',
    'grid-template-rows',
    'hanging-punctuation',
    'height',
    'hyphenate-character',
    'hyphenate-limit-chars',
    'hyphens',
    'icon',
    'image-orientation',
    'image-rendering',
    'image-resolution',
    'ime-mode',
    'initial-letter',
    'initial-letter-align',
    'inline-size',
    'inset',
    'inset-area',
    'inset-block',
    'inset-block-end',
    'inset-block-start',
    'inset-inline',
    'inset-inline-end',
    'inset-inline-start',
    'isolation',
    'justify-content',
    'justify-items',
    'justify-self',
    'kerning',
    'left',
    'letter-spacing',
    'lighting-color',
    'line-break',
    'line-height',
    'line-height-step',
    'list-style',
    'list-style-image',
    'list-style-position',
    'list-style-type',
    'margin',
    'margin-block',
    'margin-block-end',
    'margin-block-start',
    'margin-bottom',
    'margin-inline',
    'margin-inline-end',
    'margin-inline-start',
    'margin-left',
    'margin-right',
    'margin-top',
    'margin-trim',
    'marker',
    'marker-end',
    'marker-mid',
    'marker-start',
    'marks',
    'mask',
    'mask-border',
    'mask-border-mode',
    'mask-border-outset',
    'mask-border-repeat',
    'mask-border-slice',
    'mask-border-source',
    'mask-border-width',
    'mask-clip',
    'mask-composite',
    'mask-image',
    'mask-mode',
    'mask-origin',
    'mask-position',
    'mask-repeat',
    'mask-size',
    'mask-type',
    'masonry-auto-flow',
    'math-depth',
    'math-shift',
    'math-style',
    'max-block-size',
    'max-height',
    'max-inline-size',
    'max-width',
    'min-block-size',
    'min-height',
    'min-inline-size',
    'min-width',
    'mix-blend-mode',
    'nav-down',
    'nav-index',
    'nav-left',
    'nav-right',
    'nav-up',
    'none',
    'normal',
    'object-fit',
    'object-position',
    'offset',
    'offset-anchor',
    'offset-distance',
    'offset-path',
    'offset-position',
    'offset-rotate',
    'opacity',
    'order',
    'orphans',
    'outline',
    'outline-color',
    'outline-offset',
    'outline-style',
    'outline-width',
    'overflow',
    'overflow-anchor',
    'overflow-block',
    'overflow-clip-margin',
    'overflow-inline',
    'overflow-wrap',
    'overflow-x',
    'overflow-y',
    'overlay',
    'overscroll-behavior',
    'overscroll-behavior-block',
    'overscroll-behavior-inline',
    'overscroll-behavior-x',
    'overscroll-behavior-y',
    'padding',
    'padding-block',
    'padding-block-end',
    'padding-block-start',
    'padding-bottom',
    'padding-inline',
    'padding-inline-end',
    'padding-inline-start',
    'padding-left',
    'padding-right',
    'padding-top',
    'page',
    'page-break-after',
    'page-break-before',
    'page-break-inside',
    'paint-order',
    'pause',
    'pause-after',
    'pause-before',
    'perspective',
    'perspective-origin',
    'place-content',
    'place-items',
    'place-self',
    'pointer-events',
    'position',
    'position-anchor',
    'position-visibility',
    'print-color-adjust',
    'quotes',
    'r',
    'resize',
    'rest',
    'rest-after',
    'rest-before',
    'right',
    'rotate',
    'row-gap',
    'ruby-align',
    'ruby-position',
    'scale',
    'scroll-behavior',
    'scroll-margin',
    'scroll-margin-block',
    'scroll-margin-block-end',
    'scroll-margin-block-start',
    'scroll-margin-bottom',
    'scroll-margin-inline',
    'scroll-margin-inline-end',
    'scroll-margin-inline-start',
    'scroll-margin-left',
    'scroll-margin-right',
    'scroll-margin-top',
    'scroll-padding',
    'scroll-padding-block',
    'scroll-padding-block-end',
    'scroll-padding-block-start',
    'scroll-padding-bottom',
    'scroll-padding-inline',
    'scroll-padding-inline-end',
    'scroll-padding-inline-start',
    'scroll-padding-left',
    'scroll-padding-right',
    'scroll-padding-top',
    'scroll-snap-align',
    'scroll-snap-stop',
    'scroll-snap-type',
    'scroll-timeline',
    'scroll-timeline-axis',
    'scroll-timeline-name',
    'scrollbar-color',
    'scrollbar-gutter',
    'scrollbar-width',
    'shape-image-threshold',
    'shape-margin',
    'shape-outside',
    'shape-rendering',
    'speak',
    'speak-as',
    'src',
    'stop-color',
    'stop-opacity',
    'stroke',
    'stroke-dasharray',
    'stroke-dashoffset',
    'stroke-linecap',
    'stroke-linejoin',
    'stroke-miterlimit',
    'stroke-opacity',
    'stroke-width',
    'tab-size',
    'table-layout',
    'text-align',
    'text-align-all',
    'text-align-last',
    'text-anchor',
    'text-combine-upright',
    'text-decoration',
    'text-decoration-color',
    'text-decoration-line',
    'text-decoration-skip',
    'text-decoration-skip-ink',
    'text-decoration-style',
    'text-decoration-thickness',
    'text-emphasis',
    'text-emphasis-color',
    'text-emphasis-position',
    'text-emphasis-style',
    'text-indent',
    'text-justify',
    'text-orientation',
    'text-overflow',
    'text-rendering',
    'text-shadow',
    'text-size-adjust',
    'text-transform',
    'text-underline-offset',
    'text-underline-position',
    'text-wrap',
    'text-wrap-mode',
    'text-wrap-style',
    'timeline-scope',
    'top',
    'touch-action',
    'transform',
    'transform-box',
    'transform-origin',
    'transform-style',
    'transition',
    'transition-behavior',
    'transition-delay',
    'transition-duration',
    'transition-property',
    'transition-timing-function',
    'translate',
    'unicode-bidi',
    'user-modify',
    'user-select',
    'vector-effect',
    'vertical-align',
    'view-timeline',
    'view-timeline-axis',
    'view-timeline-inset',
    'view-timeline-name',
    'view-transition-name',
    'visibility',
    'voice-balance',
    'voice-duration',
    'voice-family',
    'voice-pitch',
    'voice-range',
    'voice-rate',
    'voice-stress',
    'voice-volume',
    'white-space',
    'white-space-collapse',
    'widows',
    'width',
    'will-change',
    'word-break',
    'word-spacing',
    'word-wrap',
    'writing-mode',
    'x',
    'y',
    'z-index',
    'zoom',
  ]
    .sort()
    .reverse(),
  qBn = Iir.concat(Tir).sort().reverse();
function xir(t) {
  let e = QBn(t),
    r = qBn,
    n = 'and or not only',
    i = '[\\w-]+',
    a = '(' + i + '|@\\{' + i + '\\})',
    s = [],
    o = [],
    l = function (b) {
      return { className: 'string', begin: '~?' + b + '.*?' + b };
    },
    u = function (b, I, R) {
      return { className: b, begin: I, relevance: R };
    },
    c = { $pattern: /[a-z-]+/, keyword: n, attribute: VBn.join(' ') },
    p = { begin: '\\(', end: '\\)', contains: o, keywords: c, relevance: 0 };
  o.push(
    t.C_LINE_COMMENT_MODE,
    t.C_BLOCK_COMMENT_MODE,
    l("'"),
    l('"'),
    e.CSS_NUMBER_MODE,
    {
      begin: '(url|data-uri)\\(',
      starts: { className: 'string', end: '[\\)\\n]', excludeEnd: !0 },
    },
    e.HEXCOLOR,
    p,
    u('variable', '@@?' + i, 10),
    u('variable', '@\\{' + i + '\\}'),
    u('built_in', '~?`[^`]*?`'),
    { className: 'attribute', begin: i + '\\s*:', end: ':', returnBegin: !0, excludeEnd: !0 },
    e.IMPORTANT,
    { beginKeywords: 'and not' },
    e.FUNCTION_DISPATCH
  );
  let h = o.concat({ begin: /\{/, end: /\}/, contains: s }),
    m = {
      beginKeywords: 'when',
      endsWithParent: !0,
      contains: [{ beginKeywords: 'and not' }].concat(o),
    },
    E = {
      begin: a + '\\s*:',
      returnBegin: !0,
      end: /[;}]/,
      relevance: 0,
      contains: [
        { begin: /-(webkit|moz|ms|o)-/ },
        e.CSS_VARIABLE,
        {
          className: 'attribute',
          begin: '\\b(' + GBn.join('|') + ')\\b',
          end: /(?=:)/,
          starts: { endsWithParent: !0, illegal: '[<=$]', relevance: 0, contains: o },
        },
      ],
    },
    v = {
      className: 'keyword',
      begin:
        '@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b',
      starts: { end: '[;{}]', keywords: c, returnEnd: !0, contains: o, relevance: 0 },
    },
    g = {
      className: 'variable',
      variants: [{ begin: '@' + i + '\\s*:', relevance: 15 }, { begin: '@' + i }],
      starts: { end: '[;}]', returnEnd: !0, contains: h },
    },
    _ = {
      variants: [
        { begin: '[\\.#:&\\[>]', end: '[;{}]' },
        { begin: a, end: /\{/ },
      ],
      returnBegin: !0,
      returnEnd: !0,
      illegal: `[<='$"]`,
      relevance: 0,
      contains: [
        t.C_LINE_COMMENT_MODE,
        t.C_BLOCK_COMMENT_MODE,
        m,
        u('keyword', 'all\\b'),
        u('variable', '@\\{' + i + '\\}'),
        { begin: '\\b(' + HBn.join('|') + ')\\b', className: 'selector-tag' },
        e.CSS_NUMBER_MODE,
        u('selector-tag', a, 0),
        u('selector-id', '#' + a),
        u('selector-class', '\\.' + a, 0),
        u('selector-tag', '&', 0),
        e.ATTRIBUTE_SELECTOR_MODE,
        { className: 'selector-pseudo', begin: ':(' + Iir.join('|') + ')' },
        { className: 'selector-pseudo', begin: ':(:)?(' + Tir.join('|') + ')' },
        { begin: /\(/, end: /\)/, relevance: 0, contains: h },
        { begin: '!important' },
        e.FUNCTION_DISPATCH,
      ],
    },
    S = { begin: i + `:(:)?(${r.join('|')})`, returnBegin: !0, contains: [_] };
  return (
    s.push(t.C_LINE_COMMENT_MODE, t.C_BLOCK_COMMENT_MODE, v, g, S, E, _, m, e.FUNCTION_DISPATCH),
    { name: 'Less', case_insensitive: !0, illegal: `[=>'/<($"]`, contains: s }
  );
}
function Bir(t) {
  let e = '\\[=*\\[',
    r = '\\]=*\\]',
    n = { begin: e, end: r, contains: ['self'] },
    i = [
      t.COMMENT('--(?!' + e + ')', '$'),
      t.COMMENT('--' + e, r, { contains: [n], relevance: 10 }),
    ];
  return {
    name: 'Lua',
    aliases: ['pluto'],
    keywords: {
      $pattern: t.UNDERSCORE_IDENT_RE,
      literal: 'true false nil',
      keyword:
        'and break do else elseif end for goto if in local not or repeat return then until while',
      built_in:
        '_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove',
    },
    contains: i.concat([
      {
        className: 'function',
        beginKeywords: 'function',
        end: '\\)',
        contains: [
          t.inherit(t.TITLE_MODE, { begin: '([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*' }),
          { className: 'params', begin: '\\(', endsWithParent: !0, contains: i },
        ].concat(i),
      },
      t.C_NUMBER_MODE,
      t.APOS_STRING_MODE,
      t.QUOTE_STRING_MODE,
      { className: 'string', begin: e, end: r, contains: [n], relevance: 5 },
    ]),
  };
}
function Rir(t) {
  let e = {
      className: 'variable',
      variants: [
        { begin: '\\$\\(' + t.UNDERSCORE_IDENT_RE + '\\)', contains: [t.BACKSLASH_ESCAPE] },
        { begin: /\$[@%<?\^\+\*]/ },
      ],
    },
    r = { className: 'string', begin: /"/, end: /"/, contains: [t.BACKSLASH_ESCAPE, e] },
    n = {
      className: 'variable',
      begin: /\$\([\w-]+\s/,
      end: /\)/,
      keywords: {
        built_in:
          'subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value',
      },
      contains: [e, r],
    },
    i = { begin: '^' + t.UNDERSCORE_IDENT_RE + '\\s*(?=[:+?]?=)' },
    a = {
      className: 'meta',
      begin: /^\.PHONY:/,
      end: /$/,
      keywords: { $pattern: /[\.\w]+/, keyword: '.PHONY' },
    },
    s = { className: 'section', begin: /^[^\s]+:/, end: /$/, contains: [e] };
  return {
    name: 'Makefile',
    aliases: ['mk', 'mak', 'make'],
    keywords: {
      $pattern: /[\w-]+/,
      keyword:
        'define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath',
    },
    contains: [t.HASH_COMMENT_MODE, e, r, n, i, a, s],
  };
}
function Nir(t) {
  let e = t.regex,
    r = { begin: /<\/?[A-Za-z_]/, end: '>', subLanguage: 'xml', relevance: 0 },
    n = { begin: '^[-\\*]{3,}', end: '$' },
    i = {
      className: 'code',
      variants: [
        { begin: '(`{3,})[^`](.|\\n)*?\\1`*[ ]*' },
        { begin: '(~{3,})[^~](.|\\n)*?\\1~*[ ]*' },
        { begin: '```', end: '```+[ ]*$' },
        { begin: '~~~', end: '~~~+[ ]*$' },
        { begin: '`.+?`' },
        {
          begin: '(?=^( {4}|\\t))',
          contains: [{ begin: '^( {4}|\\t)', end: '(\\n)$' }],
          relevance: 0,
        },
      ],
    },
    a = {
      className: 'bullet',
      begin: '^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)',
      end: '\\s+',
      excludeEnd: !0,
    },
    s = {
      begin: /^\[[^\n]+\]:/,
      returnBegin: !0,
      contains: [
        { className: 'symbol', begin: /\[/, end: /\]/, excludeBegin: !0, excludeEnd: !0 },
        { className: 'link', begin: /:\s*/, end: /$/, excludeBegin: !0 },
      ],
    },
    o = /[A-Za-z][A-Za-z0-9+.-]*/,
    l = {
      variants: [
        { begin: /\[.+?\]\[.*?\]/, relevance: 0 },
        { begin: /\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/, relevance: 2 },
        { begin: e.concat(/\[.+?\]\(/, o, /:\/\/.*?\)/), relevance: 2 },
        { begin: /\[.+?\]\([./?&#].*?\)/, relevance: 1 },
        { begin: /\[.*?\]\(.*?\)/, relevance: 0 },
      ],
      returnBegin: !0,
      contains: [
        { match: /\[(?=\])/ },
        {
          className: 'string',
          relevance: 0,
          begin: '\\[',
          end: '\\]',
          excludeBegin: !0,
          returnEnd: !0,
        },
        {
          className: 'link',
          relevance: 0,
          begin: '\\]\\(',
          end: '\\)',
          excludeBegin: !0,
          excludeEnd: !0,
        },
        {
          className: 'symbol',
          relevance: 0,
          begin: '\\]\\[',
          end: '\\]',
          excludeBegin: !0,
          excludeEnd: !0,
        },
      ],
    },
    u = {
      className: 'strong',
      contains: [],
      variants: [
        { begin: /_{2}(?!\s)/, end: /_{2}/ },
        { begin: /\*{2}(?!\s)/, end: /\*{2}/ },
      ],
    },
    c = {
      className: 'emphasis',
      contains: [],
      variants: [
        { begin: /\*(?![*\s])/, end: /\*/ },
        { begin: /_(?![_\s])/, end: /_/, relevance: 0 },
      ],
    },
    p = t.inherit(u, { contains: [] }),
    h = t.inherit(c, { contains: [] });
  (u.contains.push(h), c.contains.push(p));
  let m = [r, l];
  return (
    [u, c, p, h].forEach((_) => {
      _.contains = _.contains.concat(m);
    }),
    (m = m.concat(u, c)),
    {
      name: 'Markdown',
      aliases: ['md', 'mkdown', 'mkd'],
      contains: [
        {
          className: 'section',
          variants: [
            { begin: '^#{1,6}', end: '$', contains: m },
            {
              begin: '(?=^.+?\\n[=-]{2,}$)',
              contains: [{ begin: '^[=-]*$' }, { begin: '^', end: '\\n', contains: m }],
            },
          ],
        },
        r,
        a,
        u,
        c,
        { className: 'quote', begin: '^>\\s+', contains: m, end: '$' },
        i,
        n,
        l,
        s,
        { scope: 'literal', match: /&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/ },
      ],
    }
  );
}
function Oir(t) {
  let e = {
      className: 'built_in',
      begin: '\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+',
    },
    r = /[a-zA-Z@][a-zA-Z0-9_]*/,
    o = {
      'variable.language': ['this', 'super'],
      $pattern: r,
      keyword: [
        'while',
        'export',
        'sizeof',
        'typedef',
        'const',
        'struct',
        'for',
        'union',
        'volatile',
        'static',
        'mutable',
        'if',
        'do',
        'return',
        'goto',
        'enum',
        'else',
        'break',
        'extern',
        'asm',
        'case',
        'default',
        'register',
        'explicit',
        'typename',
        'switch',
        'continue',
        'inline',
        'readonly',
        'assign',
        'readwrite',
        'self',
        '@synchronized',
        'id',
        'typeof',
        'nonatomic',
        'IBOutlet',
        'IBAction',
        'strong',
        'weak',
        'copy',
        'in',
        'out',
        'inout',
        'bycopy',
        'byref',
        'oneway',
        '__strong',
        '__weak',
        '__block',
        '__autoreleasing',
        '@private',
        '@protected',
        '@public',
        '@try',
        '@property',
        '@end',
        '@throw',
        '@catch',
        '@finally',
        '@autoreleasepool',
        '@synthesize',
        '@dynamic',
        '@selector',
        '@optional',
        '@required',
        '@encode',
        '@package',
        '@import',
        '@defs',
        '@compatibility_alias',
        '__bridge',
        '__bridge_transfer',
        '__bridge_retained',
        '__bridge_retain',
        '__covariant',
        '__contravariant',
        '__kindof',
        '_Nonnull',
        '_Nullable',
        '_Null_unspecified',
        '__FUNCTION__',
        '__PRETTY_FUNCTION__',
        '__attribute__',
        'getter',
        'setter',
        'retain',
        'unsafe_unretained',
        'nonnull',
        'nullable',
        'null_unspecified',
        'null_resettable',
        'class',
        'instancetype',
        'NS_DESIGNATED_INITIALIZER',
        'NS_UNAVAILABLE',
        'NS_REQUIRES_SUPER',
        'NS_RETURNS_INNER_POINTER',
        'NS_INLINE',
        'NS_AVAILABLE',
        'NS_DEPRECATED',
        'NS_ENUM',
        'NS_OPTIONS',
        'NS_SWIFT_UNAVAILABLE',
        'NS_ASSUME_NONNULL_BEGIN',
        'NS_ASSUME_NONNULL_END',
        'NS_REFINED_FOR_SWIFT',
        'NS_SWIFT_NAME',
        'NS_SWIFT_NOTHROW',
        'NS_DURING',
        'NS_HANDLER',
        'NS_ENDHANDLER',
        'NS_VALUERETURN',
        'NS_VOIDRETURN',
      ],
      literal: ['false', 'true', 'FALSE', 'TRUE', 'nil', 'YES', 'NO', 'NULL'],
      built_in: [
        'dispatch_once_t',
        'dispatch_queue_t',
        'dispatch_sync',
        'dispatch_async',
        'dispatch_once',
      ],
      type: [
        'int',
        'float',
        'char',
        'unsigned',
        'signed',
        'short',
        'long',
        'double',
        'wchar_t',
        'unichar',
        'void',
        'bool',
        'BOOL',
        'id|0',
        '_Bool',
      ],
    },
    l = { $pattern: r, keyword: ['@interface', '@class', '@protocol', '@implementation'] };
  return {
    name: 'Objective-C',
    aliases: ['mm', 'objc', 'obj-c', 'obj-c++', 'objective-c++'],
    keywords: o,
    illegal: '</',
    contains: [
      e,
      t.C_LINE_COMMENT_MODE,
      t.C_BLOCK_COMMENT_MODE,
      t.C_NUMBER_MODE,
      t.QUOTE_STRING_MODE,
      t.APOS_STRING_MODE,
      {
        className: 'string',
        variants: [{ begin: '@"', end: '"', illegal: '\\n', contains: [t.BACKSLASH_ESCAPE] }],
      },
      {
        className: 'meta',
        begin: /#\s*[a-z]+\b/,
        end: /$/,
        keywords: {
          keyword: 'if else elif endif define undef warning error line pragma ifdef ifndef include',
        },
        contains: [
          { begin: /\\\n/, relevance: 0 },
          t.inherit(t.QUOTE_STRING_MODE, { className: 'string' }),
          { className: 'string', begin: /<.*?>/, end: /$/, illegal: '\\n' },
          t.C_LINE_COMMENT_MODE,
          t.C_BLOCK_COMMENT_MODE,
        ],
      },
      {
        className: 'class',
        begin: '(' + l.keyword.join('|') + ')\\b',
        end: /(\{|$)/,
        excludeEnd: !0,
        keywords: l,
        contains: [t.UNDERSCORE_TITLE_MODE],
      },
      { begin: '\\.' + t.UNDERSCORE_IDENT_RE, relevance: 0 },
    ],
  };
}
function Mir(t) {
  let e = t.regex,
    r = [
      'abs',
      'accept',
      'alarm',
      'and',
      'atan2',
      'bind',
      'binmode',
      'bless',
      'break',
      'caller',
      'chdir',
      'chmod',
      'chomp',
      'chop',
      'chown',
      'chr',
      'chroot',
      'class',
      'close',
      'closedir',
      'connect',
      'continue',
      'cos',
      'crypt',
      'dbmclose',
      'dbmopen',
      'defined',
      'delete',
      'die',
      'do',
      'dump',
      'each',
      'else',
      'elsif',
      'endgrent',
      'endhostent',
      'endnetent',
      'endprotoent',
      'endpwent',
      'endservent',
      'eof',
      'eval',
      'exec',
      'exists',
      'exit',
      'exp',
      'fcntl',
      'field',
      'fileno',
      'flock',
      'for',
      'foreach',
      'fork',
      'format',
      'formline',
      'getc',
      'getgrent',
      'getgrgid',
      'getgrnam',
      'gethostbyaddr',
      'gethostbyname',
      'gethostent',
      'getlogin',
      'getnetbyaddr',
      'getnetbyname',
      'getnetent',
      'getpeername',
      'getpgrp',
      'getpriority',
      'getprotobyname',
      'getprotobynumber',
      'getprotoent',
      'getpwent',
      'getpwnam',
      'getpwuid',
      'getservbyname',
      'getservbyport',
      'getservent',
      'getsockname',
      'getsockopt',
      'given',
      'glob',
      'gmtime',
      'goto',
      'grep',
      'gt',
      'hex',
      'if',
      'index',
      'int',
      'ioctl',
      'join',
      'keys',
      'kill',
      'last',
      'lc',
      'lcfirst',
      'length',
      'link',
      'listen',
      'local',
      'localtime',
      'log',
      'lstat',
      'lt',
      'ma',
      'map',
      'method',
      'mkdir',
      'msgctl',
      'msgget',
      'msgrcv',
      'msgsnd',
      'my',
      'ne',
      'next',
      'no',
      'not',
      'oct',
      'open',
      'opendir',
      'or',
      'ord',
      'our',
      'pack',
      'package',
      'pipe',
      'pop',
      'pos',
      'print',
      'printf',
      'prototype',
      'push',
      'q|0',
      'qq',
      'quotemeta',
      'qw',
      'qx',
      'rand',
      'read',
      'readdir',
      'readline',
      'readlink',
      'readpipe',
      'recv',
      'redo',
      'ref',
      'rename',
      'require',
      'reset',
      'return',
      'reverse',
      'rewinddir',
      'rindex',
      'rmdir',
      'say',
      'scalar',
      'seek',
      'seekdir',
      'select',
      'semctl',
      'semget',
      'semop',
      'send',
      'setgrent',
      'sethostent',
      'setnetent',
      'setpgrp',
      'setpriority',
      'setprotoent',
      'setpwent',
      'setservent',
      'setsockopt',
      'shift',
      'shmctl',
      'shmget',
      'shmread',
      'shmwrite',
      'shutdown',
      'sin',
      'sleep',
      'socket',
      'socketpair',
      'sort',
      'splice',
      'split',
      'sprintf',
      'sqrt',
      'srand',
      'stat',
      'state',
      'study',
      'sub',
      'substr',
      'symlink',
      'syscall',
      'sysopen',
      'sysread',
      'sysseek',
      'system',
      'syswrite',
      'tell',
      'telldir',
      'tie',
      'tied',
      'time',
      'times',
      'tr',
      'truncate',
      'uc',
      'ucfirst',
      'umask',
      'undef',
      'unless',
      'unlink',
      'unpack',
      'unshift',
      'untie',
      'until',
      'use',
      'utime',
      'values',
      'vec',
      'wait',
      'waitpid',
      'wantarray',
      'warn',
      'when',
      'while',
      'write',
      'x|0',
      'xor',
      'y|0',
    ],
    n = /[dualxmsipngr]{0,12}/,
    i = { $pattern: /[\w.]+/, keyword: r.join(' ') },
    a = { className: 'subst', begin: '[$@]\\{', end: '\\}', keywords: i },
    s = { begin: /->\{/, end: /\}/ },
    o = { scope: 'attr', match: /\s+:\s*\w+(\s*\(.*?\))?/ },
    l = {
      scope: 'variable',
      variants: [
        { begin: /\$\d/ },
        {
          begin: e.concat(
            /[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,
            '(?![A-Za-z])(?![@$%])'
          ),
        },
        { begin: /[$%@](?!")[^\s\w{=]|\$=/, relevance: 0 },
      ],
      contains: [o],
    },
    u = {
      className: 'number',
      variants: [
        { match: /0?\.[0-9][0-9_]+\b/ },
        { match: /\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/ },
        { match: /\b0[0-7][0-7_]*\b/ },
        { match: /\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/ },
        { match: /\b0b[0-1][0-1_]*\b/ },
      ],
      relevance: 0,
    },
    c = [t.BACKSLASH_ESCAPE, a, l],
    p = [/!/, /\//, /\|/, /\?/, /'/, /"/, /#/],
    h = (v, g, _ = '\\1') => {
      let S = _ === '\\1' ? _ : e.concat(_, g);
      return e.concat(
        e.concat('(?:', v, ')'),
        g,
        /(?:\\.|[^\\\/])*?/,
        S,
        /(?:\\.|[^\\\/])*?/,
        _,
        n
      );
    },
    m = (v, g, _) => e.concat(e.concat('(?:', v, ')'), g, /(?:\\.|[^\\\/])*?/, _, n),
    E = [
      l,
      t.HASH_COMMENT_MODE,
      t.COMMENT(/^=\w/, /=cut/, { endsWithParent: !0 }),
      s,
      {
        className: 'string',
        contains: c,
        variants: [
          { begin: 'q[qwxr]?\\s*\\(', end: '\\)', relevance: 5 },
          { begin: 'q[qwxr]?\\s*\\[', end: '\\]', relevance: 5 },
          { begin: 'q[qwxr]?\\s*\\{', end: '\\}', relevance: 5 },
          { begin: 'q[qwxr]?\\s*\\|', end: '\\|', relevance: 5 },
          { begin: 'q[qwxr]?\\s*<', end: '>', relevance: 5 },
          { begin: 'qw\\s+q', end: 'q', relevance: 5 },
          { begin: "'", end: "'", contains: [t.BACKSLASH_ESCAPE] },
          { begin: '"', end: '"' },
          { begin: '`', end: '`', contains: [t.BACKSLASH_ESCAPE] },
          { begin: /\{\w+\}/, relevance: 0 },
          { begin: '-?\\w+\\s*=>', relevance: 0 },
        ],
      },
      u,
      {
        begin: '(\\/\\/|' + t.RE_STARTERS_RE + '|\\b(split|return|print|reverse|grep)\\b)\\s*',
        keywords: 'split return print reverse grep',
        relevance: 0,
        contains: [
          t.HASH_COMMENT_MODE,
          {
            className: 'regexp',
            variants: [
              { begin: h('s|tr|y', e.either(...p, { capture: !0 })) },
              { begin: h('s|tr|y', '\\(', '\\)') },
              { begin: h('s|tr|y', '\\[', '\\]') },
              { begin: h('s|tr|y', '\\{', '\\}') },
            ],
            relevance: 2,
          },
          {
            className: 'regexp',
            variants: [
              { begin: /(m|qr)\/\//, relevance: 0 },
              { begin: m('(?:m|qr)?', /\//, /\//) },
              { begin: m('m|qr', e.either(...p, { capture: !0 }), /\1/) },
              { begin: m('m|qr', /\(/, /\)/) },
              { begin: m('m|qr', /\[/, /\]/) },
              { begin: m('m|qr', /\{/, /\}/) },
            ],
          },
        ],
      },
      {
        className: 'function',
        beginKeywords: 'sub method',
        end: '(\\s*\\(.*?\\))?[;{]',
        excludeEnd: !0,
        relevance: 5,
        contains: [t.TITLE_MODE, o],
      },
      {
        className: 'class',
        beginKeywords: 'class',
        end: '[;{]',
        excludeEnd: !0,
        relevance: 5,
        contains: [t.TITLE_MODE, o, u],
      },
      { begin: '-\\w\\b', relevance: 0 },
      {
        begin: '^__DATA__$',
        end: '^__END__$',
        subLanguage: 'mojolicious',
        contains: [{ begin: '^@@.*', end: '$', className: 'comment' }],
      },
    ];
  return (
    (a.contains = E),
    (s.contains = E),
    { name: 'Perl', aliases: ['pl', 'pm'], keywords: i, contains: E }
  );
}
function Lir(t) {
  let e = t.regex,
    r = /(?![A-Za-z0-9])(?![$])/,
    n = e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/, r),
    i = e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/, r),
    a = e.concat(/[A-Z]+/, r),
    s = { scope: 'variable', match: '\\$+' + n },
    o = {
      scope: 'meta',
      variants: [
        { begin: /<\?php/, relevance: 10 },
        { begin: /<\?=/ },
        { begin: /<\?/, relevance: 0.1 },
        { begin: /\?>/ },
      ],
    },
    l = { scope: 'subst', variants: [{ begin: /\$\w+/ }, { begin: /\{\$/, end: /\}/ }] },
    u = t.inherit(t.APOS_STRING_MODE, { illegal: null }),
    c = t.inherit(t.QUOTE_STRING_MODE, {
      illegal: null,
      contains: t.QUOTE_STRING_MODE.contains.concat(l),
    }),
    p = {
      begin: /<<<[ \t]*(?:(\w+)|"(\w+)")\n/,
      end: /[ \t]*(\w+)\b/,
      contains: t.QUOTE_STRING_MODE.contains.concat(l),
      'on:begin': (N, H) => {
        H.data._beginMatch = N[1] || N[2];
      },
      'on:end': (N, H) => {
        H.data._beginMatch !== N[1] && H.ignoreMatch();
      },
    },
    h = t.END_SAME_AS_BEGIN({ begin: /<<<[ \t]*'(\w+)'\n/, end: /[ \t]*(\w+)\b/ }),
    m = `[
]`,
    E = { scope: 'string', variants: [c, u, p, h] },
    v = {
      scope: 'number',
      variants: [
        { begin: '\\b0[bB][01]+(?:_[01]+)*\\b' },
        { begin: '\\b0[oO][0-7]+(?:_[0-7]+)*\\b' },
        { begin: '\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b' },
        { begin: '(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?' },
      ],
      relevance: 0,
    },
    g = ['false', 'null', 'true'],
    _ = [
      '__CLASS__',
      '__DIR__',
      '__FILE__',
      '__FUNCTION__',
      '__COMPILER_HALT_OFFSET__',
      '__LINE__',
      '__METHOD__',
      '__NAMESPACE__',
      '__TRAIT__',
      'die',
      'echo',
      'exit',
      'include',
      'include_once',
      'print',
      'require',
      'require_once',
      'array',
      'abstract',
      'and',
      'as',
      'binary',
      'bool',
      'boolean',
      'break',
      'callable',
      'case',
      'catch',
      'class',
      'clone',
      'const',
      'continue',
      'declare',
      'default',
      'do',
      'double',
      'else',
      'elseif',
      'empty',
      'enddeclare',
      'endfor',
      'endforeach',
      'endif',
      'endswitch',
      'endwhile',
      'enum',
      'eval',
      'extends',
      'final',
      'finally',
      'float',
      'for',
      'foreach',
      'from',
      'global',
      'goto',
      'if',
      'implements',
      'instanceof',
      'insteadof',
      'int',
      'integer',
      'interface',
      'isset',
      'iterable',
      'list',
      'match|0',
      'mixed',
      'new',
      'never',
      'object',
      'or',
      'private',
      'protected',
      'public',
      'readonly',
      'real',
      'return',
      'string',
      'switch',
      'throw',
      'trait',
      'try',
      'unset',
      'use',
      'var',
      'void',
      'while',
      'xor',
      'yield',
    ],
    S = [
      'Error|0',
      'AppendIterator',
      'ArgumentCountError',
      'ArithmeticError',
      'ArrayIterator',
      'ArrayObject',
      'AssertionError',
      'BadFunctionCallException',
      'BadMethodCallException',
      'CachingIterator',
      'CallbackFilterIterator',
      'CompileError',
      'Countable',
      'DirectoryIterator',
      'DivisionByZeroError',
      'DomainException',
      'EmptyIterator',
      'ErrorException',
      'Exception',
      'FilesystemIterator',
      'FilterIterator',
      'GlobIterator',
      'InfiniteIterator',
      'InvalidArgumentException',
      'IteratorIterator',
      'LengthException',
      'LimitIterator',
      'LogicException',
      'MultipleIterator',
      'NoRewindIterator',
      'OutOfBoundsException',
      'OutOfRangeException',
      'OuterIterator',
      'OverflowException',
      'ParentIterator',
      'ParseError',
      'RangeException',
      'RecursiveArrayIterator',
      'RecursiveCachingIterator',
      'RecursiveCallbackFilterIterator',
      'RecursiveDirectoryIterator',
      'RecursiveFilterIterator',
      'RecursiveIterator',
      'RecursiveIteratorIterator',
      'RecursiveRegexIterator',
      'RecursiveTreeIterator',
      'RegexIterator',
      'RuntimeException',
      'SeekableIterator',
      'SplDoublyLinkedList',
      'SplFileInfo',
      'SplFileObject',
      'SplFixedArray',
      'SplHeap',
      'SplMaxHeap',
      'SplMinHeap',
      'SplObjectStorage',
      'SplObserver',
      'SplPriorityQueue',
      'SplQueue',
      'SplStack',
      'SplSubject',
      'SplTempFileObject',
      'TypeError',
      'UnderflowException',
      'UnexpectedValueException',
      'UnhandledMatchError',
      'ArrayAccess',
      'BackedEnum',
      'Closure',
      'Fiber',
      'Generator',
      'Iterator',
      'IteratorAggregate',
      'Serializable',
      'Stringable',
      'Throwable',
      'Traversable',
      'UnitEnum',
      'WeakReference',
      'WeakMap',
      'Directory',
      '__PHP_Incomplete_Class',
      'parent',
      'php_user_filter',
      'self',
      'static',
      'stdClass',
    ],
    I = {
      keyword: _,
      literal: ((N) => {
        let H = [];
        return (
          N.forEach((ee) => {
            (H.push(ee),
              ee.toLowerCase() === ee ? H.push(ee.toUpperCase()) : H.push(ee.toLowerCase()));
          }),
          H
        );
      })(g),
      built_in: S,
    },
    R = (N) => N.map((H) => H.replace(/\|\d+$/, '')),
    F = {
      variants: [
        {
          match: [/new/, e.concat(m, '+'), e.concat('(?!', R(S).join('\\b|'), '\\b)'), i],
          scope: { 1: 'keyword', 4: 'title.class' },
        },
      ],
    },
    G = e.concat(n, '\\b(?!\\()'),
    U = {
      variants: [
        {
          match: [e.concat(/::/, e.lookahead(/(?!class\b)/)), G],
          scope: { 2: 'variable.constant' },
        },
        { match: [/::/, /class/], scope: { 2: 'variable.language' } },
        {
          match: [i, e.concat(/::/, e.lookahead(/(?!class\b)/)), G],
          scope: { 1: 'title.class', 3: 'variable.constant' },
        },
        { match: [i, e.concat('::', e.lookahead(/(?!class\b)/))], scope: { 1: 'title.class' } },
        { match: [i, /::/, /class/], scope: { 1: 'title.class', 3: 'variable.language' } },
      ],
    },
    M = { scope: 'attr', match: e.concat(n, e.lookahead(':'), e.lookahead(/(?!::)/)) },
    Y = {
      relevance: 0,
      begin: /\(/,
      end: /\)/,
      keywords: I,
      contains: [M, s, U, t.C_BLOCK_COMMENT_MODE, E, v, F],
    },
    z = {
      relevance: 0,
      match: [
        /\b/,
        e.concat('(?!fn\\b|function\\b|', R(_).join('\\b|'), '|', R(S).join('\\b|'), '\\b)'),
        n,
        e.concat(m, '*'),
        e.lookahead(/(?=\()/),
      ],
      scope: { 3: 'title.function.invoke' },
      contains: [Y],
    };
  Y.contains.push(z);
  let se = [M, U, t.C_BLOCK_COMMENT_MODE, E, v, F],
    j = {
      begin: e.concat(/#\[\s*\\?/, e.either(i, a)),
      beginScope: 'meta',
      end: /]/,
      endScope: 'meta',
      keywords: { literal: g, keyword: ['new', 'array'] },
      contains: [
        {
          begin: /\[/,
          end: /]/,
          keywords: { literal: g, keyword: ['new', 'array'] },
          contains: ['self', ...se],
        },
        ...se,
        { scope: 'meta', variants: [{ match: i }, { match: a }] },
      ],
    };
  return {
    case_insensitive: !1,
    keywords: I,
    contains: [
      j,
      t.HASH_COMMENT_MODE,
      t.COMMENT('//', '$'),
      t.COMMENT('/\\*', '\\*/', { contains: [{ scope: 'doctag', match: '@[A-Za-z]+' }] }),
      {
        match: /__halt_compiler\(\);/,
        keywords: '__halt_compiler',
        starts: {
          scope: 'comment',
          end: t.MATCH_NOTHING_RE,
          contains: [{ match: /\?>/, scope: 'meta', endsParent: !0 }],
        },
      },
      o,
      { scope: 'variable.language', match: /\$this\b/ },
      s,
      z,
      U,
      { match: [/const/, /\s/, n], scope: { 1: 'keyword', 3: 'variable.constant' } },
      F,
      {
        scope: 'function',
        relevance: 0,
        beginKeywords: 'fn function',
        end: /[;{]/,
        excludeEnd: !0,
        illegal: '[$%\\[]',
        contains: [
          { beginKeywords: 'use' },
          t.UNDERSCORE_TITLE_MODE,
          { begin: '=>', endsParent: !0 },
          {
            scope: 'params',
            begin: '\\(',
            end: '\\)',
            excludeBegin: !0,
            excludeEnd: !0,
            keywords: I,
            contains: ['self', j, s, U, t.C_BLOCK_COMMENT_MODE, E, v],
          },
        ],
      },
      {
        scope: 'class',
        variants: [
          { beginKeywords: 'enum', illegal: /[($"]/ },
          { beginKeywords: 'class interface trait', illegal: /[:($"]/ },
        ],
        relevance: 0,
        end: /\{/,
        excludeEnd: !0,
        contains: [{ beginKeywords: 'extends implements' }, t.UNDERSCORE_TITLE_MODE],
      },
      {
        beginKeywords: 'namespace',
        relevance: 0,
        end: ';',
        illegal: /[.']/,
        contains: [t.inherit(t.UNDERSCORE_TITLE_MODE, { scope: 'title.class' })],
      },
      {
        beginKeywords: 'use',
        relevance: 0,
        end: ';',
        contains: [{ match: /\b(as|const|function)\b/, scope: 'keyword' }, t.UNDERSCORE_TITLE_MODE],
      },
      E,
      v,
    ],
  };
}
function Fir(t) {
  return {
    name: 'PHP template',
    subLanguage: 'xml',
    contains: [
      {
        begin: /<\?(php|=)?/,
        end: /\?>/,
        subLanguage: 'php',
        contains: [
          { begin: '/\\*', end: '\\*/', skip: !0 },
          { begin: 'b"', end: '"', skip: !0 },
          { begin: "b'", end: "'", skip: !0 },
          t.inherit(t.APOS_STRING_MODE, {
            illegal: null,
            className: null,
            contains: null,
            skip: !0,
          }),
          t.inherit(t.QUOTE_STRING_MODE, {
            illegal: null,
            className: null,
            contains: null,
            skip: !0,
          }),
        ],
      },
    ],
  };
}
function Pir(t) {
  return { name: 'Plain text', aliases: ['text', 'txt'], disableAutodetect: !0 };
}
function Qir(t) {
  let e = t.regex,
    r = /[\p{XID_Start}_]\p{XID_Continue}*/u,
    n = [
      'and',
      'as',
      'assert',
      'async',
      'await',
      'break',
      'case',
      'class',
      'continue',
      'def',
      'del',
      'elif',
      'else',
      'except',
      'finally',
      'for',
      'from',
      'global',
      'if',
      'import',
      'in',
      'is',
      'lambda',
      'match',
      'nonlocal|10',
      'not',
      'or',
      'pass',
      'raise',
      'return',
      'try',
      'while',
      'with',
      'yield',
    ],
    o = {
      $pattern: /[A-Za-z]\w+|__\w+__/,
      keyword: n,
      built_in: [
        '__import__',
        'abs',
        'all',
        'any',
        'ascii',
        'bin',
        'bool',
        'breakpoint',
        'bytearray',
        'bytes',
        'callable',
        'chr',
        'classmethod',
        'compile',
        'complex',
        'delattr',
        'dict',
        'dir',
        'divmod',
        'enumerate',
        'eval',
        'exec',
        'filter',
        'float',
        'format',
        'frozenset',
        'getattr',
        'globals',
        'hasattr',
        'hash',
        'help',
        'hex',
        'id',
        'input',
        'int',
        'isinstance',
        'issubclass',
        'iter',
        'len',
        'list',
        'locals',
        'map',
        'max',
        'memoryview',
        'min',
        'next',
        'object',
        'oct',
        'open',
        'ord',
        'pow',
        'print',
        'property',
        'range',
        'repr',
        'reversed',
        'round',
        'set',
        'setattr',
        'slice',
        'sorted',
        'staticmethod',
        'str',
        'sum',
        'super',
        'tuple',
        'type',
        'vars',
        'zip',
      ],
      literal: ['__debug__', 'Ellipsis', 'False', 'None', 'NotImplemented', 'True'],
      type: [
        'Any',
        'Callable',
        'Coroutine',
        'Dict',
        'List',
        'Literal',
        'Generic',
        'Optional',
        'Sequence',
        'Set',
        'Tuple',
        'Type',
        'Union',
      ],
    },
    l = { className: 'meta', begin: /^(>>>|\.\.\.) / },
    u = { className: 'subst', begin: /\{/, end: /\}/, keywords: o, illegal: /#/ },
    c = { begin: /\{\{/, relevance: 0 },
    p = {
      className: 'string',
      contains: [t.BACKSLASH_ESCAPE],
      variants: [
        {
          begin: /([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,
          end: /'''/,
          contains: [t.BACKSLASH_ESCAPE, l],
          relevance: 10,
        },
        {
          begin: /([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,
          end: /"""/,
          contains: [t.BACKSLASH_ESCAPE, l],
          relevance: 10,
        },
        {
          begin: /([fF][rR]|[rR][fF]|[fF])'''/,
          end: /'''/,
          contains: [t.BACKSLASH_ESCAPE, l, c, u],
        },
        {
          begin: /([fF][rR]|[rR][fF]|[fF])"""/,
          end: /"""/,
          contains: [t.BACKSLASH_ESCAPE, l, c, u],
        },
        { begin: /([uU]|[rR])'/, end: /'/, relevance: 10 },
        { begin: /([uU]|[rR])"/, end: /"/, relevance: 10 },
        { begin: /([bB]|[bB][rR]|[rR][bB])'/, end: /'/ },
        { begin: /([bB]|[bB][rR]|[rR][bB])"/, end: /"/ },
        { begin: /([fF][rR]|[rR][fF]|[fF])'/, end: /'/, contains: [t.BACKSLASH_ESCAPE, c, u] },
        { begin: /([fF][rR]|[rR][fF]|[fF])"/, end: /"/, contains: [t.BACKSLASH_ESCAPE, c, u] },
        t.APOS_STRING_MODE,
        t.QUOTE_STRING_MODE,
      ],
    },
    h = '[0-9](_?[0-9])*',
    m = `(\\b(${h}))?\\.(${h})|\\b(${h})\\.`,
    E = `\\b|${n.join('|')}`,
    v = {
      className: 'number',
      relevance: 0,
      variants: [
        { begin: `(\\b(${h})|(${m}))[eE][+-]?(${h})[jJ]?(?=${E})` },
        { begin: `(${m})[jJ]?` },
        { begin: `\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${E})` },
        { begin: `\\b0[bB](_?[01])+[lL]?(?=${E})` },
        { begin: `\\b0[oO](_?[0-7])+[lL]?(?=${E})` },
        { begin: `\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${E})` },
        { begin: `\\b(${h})[jJ](?=${E})` },
      ],
    },
    g = {
      className: 'comment',
      begin: e.lookahead(/# type:/),
      end: /$/,
      keywords: o,
      contains: [{ begin: /# type:/ }, { begin: /#/, end: /\b\B/, endsWithParent: !0 }],
    },
    _ = {
      className: 'params',
      variants: [
        { className: '', begin: /\(\s*\)/, skip: !0 },
        {
          begin: /\(/,
          end: /\)/,
          excludeBegin: !0,
          excludeEnd: !0,
          keywords: o,
          contains: ['self', l, v, p, t.HASH_COMMENT_MODE],
        },
      ],
    };
  return (
    (u.contains = [p, v, l]),
    {
      name: 'Python',
      aliases: ['py', 'gyp', 'ipython'],
      unicodeRegex: !0,
      keywords: o,
      illegal: /(<\/|\?)|=>/,
      contains: [
        l,
        v,
        { scope: 'variable.language', match: /\bself\b/ },
        { beginKeywords: 'if', relevance: 0 },
        { match: /\bor\b/, scope: 'keyword' },
        p,
        g,
        t.HASH_COMMENT_MODE,
        { match: [/\bdef/, /\s+/, r], scope: { 1: 'keyword', 3: 'title.function' }, contains: [_] },
        {
          variants: [
            { match: [/\bclass/, /\s+/, r, /\s*/, /\(\s*/, r, /\s*\)/] },
            { match: [/\bclass/, /\s+/, r] },
          ],
          scope: { 1: 'keyword', 3: 'title.class', 6: 'title.class.inherited' },
        },
        { className: 'meta', begin: /^[\t ]*@/, end: /(?=#)|$/, contains: [v, _, p] },
      ],
    }
  );
}
function kir(t) {
  return {
    aliases: ['pycon'],
    contains: [
      {
        className: 'meta.prompt',
        starts: { end: / |$/, starts: { end: '$', subLanguage: 'python' } },
        variants: [{ begin: /^>>>(?=[ ]|$)/ }, { begin: /^\.\.\.(?=[ ]|$)/ }],
      },
    ],
  };
}
function Uir(t) {
  let e = t.regex,
    r = /(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,
    n = e.either(
      /0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,
      /0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,
      /(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/
    ),
    i = /[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,
    a = e.either(/[()]/, /[{}]/, /\[\[/, /[[\]]/, /\\/, /,/);
  return {
    name: 'R',
    keywords: {
      $pattern: r,
      keyword: 'function if in break next repeat else for while',
      literal:
        'NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10',
      built_in:
        'LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm',
    },
    contains: [
      t.COMMENT(/#'/, /$/, {
        contains: [
          {
            scope: 'doctag',
            match: /@examples/,
            starts: {
              end: e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/, /\n^(?!#')/)),
              endsParent: !0,
            },
          },
          {
            scope: 'doctag',
            begin: '@param',
            end: /$/,
            contains: [
              {
                scope: 'variable',
                variants: [{ match: r }, { match: /`(?:\\.|[^`\\])+`/ }],
                endsParent: !0,
              },
            ],
          },
          { scope: 'doctag', match: /@[a-zA-Z]+/ },
          { scope: 'keyword', match: /\\[a-zA-Z]+/ },
        ],
      }),
      t.HASH_COMMENT_MODE,
      {
        scope: 'string',
        contains: [t.BACKSLASH_ESCAPE],
        variants: [
          t.END_SAME_AS_BEGIN({ begin: /[rR]"(-*)\(/, end: /\)(-*)"/ }),
          t.END_SAME_AS_BEGIN({ begin: /[rR]"(-*)\{/, end: /\}(-*)"/ }),
          t.END_SAME_AS_BEGIN({ begin: /[rR]"(-*)\[/, end: /\](-*)"/ }),
          t.END_SAME_AS_BEGIN({ begin: /[rR]'(-*)\(/, end: /\)(-*)'/ }),
          t.END_SAME_AS_BEGIN({ begin: /[rR]'(-*)\{/, end: /\}(-*)'/ }),
          t.END_SAME_AS_BEGIN({ begin: /[rR]'(-*)\[/, end: /\](-*)'/ }),
          { begin: '"', end: '"', relevance: 0 },
          { begin: "'", end: "'", relevance: 0 },
        ],
      },
      {
        relevance: 0,
        variants: [
          { scope: { 1: 'operator', 2: 'number' }, match: [i, n] },
          { scope: { 1: 'operator', 2: 'number' }, match: [/%[^%]*%/, n] },
          { scope: { 1: 'punctuation', 2: 'number' }, match: [a, n] },
          { scope: { 2: 'number' }, match: [/[^a-zA-Z0-9._]|^/, n] },
        ],
      },
      { scope: { 3: 'operator' }, match: [r, /\s+/, /<-/, /\s+/] },
      { scope: 'operator', relevance: 0, variants: [{ match: i }, { match: /%[^%]*%/ }] },
      { scope: 'punctuation', relevance: 0, match: a },
      { begin: '`', end: '`', contains: [{ begin: /\\./ }] },
    ],
  };
}
function Hir(t) {
  let e = t.regex,
    r = '([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)',
    n = e.either(/\b([A-Z]+[a-z0-9]+)+/, /\b([A-Z]+[a-z0-9]+)+[A-Z]+/),
    i = e.concat(n, /(::\w+)*/),
    s = {
      'variable.constant': ['__FILE__', '__LINE__', '__ENCODING__'],
      'variable.language': ['self', 'super'],
      keyword: [
        'alias',
        'and',
        'begin',
        'BEGIN',
        'break',
        'case',
        'class',
        'defined',
        'do',
        'else',
        'elsif',
        'end',
        'END',
        'ensure',
        'for',
        'if',
        'in',
        'module',
        'next',
        'not',
        'or',
        'redo',
        'require',
        'rescue',
        'retry',
        'return',
        'then',
        'undef',
        'unless',
        'until',
        'when',
        'while',
        'yield',
        ...['include', 'extend', 'prepend', 'public', 'private', 'protected', 'raise', 'throw'],
      ],
      built_in: [
        'proc',
        'lambda',
        'attr_accessor',
        'attr_reader',
        'attr_writer',
        'define_method',
        'private_constant',
        'module_function',
      ],
      literal: ['true', 'false', 'nil'],
    },
    o = { className: 'doctag', begin: '@[A-Za-z]+' },
    l = { begin: '#<', end: '>' },
    u = [
      t.COMMENT('#', '$', { contains: [o] }),
      t.COMMENT('^=begin', '^=end', { contains: [o], relevance: 10 }),
      t.COMMENT('^__END__', t.MATCH_NOTHING_RE),
    ],
    c = { className: 'subst', begin: /#\{/, end: /\}/, keywords: s },
    p = {
      className: 'string',
      contains: [t.BACKSLASH_ESCAPE, c],
      variants: [
        { begin: /'/, end: /'/ },
        { begin: /"/, end: /"/ },
        { begin: /`/, end: /`/ },
        { begin: /%[qQwWx]?\(/, end: /\)/ },
        { begin: /%[qQwWx]?\[/, end: /\]/ },
        { begin: /%[qQwWx]?\{/, end: /\}/ },
        { begin: /%[qQwWx]?</, end: />/ },
        { begin: /%[qQwWx]?\//, end: /\// },
        { begin: /%[qQwWx]?%/, end: /%/ },
        { begin: /%[qQwWx]?-/, end: /-/ },
        { begin: /%[qQwWx]?\|/, end: /\|/ },
        { begin: /\B\?(\\\d{1,3})/ },
        { begin: /\B\?(\\x[A-Fa-f0-9]{1,2})/ },
        { begin: /\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/ },
        { begin: /\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/ },
        { begin: /\B\?\\(c|C-)[\x20-\x7e]/ },
        { begin: /\B\?\\?\S/ },
        {
          begin: e.concat(/<<[-~]?'?/, e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),
          contains: [
            t.END_SAME_AS_BEGIN({
              begin: /(\w+)/,
              end: /(\w+)/,
              contains: [t.BACKSLASH_ESCAPE, c],
            }),
          ],
        },
      ],
    },
    h = '[1-9](_?[0-9])*|0',
    m = '[0-9](_?[0-9])*',
    E = {
      className: 'number',
      relevance: 0,
      variants: [
        { begin: `\\b(${h})(\\.(${m}))?([eE][+-]?(${m})|r)?i?\\b` },
        { begin: '\\b0[dD][0-9](_?[0-9])*r?i?\\b' },
        { begin: '\\b0[bB][0-1](_?[0-1])*r?i?\\b' },
        { begin: '\\b0[oO][0-7](_?[0-7])*r?i?\\b' },
        { begin: '\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b' },
        { begin: '\\b0(_?[0-7])+r?i?\\b' },
      ],
    },
    v = {
      variants: [
        { match: /\(\)/ },
        {
          className: 'params',
          begin: /\(/,
          end: /(?=\))/,
          excludeBegin: !0,
          endsParent: !0,
          keywords: s,
        },
      ],
    },
    F = [
      p,
      {
        variants: [{ match: [/class\s+/, i, /\s+<\s+/, i] }, { match: [/\b(class|module)\s+/, i] }],
        scope: { 2: 'title.class', 4: 'title.class.inherited' },
        keywords: s,
      },
      { match: [/(include|extend)\s+/, i], scope: { 2: 'title.class' }, keywords: s },
      { relevance: 0, match: [i, /\.new[. (]/], scope: { 1: 'title.class' } },
      { relevance: 0, match: /\b[A-Z][A-Z_0-9]+\b/, className: 'variable.constant' },
      { relevance: 0, match: n, scope: 'title.class' },
      { match: [/def/, /\s+/, r], scope: { 1: 'keyword', 3: 'title.function' }, contains: [v] },
      { begin: t.IDENT_RE + '::' },
      { className: 'symbol', begin: t.UNDERSCORE_IDENT_RE + '(!|\\?)?:', relevance: 0 },
      { className: 'symbol', begin: ':(?!\\s)', contains: [p, { begin: r }], relevance: 0 },
      E,
      {
        className: 'variable',
        begin: "(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])",
      },
      {
        className: 'params',
        begin: /\|(?!=)/,
        end: /\|/,
        excludeBegin: !0,
        excludeEnd: !0,
        relevance: 0,
        keywords: s,
      },
      {
        begin: '(' + t.RE_STARTERS_RE + '|unless)\\s*',
        keywords: 'unless',
        contains: [
          {
            className: 'regexp',
            contains: [t.BACKSLASH_ESCAPE, c],
            illegal: /\n/,
            variants: [
              { begin: '/', end: '/[a-z]*' },
              { begin: /%r\{/, end: /\}[a-z]*/ },
              { begin: '%r\\(', end: '\\)[a-z]*' },
              { begin: '%r!', end: '![a-z]*' },
              { begin: '%r\\[', end: '\\][a-z]*' },
            ],
          },
        ].concat(l, u),
        relevance: 0,
      },
    ].concat(l, u);
  ((c.contains = F), (v.contains = F));
  let Y = [
    { begin: /^\s*=>/, starts: { end: '$', contains: F } },
    {
      className: 'meta.prompt',
      begin:
        '^(' +
        '[>?]>' +
        '|' +
        '[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]' +
        '|' +
        '(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>' +
        ')(?=[ ])',
      starts: { end: '$', keywords: s, contains: F },
    },
  ];
  return (
    u.unshift(l),
    {
      name: 'Ruby',
      aliases: ['rb', 'gemspec', 'podspec', 'thor', 'irb'],
      keywords: s,
      illegal: /\/\*/,
      contains: [t.SHEBANG({ binary: 'ruby' })].concat(Y).concat(u).concat(F),
    }
  );
}
function Vir(t) {
  let e = t.regex,
    r = /(r#)?/,
    n = e.concat(r, t.UNDERSCORE_IDENT_RE),
    i = e.concat(r, t.IDENT_RE),
    a = {
      className: 'title.function.invoke',
      relevance: 0,
      begin: e.concat(/\b/, /(?!let|for|while|if|else|match\b)/, i, e.lookahead(/\s*\(/)),
    },
    s = '([ui](8|16|32|64|128|size)|f(32|64))?',
    o = [
      'abstract',
      'as',
      'async',
      'await',
      'become',
      'box',
      'break',
      'const',
      'continue',
      'crate',
      'do',
      'dyn',
      'else',
      'enum',
      'extern',
      'false',
      'final',
      'fn',
      'for',
      'if',
      'impl',
      'in',
      'let',
      'loop',
      'macro',
      'match',
      'mod',
      'move',
      'mut',
      'override',
      'priv',
      'pub',
      'ref',
      'return',
      'self',
      'Self',
      'static',
      'struct',
      'super',
      'trait',
      'true',
      'try',
      'type',
      'typeof',
      'union',
      'unsafe',
      'unsized',
      'use',
      'virtual',
      'where',
      'while',
      'yield',
    ],
    l = ['true', 'false', 'Some', 'None', 'Ok', 'Err'],
    u = [
      'drop ',
      'Copy',
      'Send',
      'Sized',
      'Sync',
      'Drop',
      'Fn',
      'FnMut',
      'FnOnce',
      'ToOwned',
      'Clone',
      'Debug',
      'PartialEq',
      'PartialOrd',
      'Eq',
      'Ord',
      'AsRef',
      'AsMut',
      'Into',
      'From',
      'Default',
      'Iterator',
      'Extend',
      'IntoIterator',
      'DoubleEndedIterator',
      'ExactSizeIterator',
      'SliceConcatExt',
      'ToString',
      'assert!',
      'assert_eq!',
      'bitflags!',
      'bytes!',
      'cfg!',
      'col!',
      'concat!',
      'concat_idents!',
      'debug_assert!',
      'debug_assert_eq!',
      'env!',
      'eprintln!',
      'panic!',
      'file!',
      'format!',
      'format_args!',
      'include_bytes!',
      'include_str!',
      'line!',
      'local_data_key!',
      'module_path!',
      'option_env!',
      'print!',
      'println!',
      'select!',
      'stringify!',
      'try!',
      'unimplemented!',
      'unreachable!',
      'vec!',
      'write!',
      'writeln!',
      'macro_rules!',
      'assert_ne!',
      'debug_assert_ne!',
    ],
    c = [
      'i8',
      'i16',
      'i32',
      'i64',
      'i128',
      'isize',
      'u8',
      'u16',
      'u32',
      'u64',
      'u128',
      'usize',
      'f32',
      'f64',
      'str',
      'char',
      'bool',
      'Box',
      'Option',
      'Result',
      'String',
      'Vec',
    ];
  return {
    name: 'Rust',
    aliases: ['rs'],
    keywords: { $pattern: t.IDENT_RE + '!?', type: c, keyword: o, literal: l, built_in: u },
    illegal: '</',
    contains: [
      t.C_LINE_COMMENT_MODE,
      t.COMMENT('/\\*', '\\*/', { contains: ['self'] }),
      t.inherit(t.QUOTE_STRING_MODE, { begin: /b?"/, illegal: null }),
      { className: 'symbol', begin: /'[a-zA-Z_][a-zA-Z0-9_]*(?!')/ },
      {
        scope: 'string',
        variants: [
          { begin: /b?r(#*)"(.|\n)*?"\1(?!#)/ },
          {
            begin: /b?'/,
            end: /'/,
            contains: [{ scope: 'char.escape', match: /\\('|\w|x\w{2}|u\w{4}|U\w{8})/ }],
          },
        ],
      },
      {
        className: 'number',
        variants: [
          { begin: '\\b0b([01_]+)' + s },
          { begin: '\\b0o([0-7_]+)' + s },
          { begin: '\\b0x([A-Fa-f0-9_]+)' + s },
          { begin: '\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)' + s },
        ],
        relevance: 0,
      },
      { begin: [/fn/, /\s+/, n], className: { 1: 'keyword', 3: 'title.function' } },
      {
        className: 'meta',
        begin: '#!?\\[',
        end: '\\]',
        contains: [{ className: 'string', begin: /"/, end: /"/, contains: [t.BACKSLASH_ESCAPE] }],
      },
      {
        begin: [/let/, /\s+/, /(?:mut\s+)?/, n],
        className: { 1: 'keyword', 3: 'keyword', 4: 'variable' },
      },
      {
        begin: [/for/, /\s+/, n, /\s+/, /in/],
        className: { 1: 'keyword', 3: 'variable', 5: 'keyword' },
      },
      { begin: [/type/, /\s+/, n], className: { 1: 'keyword', 3: 'title.class' } },
      {
        begin: [/(?:trait|enum|struct|union|impl|for)/, /\s+/, n],
        className: { 1: 'keyword', 3: 'title.class' },
      },
      { begin: t.IDENT_RE + '::', keywords: { keyword: 'Self', built_in: u, type: c } },
      { className: 'punctuation', begin: '->' },
      a,
    ],
  };
}
var $Bn = (t) => ({
    IMPORTANT: { scope: 'meta', begin: '!important' },
    BLOCK_COMMENT: t.C_BLOCK_COMMENT_MODE,
    HEXCOLOR: { scope: 'number', begin: /#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/ },
    FUNCTION_DISPATCH: { className: 'built_in', begin: /[\w-]+(?=\()/ },
    ATTRIBUTE_SELECTOR_MODE: {
      scope: 'selector-attr',
      begin: /\[/,
      end: /\]/,
      illegal: '$',
      contains: [t.APOS_STRING_MODE, t.QUOTE_STRING_MODE],
    },
    CSS_NUMBER_MODE: {
      scope: 'number',
      begin:
        t.NUMBER_RE +
        '(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?',
      relevance: 0,
    },
    CSS_VARIABLE: { className: 'attr', begin: /--[A-Za-z_][A-Za-z0-9_-]*/ },
  }),
  jBn = [
    'a',
    'abbr',
    'address',
    'article',
    'aside',
    'audio',
    'b',
    'blockquote',
    'body',
    'button',
    'canvas',
    'caption',
    'cite',
    'code',
    'dd',
    'del',
    'details',
    'dfn',
    'div',
    'dl',
    'dt',
    'em',
    'fieldset',
    'figcaption',
    'figure',
    'footer',
    'form',
    'h1',
    'h2',
    'h3',
    'h4',
    'h5',
    'h6',
    'header',
    'hgroup',
    'html',
    'i',
    'iframe',
    'img',
    'input',
    'ins',
    'kbd',
    'label',
    'legend',
    'li',
    'main',
    'mark',
    'menu',
    'nav',
    'object',
    'ol',
    'optgroup',
    'option',
    'p',
    'picture',
    'q',
    'quote',
    'samp',
    'section',
    'select',
    'source',
    'span',
    'strong',
    'summary',
    'sup',
    'table',
    'tbody',
    'td',
    'textarea',
    'tfoot',
    'th',
    'thead',
    'time',
    'tr',
    'ul',
    'var',
    'video',
  ],
  YBn = [
    'defs',
    'g',
    'marker',
    'mask',
    'pattern',
    'svg',
    'switch',
    'symbol',
    'feBlend',
    'feColorMatrix',
    'feComponentTransfer',
    'feComposite',
    'feConvolveMatrix',
    'feDiffuseLighting',
    'feDisplacementMap',
    'feFlood',
    'feGaussianBlur',
    'feImage',
    'feMerge',
    'feMorphology',
    'feOffset',
    'feSpecularLighting',
    'feTile',
    'feTurbulence',
    'linearGradient',
    'radialGradient',
    'stop',
    'circle',
    'ellipse',
    'image',
    'line',
    'path',
    'polygon',
    'polyline',
    'rect',
    'text',
    'use',
    'textPath',
    'tspan',
    'foreignObject',
    'clipPath',
  ],
  WBn = [...jBn, ...YBn],
  zBn = [
    'any-hover',
    'any-pointer',
    'aspect-ratio',
    'color',
    'color-gamut',
    'color-index',
    'device-aspect-ratio',
    'device-height',
    'device-width',
    'display-mode',
    'forced-colors',
    'grid',
    'height',
    'hover',
    'inverted-colors',
    'monochrome',
    'orientation',
    'overflow-block',
    'overflow-inline',
    'pointer',
    'prefers-color-scheme',
    'prefers-contrast',
    'prefers-reduced-motion',
    'prefers-reduced-transparency',
    'resolution',
    'scan',
    'scripting',
    'update',
    'width',
    'min-width',
    'max-width',
    'min-height',
    'max-height',
  ]
    .sort()
    .reverse(),
  JBn = [
    'active',
    'any-link',
    'blank',
    'checked',
    'current',
    'default',
    'defined',
    'dir',
    'disabled',
    'drop',
    'empty',
    'enabled',
    'first',
    'first-child',
    'first-of-type',
    'fullscreen',
    'future',
    'focus',
    'focus-visible',
    'focus-within',
    'has',
    'host',
    'host-context',
    'hover',
    'indeterminate',
    'in-range',
    'invalid',
    'is',
    'lang',
    'last-child',
    'last-of-type',
    'left',
    'link',
    'local-link',
    'not',
    'nth-child',
    'nth-col',
    'nth-last-child',
    'nth-last-col',
    'nth-last-of-type',
    'nth-of-type',
    'only-child',
    'only-of-type',
    'optional',
    'out-of-range',
    'past',
    'placeholder-shown',
    'read-only',
    'read-write',
    'required',
    'right',
    'root',
    'scope',
    'target',
    'target-within',
    'user-invalid',
    'valid',
    'visited',
    'where',
  ]
    .sort()
    .reverse(),
  KBn = [
    'after',
    'backdrop',
    'before',
    'cue',
    'cue-region',
    'first-letter',
    'first-line',
    'grammar-error',
    'marker',
    'part',
    'placeholder',
    'selection',
    'slotted',
    'spelling-error',
  ]
    .sort()
    .reverse(),
  XBn = [
    'accent-color',
    'align-content',
    'align-items',
    'align-self',
    'alignment-baseline',
    'all',
    'anchor-name',
    'animation',
    'animation-composition',
    'animation-delay',
    'animation-direction',
    'animation-duration',
    'animation-fill-mode',
    'animation-iteration-count',
    'animation-name',
    'animation-play-state',
    'animation-range',
    'animation-range-end',
    'animation-range-start',
    'animation-timeline',
    'animation-timing-function',
    'appearance',
    'aspect-ratio',
    'backdrop-filter',
    'backface-visibility',
    'background',
    'background-attachment',
    'background-blend-mode',
    'background-clip',
    'background-color',
    'background-image',
    'background-origin',
    'background-position',
    'background-position-x',
    'background-position-y',
    'background-repeat',
    'background-size',
    'baseline-shift',
    'block-size',
    'border',
    'border-block',
    'border-block-color',
    'border-block-end',
    'border-block-end-color',
    'border-block-end-style',
    'border-block-end-width',
    'border-block-start',
    'border-block-start-color',
    'border-block-start-style',
    'border-block-start-width',
    'border-block-style',
    'border-block-width',
    'border-bottom',
    'border-bottom-color',
    'border-bottom-left-radius',
    'border-bottom-right-radius',
    'border-bottom-style',
    'border-bottom-width',
    'border-collapse',
    'border-color',
    'border-end-end-radius',
    'border-end-start-radius',
    'border-image',
    'border-image-outset',
    'border-image-repeat',
    'border-image-slice',
    'border-image-source',
    'border-image-width',
    'border-inline',
    'border-inline-color',
    'border-inline-end',
    'border-inline-end-color',
    'border-inline-end-style',
    'border-inline-end-width',
    'border-inline-start',
    'border-inline-start-color',
    'border-inline-start-style',
    'border-inline-start-width',
    'border-inline-style',
    'border-inline-width',
    'border-left',
    'border-left-color',
    'border-left-style',
    'border-left-width',
    'border-radius',
    'border-right',
    'border-right-color',
    'border-right-style',
    'border-right-width',
    'border-spacing',
    'border-start-end-radius',
    'border-start-start-radius',
    'border-style',
    'border-top',
    'border-top-color',
    'border-top-left-radius',
    'border-top-right-radius',
    'border-top-style',
    'border-top-width',
    'border-width',
    'bottom',
    'box-align',
    'box-decoration-break',
    'box-direction',
    'box-flex',
    'box-flex-group',
    'box-lines',
    'box-ordinal-group',
    'box-orient',
    'box-pack',
    'box-shadow',
    'box-sizing',
    'break-after',
    'break-before',
    'break-inside',
    'caption-side',
    'caret-color',
    'clear',
    'clip',
    'clip-path',
    'clip-rule',
    'color',
    'color-interpolation',
    'color-interpolation-filters',
    'color-profile',
    'color-rendering',
    'color-scheme',
    'column-count',
    'column-fill',
    'column-gap',
    'column-rule',
    'column-rule-color',
    'column-rule-style',
    'column-rule-width',
    'column-span',
    'column-width',
    'columns',
    'contain',
    'contain-intrinsic-block-size',
    'contain-intrinsic-height',
    'contain-intrinsic-inline-size',
    'contain-intrinsic-size',
    'contain-intrinsic-width',
    'container',
    'container-name',
    'container-type',
    'content',
    'content-visibility',
    'counter-increment',
    'counter-reset',
    'counter-set',
    'cue',
    'cue-after',
    'cue-before',
    'cursor',
    'cx',
    'cy',
    'direction',
    'display',
    'dominant-baseline',
    'empty-cells',
    'enable-background',
    'field-sizing',
    'fill',
    'fill-opacity',
    'fill-rule',
    'filter',
    'flex',
    'flex-basis',
    'flex-direction',
    'flex-flow',
    'flex-grow',
    'flex-shrink',
    'flex-wrap',
    'float',
    'flood-color',
    'flood-opacity',
    'flow',
    'font',
    'font-display',
    'font-family',
    'font-feature-settings',
    'font-kerning',
    'font-language-override',
    'font-optical-sizing',
    'font-palette',
    'font-size',
    'font-size-adjust',
    'font-smooth',
    'font-smoothing',
    'font-stretch',
    'font-style',
    'font-synthesis',
    'font-synthesis-position',
    'font-synthesis-small-caps',
    'font-synthesis-style',
    'font-synthesis-weight',
    'font-variant',
    'font-variant-alternates',
    'font-variant-caps',
    'font-variant-east-asian',
    'font-variant-emoji',
    'font-variant-ligatures',
    'font-variant-numeric',
    'font-variant-position',
    'font-variation-settings',
    'font-weight',
    'forced-color-adjust',
    'gap',
    'glyph-orientation-horizontal',
    'glyph-orientation-vertical',
    'grid',
    'grid-area',
    'grid-auto-columns',
    'grid-auto-flow',
    'grid-auto-rows',
    'grid-column',
    'grid-column-end',
    'grid-column-start',
    'grid-gap',
    'grid-row',
    'grid-row-end',
    'grid-row-start',
    'grid-template',
    'grid-template-areas',
    'grid-template-columns',
    'grid-template-rows',
    'hanging-punctuation',
    'height',
    'hyphenate-character',
    'hyphenate-limit-chars',
    'hyphens',
    'icon',
    'image-orientation',
    'image-rendering',
    'image-resolution',
    'ime-mode',
    'initial-letter',
    'initial-letter-align',
    'inline-size',
    'inset',
    'inset-area',
    'inset-block',
    'inset-block-end',
    'inset-block-start',
    'inset-inline',
    'inset-inline-end',
    'inset-inline-start',
    'isolation',
    'justify-content',
    'justify-items',
    'justify-self',
    'kerning',
    'left',
    'letter-spacing',
    'lighting-color',
    'line-break',
    'line-height',
    'line-height-step',
    'list-style',
    'list-style-image',
    'list-style-position',
    'list-style-type',
    'margin',
    'margin-block',
    'margin-block-end',
    'margin-block-start',
    'margin-bottom',
    'margin-inline',
    'margin-inline-end',
    'margin-inline-start',
    'margin-left',
    'margin-right',
    'margin-top',
    'margin-trim',
    'marker',
    'marker-end',
    'marker-mid',
    'marker-start',
    'marks',
    'mask',
    'mask-border',
    'mask-border-mode',
    'mask-border-outset',
    'mask-border-repeat',
    'mask-border-slice',
    'mask-border-source',
    'mask-border-width',
    'mask-clip',
    'mask-composite',
    'mask-image',
    'mask-mode',
    'mask-origin',
    'mask-position',
    'mask-repeat',
    'mask-size',
    'mask-type',
    'masonry-auto-flow',
    'math-depth',
    'math-shift',
    'math-style',
    'max-block-size',
    'max-height',
    'max-inline-size',
    'max-width',
    'min-block-size',
    'min-height',
    'min-inline-size',
    'min-width',
    'mix-blend-mode',
    'nav-down',
    'nav-index',
    'nav-left',
    'nav-right',
    'nav-up',
    'none',
    'normal',
    'object-fit',
    'object-position',
    'offset',
    'offset-anchor',
    'offset-distance',
    'offset-path',
    'offset-position',
    'offset-rotate',
    'opacity',
    'order',
    'orphans',
    'outline',
    'outline-color',
    'outline-offset',
    'outline-style',
    'outline-width',
    'overflow',
    'overflow-anchor',
    'overflow-block',
    'overflow-clip-margin',
    'overflow-inline',
    'overflow-wrap',
    'overflow-x',
    'overflow-y',
    'overlay',
    'overscroll-behavior',
    'overscroll-behavior-block',
    'overscroll-behavior-inline',
    'overscroll-behavior-x',
    'overscroll-behavior-y',
    'padding',
    'padding-block',
    'padding-block-end',
    'padding-block-start',
    'padding-bottom',
    'padding-inline',
    'padding-inline-end',
    'padding-inline-start',
    'padding-left',
    'padding-right',
    'padding-top',
    'page',
    'page-break-after',
    'page-break-before',
    'page-break-inside',
    'paint-order',
    'pause',
    'pause-after',
    'pause-before',
    'perspective',
    'perspective-origin',
    'place-content',
    'place-items',
    'place-self',
    'pointer-events',
    'position',
    'position-anchor',
    'position-visibility',
    'print-color-adjust',
    'quotes',
    'r',
    'resize',
    'rest',
    'rest-after',
    'rest-before',
    'right',
    'rotate',
    'row-gap',
    'ruby-align',
    'ruby-position',
    'scale',
    'scroll-behavior',
    'scroll-margin',
    'scroll-margin-block',
    'scroll-margin-block-end',
    'scroll-margin-block-start',
    'scroll-margin-bottom',
    'scroll-margin-inline',
    'scroll-margin-inline-end',
    'scroll-margin-inline-start',
    'scroll-margin-left',
    'scroll-margin-right',
    'scroll-margin-top',
    'scroll-padding',
    'scroll-padding-block',
    'scroll-padding-block-end',
    'scroll-padding-block-start',
    'scroll-padding-bottom',
    'scroll-padding-inline',
    'scroll-padding-inline-end',
    'scroll-padding-inline-start',
    'scroll-padding-left',
    'scroll-padding-right',
    'scroll-padding-top',
    'scroll-snap-align',
    'scroll-snap-stop',
    'scroll-snap-type',
    'scroll-timeline',
    'scroll-timeline-axis',
    'scroll-timeline-name',
    'scrollbar-color',
    'scrollbar-gutter',
    'scrollbar-width',
    'shape-image-threshold',
    'shape-margin',
    'shape-outside',
    'shape-rendering',
    'speak',
    'speak-as',
    'src',
    'stop-color',
    'stop-opacity',
    'stroke',
    'stroke-dasharray',
    'stroke-dashoffset',
    'stroke-linecap',
    'stroke-linejoin',
    'stroke-miterlimit',
    'stroke-opacity',
    'stroke-width',
    'tab-size',
    'table-layout',
    'text-align',
    'text-align-all',
    'text-align-last',
    'text-anchor',
    'text-combine-upright',
    'text-decoration',
    'text-decoration-color',
    'text-decoration-line',
    'text-decoration-skip',
    'text-decoration-skip-ink',
    'text-decoration-style',
    'text-decoration-thickness',
    'text-emphasis',
    'text-emphasis-color',
    'text-emphasis-position',
    'text-emphasis-style',
    'text-indent',
    'text-justify',
    'text-orientation',
    'text-overflow',
    'text-rendering',
    'text-shadow',
    'text-size-adjust',
    'text-transform',
    'text-underline-offset',
    'text-underline-position',
    'text-wrap',
    'text-wrap-mode',
    'text-wrap-style',
    'timeline-scope',
    'top',
    'touch-action',
    'transform',
    'transform-box',
    'transform-origin',
    'transform-style',
    'transition',
    'transition-behavior',
    'transition-delay',
    'transition-duration',
    'transition-property',
    'transition-timing-function',
    'translate',
    'unicode-bidi',
    'user-modify',
    'user-select',
    'vector-effect',
    'vertical-align',
    'view-timeline',
    'view-timeline-axis',
    'view-timeline-inset',
    'view-timeline-name',
    'view-transition-name',
    'visibility',
    'voice-balance',
    'voice-duration',
    'voice-family',
    'voice-pitch',
    'voice-range',
    'voice-rate',
    'voice-stress',
    'voice-volume',
    'white-space',
    'white-space-collapse',
    'widows',
    'width',
    'will-change',
    'word-break',
    'word-spacing',
    'word-wrap',
    'writing-mode',
    'x',
    'y',
    'z-index',
    'zoom',
  ]
    .sort()
    .reverse();
function Gir(t) {
  let e = $Bn(t),
    r = KBn,
    n = JBn,
    i = '@[a-z-]+',
    a = 'and or not only',
    o = { className: 'variable', begin: '(\\$' + '[a-zA-Z-][a-zA-Z0-9_-]*' + ')\\b', relevance: 0 };
  return {
    name: 'SCSS',
    case_insensitive: !0,
    illegal: "[=/|']",
    contains: [
      t.C_LINE_COMMENT_MODE,
      t.C_BLOCK_COMMENT_MODE,
      e.CSS_NUMBER_MODE,
      { className: 'selector-id', begin: '#[A-Za-z0-9_-]+', relevance: 0 },
      { className: 'selector-class', begin: '\\.[A-Za-z0-9_-]+', relevance: 0 },
      e.ATTRIBUTE_SELECTOR_MODE,
      { className: 'selector-tag', begin: '\\b(' + WBn.join('|') + ')\\b', relevance: 0 },
      { className: 'selector-pseudo', begin: ':(' + n.join('|') + ')' },
      { className: 'selector-pseudo', begin: ':(:)?(' + r.join('|') + ')' },
      o,
      { begin: /\(/, end: /\)/, contains: [e.CSS_NUMBER_MODE] },
      e.CSS_VARIABLE,
      { className: 'attribute', begin: '\\b(' + XBn.join('|') + ')\\b' },
      {
        begin:
          '\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b',
      },
      {
        begin: /:/,
        end: /[;}{]/,
        relevance: 0,
        contains: [
          e.BLOCK_COMMENT,
          o,
          e.HEXCOLOR,
          e.CSS_NUMBER_MODE,
          t.QUOTE_STRING_MODE,
          t.APOS_STRING_MODE,
          e.IMPORTANT,
          e.FUNCTION_DISPATCH,
        ],
      },
      { begin: '@(page|font-face)', keywords: { $pattern: i, keyword: '@page @font-face' } },
      {
        begin: '@',
        end: '[{;]',
        returnBegin: !0,
        keywords: { $pattern: /[a-z-]+/, keyword: a, attribute: zBn.join(' ') },
        contains: [
          { begin: i, className: 'keyword' },
          { begin: /[a-z-]+(?=:)/, className: 'attribute' },
          o,
          t.QUOTE_STRING_MODE,
          t.APOS_STRING_MODE,
          e.HEXCOLOR,
          e.CSS_NUMBER_MODE,
        ],
      },
      e.FUNCTION_DISPATCH,
    ],
  };
}
function qir(t) {
  return {
    name: 'Shell Session',
    aliases: ['console', 'shellsession'],
    contains: [
      {
        className: 'meta.prompt',
        begin: /^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,
        starts: { end: /[^\\](?=\s*$)/, subLanguage: 'bash' },
      },
    ],
  };
}
function $ir(t) {
  let e = t.regex,
    r = t.COMMENT('--', '$'),
    n = { scope: 'string', variants: [{ begin: /'/, end: /'/, contains: [{ match: /''/ }] }] },
    i = { begin: /"/, end: /"/, contains: [{ match: /""/ }] },
    a = ['true', 'false', 'unknown'],
    s = ['double precision', 'large object', 'with timezone', 'without timezone'],
    o = [
      'bigint',
      'binary',
      'blob',
      'boolean',
      'char',
      'character',
      'clob',
      'date',
      'dec',
      'decfloat',
      'decimal',
      'float',
      'int',
      'integer',
      'interval',
      'nchar',
      'nclob',
      'national',
      'numeric',
      'real',
      'row',
      'smallint',
      'time',
      'timestamp',
      'varchar',
      'varying',
      'varbinary',
    ],
    l = ['add', 'asc', 'collation', 'desc', 'final', 'first', 'last', 'view'],
    u = [
      'abs',
      'acos',
      'all',
      'allocate',
      'alter',
      'and',
      'any',
      'are',
      'array',
      'array_agg',
      'array_max_cardinality',
      'as',
      'asensitive',
      'asin',
      'asymmetric',
      'at',
      'atan',
      'atomic',
      'authorization',
      'avg',
      'begin',
      'begin_frame',
      'begin_partition',
      'between',
      'bigint',
      'binary',
      'blob',
      'boolean',
      'both',
      'by',
      'call',
      'called',
      'cardinality',
      'cascaded',
      'case',
      'cast',
      'ceil',
      'ceiling',
      'char',
      'char_length',
      'character',
      'character_length',
      'check',
      'classifier',
      'clob',
      'close',
      'coalesce',
      'collate',
      'collect',
      'column',
      'commit',
      'condition',
      'connect',
      'constraint',
      'contains',
      'convert',
      'copy',
      'corr',
      'corresponding',
      'cos',
      'cosh',
      'count',
      'covar_pop',
      'covar_samp',
      'create',
      'cross',
      'cube',
      'cume_dist',
      'current',
      'current_catalog',
      'current_date',
      'current_default_transform_group',
      'current_path',
      'current_role',
      'current_row',
      'current_schema',
      'current_time',
      'current_timestamp',
      'current_path',
      'current_role',
      'current_transform_group_for_type',
      'current_user',
      'cursor',
      'cycle',
      'date',
      'day',
      'deallocate',
      'dec',
      'decimal',
      'decfloat',
      'declare',
      'default',
      'define',
      'delete',
      'dense_rank',
      'deref',
      'describe',
      'deterministic',
      'disconnect',
      'distinct',
      'double',
      'drop',
      'dynamic',
      'each',
      'element',
      'else',
      'empty',
      'end',
      'end_frame',
      'end_partition',
      'end-exec',
      'equals',
      'escape',
      'every',
      'except',
      'exec',
      'execute',
      'exists',
      'exp',
      'external',
      'extract',
      'false',
      'fetch',
      'filter',
      'first_value',
      'float',
      'floor',
      'for',
      'foreign',
      'frame_row',
      'free',
      'from',
      'full',
      'function',
      'fusion',
      'get',
      'global',
      'grant',
      'group',
      'grouping',
      'groups',
      'having',
      'hold',
      'hour',
      'identity',
      'in',
      'indicator',
      'initial',
      'inner',
      'inout',
      'insensitive',
      'insert',
      'int',
      'integer',
      'intersect',
      'intersection',
      'interval',
      'into',
      'is',
      'join',
      'json_array',
      'json_arrayagg',
      'json_exists',
      'json_object',
      'json_objectagg',
      'json_query',
      'json_table',
      'json_table_primitive',
      'json_value',
      'lag',
      'language',
      'large',
      'last_value',
      'lateral',
      'lead',
      'leading',
      'left',
      'like',
      'like_regex',
      'listagg',
      'ln',
      'local',
      'localtime',
      'localtimestamp',
      'log',
      'log10',
      'lower',
      'match',
      'match_number',
      'match_recognize',
      'matches',
      'max',
      'member',
      'merge',
      'method',
      'min',
      'minute',
      'mod',
      'modifies',
      'module',
      'month',
      'multiset',
      'national',
      'natural',
      'nchar',
      'nclob',
      'new',
      'no',
      'none',
      'normalize',
      'not',
      'nth_value',
      'ntile',
      'null',
      'nullif',
      'numeric',
      'octet_length',
      'occurrences_regex',
      'of',
      'offset',
      'old',
      'omit',
      'on',
      'one',
      'only',
      'open',
      'or',
      'order',
      'out',
      'outer',
      'over',
      'overlaps',
      'overlay',
      'parameter',
      'partition',
      'pattern',
      'per',
      'percent',
      'percent_rank',
      'percentile_cont',
      'percentile_disc',
      'period',
      'portion',
      'position',
      'position_regex',
      'power',
      'precedes',
      'precision',
      'prepare',
      'primary',
      'procedure',
      'ptf',
      'range',
      'rank',
      'reads',
      'real',
      'recursive',
      'ref',
      'references',
      'referencing',
      'regr_avgx',
      'regr_avgy',
      'regr_count',
      'regr_intercept',
      'regr_r2',
      'regr_slope',
      'regr_sxx',
      'regr_sxy',
      'regr_syy',
      'release',
      'result',
      'return',
      'returns',
      'revoke',
      'right',
      'rollback',
      'rollup',
      'row',
      'row_number',
      'rows',
      'running',
      'savepoint',
      'scope',
      'scroll',
      'search',
      'second',
      'seek',
      'select',
      'sensitive',
      'session_user',
      'set',
      'show',
      'similar',
      'sin',
      'sinh',
      'skip',
      'smallint',
      'some',
      'specific',
      'specifictype',
      'sql',
      'sqlexception',
      'sqlstate',
      'sqlwarning',
      'sqrt',
      'start',
      'static',
      'stddev_pop',
      'stddev_samp',
      'submultiset',
      'subset',
      'substring',
      'substring_regex',
      'succeeds',
      'sum',
      'symmetric',
      'system',
      'system_time',
      'system_user',
      'table',
      'tablesample',
      'tan',
      'tanh',
      'then',
      'time',
      'timestamp',
      'timezone_hour',
      'timezone_minute',
      'to',
      'trailing',
      'translate',
      'translate_regex',
      'translation',
      'treat',
      'trigger',
      'trim',
      'trim_array',
      'true',
      'truncate',
      'uescape',
      'union',
      'unique',
      'unknown',
      'unnest',
      'update',
      'upper',
      'user',
      'using',
      'value',
      'values',
      'value_of',
      'var_pop',
      'var_samp',
      'varbinary',
      'varchar',
      'varying',
      'versioning',
      'when',
      'whenever',
      'where',
      'width_bucket',
      'window',
      'with',
      'within',
      'without',
      'year',
    ],
    c = [
      'abs',
      'acos',
      'array_agg',
      'asin',
      'atan',
      'avg',
      'cast',
      'ceil',
      'ceiling',
      'coalesce',
      'corr',
      'cos',
      'cosh',
      'count',
      'covar_pop',
      'covar_samp',
      'cume_dist',
      'dense_rank',
      'deref',
      'element',
      'exp',
      'extract',
      'first_value',
      'floor',
      'json_array',
      'json_arrayagg',
      'json_exists',
      'json_object',
      'json_objectagg',
      'json_query',
      'json_table',
      'json_table_primitive',
      'json_value',
      'lag',
      'last_value',
      'lead',
      'listagg',
      'ln',
      'log',
      'log10',
      'lower',
      'max',
      'min',
      'mod',
      'nth_value',
      'ntile',
      'nullif',
      'percent_rank',
      'percentile_cont',
      'percentile_disc',
      'position',
      'position_regex',
      'power',
      'rank',
      'regr_avgx',
      'regr_avgy',
      'regr_count',
      'regr_intercept',
      'regr_r2',
      'regr_slope',
      'regr_sxx',
      'regr_sxy',
      'regr_syy',
      'row_number',
      'sin',
      'sinh',
      'sqrt',
      'stddev_pop',
      'stddev_samp',
      'substring',
      'substring_regex',
      'sum',
      'tan',
      'tanh',
      'translate',
      'translate_regex',
      'treat',
      'trim',
      'trim_array',
      'unnest',
      'upper',
      'value_of',
      'var_pop',
      'var_samp',
      'width_bucket',
    ],
    p = [
      'current_catalog',
      'current_date',
      'current_default_transform_group',
      'current_path',
      'current_role',
      'current_schema',
      'current_transform_group_for_type',
      'current_user',
      'session_user',
      'system_time',
      'system_user',
      'current_time',
      'localtime',
      'current_timestamp',
      'localtimestamp',
    ],
    h = [
      'create table',
      'insert into',
      'primary key',
      'foreign key',
      'not null',
      'alter table',
      'add constraint',
      'grouping sets',
      'on overflow',
      'character set',
      'respect nulls',
      'ignore nulls',
      'nulls first',
      'nulls last',
      'depth first',
      'breadth first',
    ],
    m = c,
    E = [...u, ...l].filter((R) => !c.includes(R)),
    v = { scope: 'variable', match: /@[a-z0-9][a-z0-9_]*/ },
    g = { scope: 'operator', match: /[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/, relevance: 0 },
    _ = { match: e.concat(/\b/, e.either(...m), /\s*\(/), relevance: 0, keywords: { built_in: m } };
  function S(R) {
    return e.concat(/\b/, e.either(...R.map((F) => F.replace(/\s+/, '\\s+'))), /\b/);
  }
  let b = { scope: 'keyword', match: S(h), relevance: 0 };
  function I(R, { exceptions: F, when: G } = {}) {
    let U = G;
    return (
      (F = F || []),
      R.map((M) => (M.match(/\|\d+$/) || F.includes(M) ? M : U(M) ? `${M}|0` : M))
    );
  }
  return {
    name: 'SQL',
    case_insensitive: !0,
    illegal: /[{}]|<\//,
    keywords: {
      $pattern: /\b[\w\.]+/,
      keyword: I(E, { when: (R) => R.length < 3 }),
      literal: a,
      type: o,
      built_in: p,
    },
    contains: [
      { scope: 'type', match: S(s) },
      b,
      _,
      v,
      n,
      i,
      t.C_NUMBER_MODE,
      t.C_BLOCK_COMMENT_MODE,
      r,
      g,
    ],
  };
}
function zir(t) {
  return t ? (typeof t == 'string' ? t : t.source) : null;
}
function EJ(t) {
  return ko('(?=', t, ')');
}
function ko(...t) {
  return t.map((r) => zir(r)).join('');
}
function ZBn(t) {
  let e = t[t.length - 1];
  return typeof e == 'object' && e.constructor === Object ? (t.splice(t.length - 1, 1), e) : {};
}
function $0(...t) {
  return '(' + (ZBn(t).capture ? '' : '?:') + t.map((n) => zir(n)).join('|') + ')';
}
var EVe = (t) => ko(/\b/, t, /\w$/.test(t) ? /\b/ : /\B/),
  eRn = ['Protocol', 'Type'].map(EVe),
  jir = ['init', 'self'].map(EVe),
  tRn = ['Any', 'Self'],
  AVe = [
    'actor',
    'any',
    'associatedtype',
    'async',
    'await',
    /as\?/,
    /as!/,
    'as',
    'borrowing',
    'break',
    'case',
    'catch',
    'class',
    'consume',
    'consuming',
    'continue',
    'convenience',
    'copy',
    'default',
    'defer',
    'deinit',
    'didSet',
    'distributed',
    'do',
    'dynamic',
    'each',
    'else',
    'enum',
    'extension',
    'fallthrough',
    /fileprivate\(set\)/,
    'fileprivate',
    'final',
    'for',
    'func',
    'get',
    'guard',
    'if',
    'import',
    'indirect',
    'infix',
    /init\?/,
    /init!/,
    'inout',
    /internal\(set\)/,
    'internal',
    'in',
    'is',
    'isolated',
    'nonisolated',
    'lazy',
    'let',
    'macro',
    'mutating',
    'nonmutating',
    /open\(set\)/,
    'open',
    'operator',
    'optional',
    'override',
    'package',
    'postfix',
    'precedencegroup',
    'prefix',
    /private\(set\)/,
    'private',
    'protocol',
    /public\(set\)/,
    'public',
    'repeat',
    'required',
    'rethrows',
    'return',
    'set',
    'some',
    'static',
    'struct',
    'subscript',
    'super',
    'switch',
    'throws',
    'throw',
    /try\?/,
    /try!/,
    'try',
    'typealias',
    /unowned\(safe\)/,
    /unowned\(unsafe\)/,
    'unowned',
    'var',
    'weak',
    'where',
    'while',
    'willSet',
  ],
  Yir = ['false', 'nil', 'true'],
  rRn = ['assignment', 'associativity', 'higherThan', 'left', 'lowerThan', 'none', 'right'],
  nRn = [
    '#colorLiteral',
    '#column',
    '#dsohandle',
    '#else',
    '#elseif',
    '#endif',
    '#error',
    '#file',
    '#fileID',
    '#fileLiteral',
    '#filePath',
    '#function',
    '#if',
    '#imageLiteral',
    '#keyPath',
    '#line',
    '#selector',
    '#sourceLocation',
    '#warning',
  ],
  Wir = [
    'abs',
    'all',
    'any',
    'assert',
    'assertionFailure',
    'debugPrint',
    'dump',
    'fatalError',
    'getVaList',
    'isKnownUniquelyReferenced',
    'max',
    'min',
    'numericCast',
    'pointwiseMax',
    'pointwiseMin',
    'precondition',
    'preconditionFailure',
    'print',
    'readLine',
    'repeatElement',
    'sequence',
    'stride',
    'swap',
    'swift_unboxFromSwiftValueWithType',
    'transcode',
    'type',
    'unsafeBitCast',
    'unsafeDowncast',
    'withExtendedLifetime',
    'withUnsafeMutablePointer',
    'withUnsafePointer',
    'withVaList',
    'withoutActuallyEscaping',
    'zip',
  ],
  Jir = $0(
    /[/=\-+!*%<>&|^~?]/,
    /[-]/,
    /[]/,
    /[]/,
    /[]/,
    /[]/,
    /[-]/,
    /[-]/,
    /[-]/,
    /[-]/,
    /[-]/,
    /[-]/,
    /[-]/,
    /[-]/,
    /[-]/,
    /[-]/,
    /[-]/,
    /[]/
  ),
  Kir = $0(
    Jir,
    /[-]/,
    /[-]/,
    /[-]/,
    /[-]/,
    /[-]/
  ),
  gVe = ko(Jir, Kir, '*'),
  Xir = $0(
    /[a-zA-Z_]/,
    /[--]/,
    /[----]/,
    /[----]/,
    /[-]/,
    /[----]/,
    /[----]/,
    /[--]/,
    /[----]/,
    /[----]/,
    /[--]/
  ),
  Ohe = $0(Xir, /\d/, /[----]/),
  M9 = ko(Xir, Ohe, '*'),
  Nhe = ko(/[A-Z]/, Ohe, '*'),
  iRn = [
    'attached',
    'autoclosure',
    ko(/convention\(/, $0('swift', 'block', 'c'), /\)/),
    'discardableResult',
    'dynamicCallable',
    'dynamicMemberLookup',
    'escaping',
    'freestanding',
    'frozen',
    'GKInspectable',
    'IBAction',
    'IBDesignable',
    'IBInspectable',
    'IBOutlet',
    'IBSegueAction',
    'inlinable',
    'main',
    'nonobjc',
    'NSApplicationMain',
    'NSCopying',
    'NSManaged',
    ko(/objc\(/, M9, /\)/),
    'objc',
    'objcMembers',
    'propertyWrapper',
    'requires_stored_property_inits',
    'resultBuilder',
    'Sendable',
    'testable',
    'UIApplicationMain',
    'unchecked',
    'unknown',
    'usableFromInline',
    'warn_unqualified_access',
  ],
  aRn = [
    'iOS',
    'iOSApplicationExtension',
    'macOS',
    'macOSApplicationExtension',
    'macCatalyst',
    'macCatalystApplicationExtension',
    'watchOS',
    'watchOSApplicationExtension',
    'tvOS',
    'tvOSApplicationExtension',
    'swift',
  ];
function Zir(t) {
  let e = { match: /\s+/, relevance: 0 },
    r = t.COMMENT('/\\*', '\\*/', { contains: ['self'] }),
    n = [t.C_LINE_COMMENT_MODE, r],
    i = { match: [/\./, $0(...eRn, ...jir)], className: { 2: 'keyword' } },
    a = { match: ko(/\./, $0(...AVe)), relevance: 0 },
    s = AVe.filter(($) => typeof $ == 'string').concat(['_|0']),
    o = AVe.filter(($) => typeof $ != 'string')
      .concat(tRn)
      .map(EVe),
    l = { variants: [{ className: 'keyword', match: $0(...o, ...jir) }] },
    u = { $pattern: $0(/\b\w+/, /#\w+/), keyword: s.concat(nRn), literal: Yir },
    c = [i, a, l],
    p = { match: ko(/\./, $0(...Wir)), relevance: 0 },
    h = { className: 'built_in', match: ko(/\b/, $0(...Wir), /(?=\()/) },
    m = [p, h],
    E = { match: /->/, relevance: 0 },
    v = {
      className: 'operator',
      relevance: 0,
      variants: [{ match: gVe }, { match: `\\.(\\.|${Kir})+` }],
    },
    g = [E, v],
    _ = '([0-9]_*)+',
    S = '([0-9a-fA-F]_*)+',
    b = {
      className: 'number',
      relevance: 0,
      variants: [
        { match: `\\b(${_})(\\.(${_}))?([eE][+-]?(${_}))?\\b` },
        { match: `\\b0x(${S})(\\.(${S}))?([pP][+-]?(${_}))?\\b` },
        { match: /\b0o([0-7]_*)+\b/ },
        { match: /\b0b([01]_*)+\b/ },
      ],
    },
    I = ($ = '') => ({
      className: 'subst',
      variants: [
        { match: ko(/\\/, $, /[0\\tnr"']/) },
        { match: ko(/\\/, $, /u\{[0-9a-fA-F]{1,8}\}/) },
      ],
    }),
    R = ($ = '') => ({ className: 'subst', match: ko(/\\/, $, /[\t ]*(?:[\r\n]|\r\n)/) }),
    F = ($ = '') => ({
      className: 'subst',
      label: 'interpol',
      begin: ko(/\\/, $, /\(/),
      end: /\)/,
    }),
    G = ($ = '') => ({ begin: ko($, /"""/), end: ko(/"""/, $), contains: [I($), R($), F($)] }),
    U = ($ = '') => ({ begin: ko($, /"/), end: ko(/"/, $), contains: [I($), F($)] }),
    M = {
      className: 'string',
      variants: [G(), G('#'), G('##'), G('###'), U(), U('#'), U('##'), U('###')],
    },
    Y = [
      t.BACKSLASH_ESCAPE,
      { begin: /\[/, end: /\]/, relevance: 0, contains: [t.BACKSLASH_ESCAPE] },
    ],
    z = { begin: /\/[^\s](?=[^/\n]*\/)/, end: /\//, contains: Y },
    se = ($) => {
      let fe = ko($, /\//),
        Z = ko(/\//, $);
      return {
        begin: fe,
        end: Z,
        contains: [...Y, { scope: 'comment', begin: `#(?!.*${Z})`, end: /$/ }],
      };
    },
    j = { scope: 'regexp', variants: [se('###'), se('##'), se('#'), z] },
    N = { match: ko(/`/, M9, /`/) },
    H = { className: 'variable', match: /\$\d+/ },
    ee = { className: 'variable', match: `\\$${Ohe}+` },
    me = [N, H, ee],
    Ae = {
      match: /(@|#(un)?)available/,
      scope: 'keyword',
      starts: { contains: [{ begin: /\(/, end: /\)/, keywords: aRn, contains: [...g, b, M] }] },
    },
    X = { scope: 'keyword', match: ko(/@/, $0(...iRn), EJ($0(/\(/, /\s+/))) },
    re = { scope: 'meta', match: ko(/@/, M9) },
    de = [Ae, X, re],
    ye = {
      match: EJ(/\b[A-Z]/),
      relevance: 0,
      contains: [
        {
          className: 'type',
          match: ko(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/, Ohe, '+'),
        },
        { className: 'type', match: Nhe, relevance: 0 },
        { match: /[?!]+/, relevance: 0 },
        { match: /\.\.\./, relevance: 0 },
        { match: ko(/\s+&\s+/, EJ(Nhe)), relevance: 0 },
      ],
    },
    he = { begin: /</, end: />/, keywords: u, contains: [...n, ...c, ...de, E, ye] };
  ye.contains.push(he);
  let be = { match: ko(M9, /\s*:/), keywords: '_|0', relevance: 0 },
    De = {
      begin: /\(/,
      end: /\)/,
      relevance: 0,
      keywords: u,
      contains: ['self', be, ...n, j, ...c, ...m, ...g, b, M, ...me, ...de, ye],
    },
    ce = { begin: /</, end: />/, keywords: 'repeat each', contains: [...n, ye] },
    Ce = {
      begin: $0(EJ(ko(M9, /\s*:/)), EJ(ko(M9, /\s+/, M9, /\s*:/))),
      end: /:/,
      relevance: 0,
      contains: [
        { className: 'keyword', match: /\b_\b/ },
        { className: 'params', match: M9 },
      ],
    },
    J = {
      begin: /\(/,
      end: /\)/,
      keywords: u,
      contains: [Ce, ...n, ...c, ...g, b, M, ...de, ye, De],
      endsParent: !0,
      illegal: /["']/,
    },
    te = {
      match: [/(func|macro)/, /\s+/, $0(N.match, M9, gVe)],
      className: { 1: 'keyword', 3: 'title.function' },
      contains: [ce, J, e],
      illegal: [/\[/, /%/],
    },
    ie = {
      match: [/\b(?:subscript|init[?!]?)/, /\s*(?=[<(])/],
      className: { 1: 'keyword' },
      contains: [ce, J, e],
      illegal: /\[|%/,
    },
    pe = { match: [/operator/, /\s+/, gVe], className: { 1: 'keyword', 3: 'title' } },
    ue = {
      begin: [/precedencegroup/, /\s+/, Nhe],
      className: { 1: 'keyword', 3: 'title' },
      contains: [ye],
      keywords: [...rRn, ...Yir],
      end: /}/,
    },
    ve = {
      match: [/class\b/, /\s+/, /func\b/, /\s+/, /\b[A-Za-z_][A-Za-z0-9_]*\b/],
      scope: { 1: 'keyword', 3: 'keyword', 5: 'title.function' },
    },
    ae = { match: [/class\b/, /\s+/, /var\b/], scope: { 1: 'keyword', 3: 'keyword' } },
    k = {
      begin: [/(struct|protocol|class|extension|enum|actor)/, /\s+/, M9, /\s*/],
      beginScope: { 1: 'keyword', 3: 'title.class' },
      keywords: u,
      contains: [
        ce,
        ...c,
        {
          begin: /:/,
          end: /\{/,
          keywords: u,
          contains: [{ scope: 'title.class.inherited', match: Nhe }, ...c],
          relevance: 0,
        },
      ],
    };
  for (let $ of M.variants) {
    let fe = $.contains.find((Q) => Q.label === 'interpol');
    fe.keywords = u;
    let Z = [...c, ...m, ...g, b, M, ...me];
    fe.contains = [...Z, { begin: /\(/, end: /\)/, contains: ['self', ...Z] }];
  }
  return {
    name: 'Swift',
    keywords: u,
    contains: [
      ...n,
      te,
      ie,
      ve,
      ae,
      k,
      pe,
      ue,
      { beginKeywords: 'import', end: /$/, contains: [...n], relevance: 0 },
      j,
      ...c,
      ...m,
      ...g,
      b,
      M,
      ...me,
      ...de,
      ye,
      De,
    ],
  };
}
var Mhe = '[A-Za-z$_][0-9A-Za-z$_]*',
  ear = [
    'as',
    'in',
    'of',
    'if',
    'for',
    'while',
    'finally',
    'var',
    'new',
    'function',
    'do',
    'return',
    'void',
    'else',
    'break',
    'catch',
    'instanceof',
    'with',
    'throw',
    'case',
    'default',
    'try',
    'switch',
    'continue',
    'typeof',
    'delete',
    'let',
    'yield',
    'const',
    'class',
    'debugger',
    'async',
    'await',
    'static',
    'import',
    'from',
    'export',
    'extends',
    'using',
  ],
  tar = ['true', 'false', 'null', 'undefined', 'NaN', 'Infinity'],
  rar = [
    'Object',
    'Function',
    'Boolean',
    'Symbol',
    'Math',
    'Date',
    'Number',
    'BigInt',
    'String',
    'RegExp',
    'Array',
    'Float32Array',
    'Float64Array',
    'Int8Array',
    'Uint8Array',
    'Uint8ClampedArray',
    'Int16Array',
    'Int32Array',
    'Uint16Array',
    'Uint32Array',
    'BigInt64Array',
    'BigUint64Array',
    'Set',
    'Map',
    'WeakSet',
    'WeakMap',
    'ArrayBuffer',
    'SharedArrayBuffer',
    'Atomics',
    'DataView',
    'JSON',
    'Promise',
    'Generator',
    'GeneratorFunction',
    'AsyncFunction',
    'Reflect',
    'Proxy',
    'Intl',
    'WebAssembly',
  ],
  nar = [
    'Error',
    'EvalError',
    'InternalError',
    'RangeError',
    'ReferenceError',
    'SyntaxError',
    'TypeError',
    'URIError',
  ],
  iar = [
    'setInterval',
    'setTimeout',
    'clearInterval',
    'clearTimeout',
    'require',
    'exports',
    'eval',
    'isFinite',
    'isNaN',
    'parseFloat',
    'parseInt',
    'decodeURI',
    'decodeURIComponent',
    'encodeURI',
    'encodeURIComponent',
    'escape',
    'unescape',
  ],
  aar = [
    'arguments',
    'this',
    'super',
    'console',
    'window',
    'document',
    'localStorage',
    'sessionStorage',
    'module',
    'global',
  ],
  sar = [].concat(iar, rar, nar);
function sRn(t) {
  let e = t.regex,
    r = (Ae, { after: X }) => {
      let re = '</' + Ae[0].slice(1);
      return Ae.input.indexOf(re, X) !== -1;
    },
    n = Mhe,
    i = { begin: '<>', end: '</>' },
    a = /<[A-Za-z0-9\\._:-]+\s*\/>/,
    s = {
      begin: /<[A-Za-z0-9\\._:-]+/,
      end: /\/[A-Za-z0-9\\._:-]+>|\/>/,
      isTrulyOpeningTag: (Ae, X) => {
        let re = Ae[0].length + Ae.index,
          de = Ae.input[re];
        if (de === '<' || de === ',') {
          X.ignoreMatch();
          return;
        }
        de === '>' && (r(Ae, { after: re }) || X.ignoreMatch());
        let ye,
          he = Ae.input.substring(re);
        if ((ye = he.match(/^\s*=/))) {
          X.ignoreMatch();
          return;
        }
        if ((ye = he.match(/^\s+extends\s+/)) && ye.index === 0) {
          X.ignoreMatch();
          return;
        }
      },
    },
    o = { $pattern: Mhe, keyword: ear, literal: tar, built_in: sar, 'variable.language': aar },
    l = '[0-9](_?[0-9])*',
    u = `\\.(${l})`,
    c = '0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*',
    p = {
      className: 'number',
      variants: [
        { begin: `(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b` },
        { begin: `\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b` },
        { begin: '\\b(0|[1-9](_?[0-9])*)n\\b' },
        { begin: '\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b' },
        { begin: '\\b0[bB][0-1](_?[0-1])*n?\\b' },
        { begin: '\\b0[oO][0-7](_?[0-7])*n?\\b' },
        { begin: '\\b0[0-7]+n?\\b' },
      ],
      relevance: 0,
    },
    h = { className: 'subst', begin: '\\$\\{', end: '\\}', keywords: o, contains: [] },
    m = {
      begin: '.?html`',
      end: '',
      starts: { end: '`', returnEnd: !1, contains: [t.BACKSLASH_ESCAPE, h], subLanguage: 'xml' },
    },
    E = {
      begin: '.?css`',
      end: '',
      starts: { end: '`', returnEnd: !1, contains: [t.BACKSLASH_ESCAPE, h], subLanguage: 'css' },
    },
    v = {
      begin: '.?gql`',
      end: '',
      starts: {
        end: '`',
        returnEnd: !1,
        contains: [t.BACKSLASH_ESCAPE, h],
        subLanguage: 'graphql',
      },
    },
    g = { className: 'string', begin: '`', end: '`', contains: [t.BACKSLASH_ESCAPE, h] },
    S = {
      className: 'comment',
      variants: [
        t.COMMENT(/\/\*\*(?!\/)/, '\\*/', {
          relevance: 0,
          contains: [
            {
              begin: '(?=@[A-Za-z]+)',
              relevance: 0,
              contains: [
                { className: 'doctag', begin: '@[A-Za-z]+' },
                {
                  className: 'type',
                  begin: '\\{',
                  end: '\\}',
                  excludeEnd: !0,
                  excludeBegin: !0,
                  relevance: 0,
                },
                { className: 'variable', begin: n + '(?=\\s*(-)|$)', endsParent: !0, relevance: 0 },
                { begin: /(?=[^\n])\s/, relevance: 0 },
              ],
            },
          ],
        }),
        t.C_BLOCK_COMMENT_MODE,
        t.C_LINE_COMMENT_MODE,
      ],
    },
    b = [t.APOS_STRING_MODE, t.QUOTE_STRING_MODE, m, E, v, g, { match: /\$\d+/ }, p];
  h.contains = b.concat({ begin: /\{/, end: /\}/, keywords: o, contains: ['self'].concat(b) });
  let I = [].concat(S, h.contains),
    R = I.concat([{ begin: /(\s*)\(/, end: /\)/, keywords: o, contains: ['self'].concat(I) }]),
    F = {
      className: 'params',
      begin: /(\s*)\(/,
      end: /\)/,
      excludeBegin: !0,
      excludeEnd: !0,
      keywords: o,
      contains: R,
    },
    G = {
      variants: [
        {
          match: [
            /class/,
            /\s+/,
            n,
            /\s+/,
            /extends/,
            /\s+/,
            e.concat(n, '(', e.concat(/\./, n), ')*'),
          ],
          scope: { 1: 'keyword', 3: 'title.class', 5: 'keyword', 7: 'title.class.inherited' },
        },
        { match: [/class/, /\s+/, n], scope: { 1: 'keyword', 3: 'title.class' } },
      ],
    },
    U = {
      relevance: 0,
      match: e.either(
        /\bJSON/,
        /\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,
        /\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,
        /\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/
      ),
      className: 'title.class',
      keywords: { _: [...rar, ...nar] },
    },
    M = {
      label: 'use_strict',
      className: 'meta',
      relevance: 10,
      begin: /^\s*['"]use (strict|asm)['"]/,
    },
    Y = {
      variants: [
        { match: [/function/, /\s+/, n, /(?=\s*\()/] },
        { match: [/function/, /\s*(?=\()/] },
      ],
      className: { 1: 'keyword', 3: 'title.function' },
      label: 'func.def',
      contains: [F],
      illegal: /%/,
    },
    z = { relevance: 0, match: /\b[A-Z][A-Z_0-9]+\b/, className: 'variable.constant' };
  function se(Ae) {
    return e.concat('(?!', Ae.join('|'), ')');
  }
  let j = {
      match: e.concat(
        /\b/,
        se([...iar, 'super', 'import'].map((Ae) => `${Ae}\\s*\\(`)),
        n,
        e.lookahead(/\s*\(/)
      ),
      className: 'title.function',
      relevance: 0,
    },
    N = {
      begin: e.concat(/\./, e.lookahead(e.concat(n, /(?![0-9A-Za-z$_(])/))),
      end: n,
      excludeBegin: !0,
      keywords: 'prototype',
      className: 'property',
      relevance: 0,
    },
    H = {
      match: [/get|set/, /\s+/, n, /(?=\()/],
      className: { 1: 'keyword', 3: 'title.function' },
      contains: [{ begin: /\(\)/ }, F],
    },
    ee =
      '(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|' +
      t.UNDERSCORE_IDENT_RE +
      ')\\s*=>',
    me = {
      match: [/const|var|let/, /\s+/, n, /\s*/, /=\s*/, /(async\s*)?/, e.lookahead(ee)],
      keywords: 'async',
      className: { 1: 'keyword', 3: 'title.function' },
      contains: [F],
    };
  return {
    name: 'JavaScript',
    aliases: ['js', 'jsx', 'mjs', 'cjs'],
    keywords: o,
    exports: { PARAMS_CONTAINS: R, CLASS_REFERENCE: U },
    illegal: /#(?![$_A-z])/,
    contains: [
      t.SHEBANG({ label: 'shebang', binary: 'node', relevance: 5 }),
      M,
      t.APOS_STRING_MODE,
      t.QUOTE_STRING_MODE,
      m,
      E,
      v,
      g,
      S,
      { match: /\$\d+/ },
      p,
      U,
      { scope: 'attr', match: n + e.lookahead(':'), relevance: 0 },
      me,
      {
        begin: '(' + t.RE_STARTERS_RE + '|\\b(case|return|throw)\\b)\\s*',
        keywords: 'return throw case',
        relevance: 0,
        contains: [
          S,
          t.REGEXP_MODE,
          {
            className: 'function',
            begin: ee,
            returnBegin: !0,
            end: '\\s*=>',
            contains: [
              {
                className: 'params',
                variants: [
                  { begin: t.UNDERSCORE_IDENT_RE, relevance: 0 },
                  { className: null, begin: /\(\s*\)/, skip: !0 },
                  {
                    begin: /(\s*)\(/,
                    end: /\)/,
                    excludeBegin: !0,
                    excludeEnd: !0,
                    keywords: o,
                    contains: R,
                  },
                ],
              },
            ],
          },
          { begin: /,/, relevance: 0 },
          { match: /\s+/, relevance: 0 },
          {
            variants: [
              { begin: i.begin, end: i.end },
              { match: a },
              { begin: s.begin, 'on:begin': s.isTrulyOpeningTag, end: s.end },
            ],
            subLanguage: 'xml',
            contains: [{ begin: s.begin, end: s.end, skip: !0, contains: ['self'] }],
          },
        ],
      },
      Y,
      { beginKeywords: 'while if switch catch for' },
      {
        begin:
          '\\b(?!function)' +
          t.UNDERSCORE_IDENT_RE +
          '\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{',
        returnBegin: !0,
        label: 'func.def',
        contains: [F, t.inherit(t.TITLE_MODE, { begin: n, className: 'title.function' })],
      },
      { match: /\.\.\./, relevance: 0 },
      N,
      { match: '\\$' + n, relevance: 0 },
      { match: [/\bconstructor(?=\s*\()/], className: { 1: 'title.function' }, contains: [F] },
      j,
      z,
      G,
      H,
      { match: /\$[(.]/ },
    ],
  };
}
function oar(t) {
  let e = t.regex,
    r = sRn(t),
    n = Mhe,
    i = [
      'any',
      'void',
      'number',
      'boolean',
      'string',
      'object',
      'never',
      'symbol',
      'bigint',
      'unknown',
    ],
    a = { begin: [/namespace/, /\s+/, t.IDENT_RE], beginScope: { 1: 'keyword', 3: 'title.class' } },
    s = {
      beginKeywords: 'interface',
      end: /\{/,
      excludeEnd: !0,
      keywords: { keyword: 'interface extends', built_in: i },
      contains: [r.exports.CLASS_REFERENCE],
    },
    o = { className: 'meta', relevance: 10, begin: /^\s*['"]use strict['"]/ },
    l = [
      'type',
      'interface',
      'public',
      'private',
      'protected',
      'implements',
      'declare',
      'abstract',
      'readonly',
      'enum',
      'override',
      'satisfies',
    ],
    u = {
      $pattern: Mhe,
      keyword: ear.concat(l),
      literal: tar,
      built_in: sar.concat(i),
      'variable.language': aar,
    },
    c = { className: 'meta', begin: '@' + n },
    p = (v, g, _) => {
      let S = v.contains.findIndex((b) => b.label === g);
      if (S === -1) throw new Error('can not find mode to replace');
      v.contains.splice(S, 1, _);
    };
  (Object.assign(r.keywords, u), r.exports.PARAMS_CONTAINS.push(c));
  let h = r.contains.find((v) => v.scope === 'attr'),
    m = Object.assign({}, h, { match: e.concat(n, e.lookahead(/\s*\?:/)) });
  (r.exports.PARAMS_CONTAINS.push([r.exports.CLASS_REFERENCE, h, m]),
    (r.contains = r.contains.concat([c, a, s, m])),
    p(r, 'shebang', t.SHEBANG()),
    p(r, 'use_strict', o));
  let E = r.contains.find((v) => v.label === 'func.def');
  return (
    (E.relevance = 0),
    Object.assign(r, { name: 'TypeScript', aliases: ['ts', 'tsx', 'mts', 'cts'] }),
    r
  );
}
function lar(t) {
  let e = t.regex,
    r = { className: 'string', begin: /"(""|[^/n])"C\b/ },
    n = { className: 'string', begin: /"/, end: /"/, illegal: /\n/, contains: [{ begin: /""/ }] },
    i = /\d{1,2}\/\d{1,2}\/\d{4}/,
    a = /\d{4}-\d{1,2}-\d{1,2}/,
    s = /(\d|1[012])(:\d+){0,2} *(AM|PM)/,
    o = /\d{1,2}(:\d{1,2}){1,2}/,
    l = {
      className: 'literal',
      variants: [
        { begin: e.concat(/# */, e.either(a, i), / *#/) },
        { begin: e.concat(/# */, o, / *#/) },
        { begin: e.concat(/# */, s, / *#/) },
        { begin: e.concat(/# */, e.either(a, i), / +/, e.either(s, o), / *#/) },
      ],
    },
    u = {
      className: 'number',
      relevance: 0,
      variants: [
        { begin: /\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/ },
        { begin: /\b\d[\d_]*((U?[SIL])|[%&])?/ },
        { begin: /&H[\dA-F_]+((U?[SIL])|[%&])?/ },
        { begin: /&O[0-7_]+((U?[SIL])|[%&])?/ },
        { begin: /&B[01_]+((U?[SIL])|[%&])?/ },
      ],
    },
    c = { className: 'label', begin: /^\w+:/ },
    p = t.COMMENT(/'''/, /$/, { contains: [{ className: 'doctag', begin: /<\/?/, end: />/ }] }),
    h = t.COMMENT(null, /$/, { variants: [{ begin: /'/ }, { begin: /([\t ]|^)REM(?=\s)/ }] });
  return {
    name: 'Visual Basic .NET',
    aliases: ['vb'],
    case_insensitive: !0,
    classNameAliases: { label: 'symbol' },
    keywords: {
      keyword:
        'addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield',
      built_in:
        'addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort',
      type: 'boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort',
      literal: 'true false nothing',
    },
    illegal: '//|\\{|\\}|endif|gosub|variant|wend|^\\$ ',
    contains: [
      r,
      n,
      l,
      u,
      c,
      p,
      h,
      {
        className: 'meta',
        begin: /[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,
        end: /$/,
        keywords: { keyword: 'const disable else elseif enable end externalsource if region then' },
        contains: [h],
      },
    ],
  };
}
function uar(t) {
  t.regex;
  let e = t.COMMENT(/\(;/, /;\)/);
  e.contains.push('self');
  let r = t.COMMENT(/;;/, /$/),
    n = [
      'anyfunc',
      'block',
      'br',
      'br_if',
      'br_table',
      'call',
      'call_indirect',
      'data',
      'drop',
      'elem',
      'else',
      'end',
      'export',
      'func',
      'global.get',
      'global.set',
      'local.get',
      'local.set',
      'local.tee',
      'get_global',
      'get_local',
      'global',
      'if',
      'import',
      'local',
      'loop',
      'memory',
      'memory.grow',
      'memory.size',
      'module',
      'mut',
      'nop',
      'offset',
      'param',
      'result',
      'return',
      'select',
      'set_global',
      'set_local',
      'start',
      'table',
      'tee_local',
      'then',
      'type',
      'unreachable',
    ],
    i = {
      begin: [/(?:func|call|call_indirect)/, /\s+/, /\$[^\s)]+/],
      className: { 1: 'keyword', 3: 'title.function' },
    },
    a = { className: 'variable', begin: /\$[\w_]+/ },
    s = { match: /(\((?!;)|\))+/, className: 'punctuation', relevance: 0 },
    o = {
      className: 'number',
      relevance: 0,
      match:
        /[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,
    },
    l = { match: /(i32|i64|f32|f64)(?!\.)/, className: 'type' },
    u = {
      className: 'keyword',
      match:
        /\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/,
    };
  return {
    name: 'WebAssembly',
    keywords: { $pattern: /[\w.]+/, keyword: n },
    contains: [
      r,
      e,
      { match: [/(?:offset|align)/, /\s*/, /=/], className: { 1: 'keyword', 3: 'operator' } },
      a,
      s,
      i,
      t.QUOTE_STRING_MODE,
      l,
      u,
      o,
    ],
  };
}
function car(t) {
  let e = t.regex,
    r = e.concat(/[\p{L}_]/u, e.optional(/[\p{L}0-9_.-]*:/u), /[\p{L}0-9_.-]*/u),
    n = /[\p{L}0-9._:-]+/u,
    i = { className: 'symbol', begin: /&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/ },
    a = {
      begin: /\s/,
      contains: [{ className: 'keyword', begin: /#?[a-z_][a-z1-9_-]+/, illegal: /\n/ }],
    },
    s = t.inherit(a, { begin: /\(/, end: /\)/ }),
    o = t.inherit(t.APOS_STRING_MODE, { className: 'string' }),
    l = t.inherit(t.QUOTE_STRING_MODE, { className: 'string' }),
    u = {
      endsWithParent: !0,
      illegal: /</,
      relevance: 0,
      contains: [
        { className: 'attr', begin: n, relevance: 0 },
        {
          begin: /=\s*/,
          relevance: 0,
          contains: [
            {
              className: 'string',
              endsParent: !0,
              variants: [
                { begin: /"/, end: /"/, contains: [i] },
                { begin: /'/, end: /'/, contains: [i] },
                { begin: /[^\s"'=<>`]+/ },
              ],
            },
          ],
        },
      ],
    };
  return {
    name: 'HTML, XML',
    aliases: ['html', 'xhtml', 'rss', 'atom', 'xjb', 'xsd', 'xsl', 'plist', 'wsf', 'svg'],
    case_insensitive: !0,
    unicodeRegex: !0,
    contains: [
      {
        className: 'meta',
        begin: /<![a-z]/,
        end: />/,
        relevance: 10,
        contains: [
          a,
          l,
          o,
          s,
          {
            begin: /\[/,
            end: /\]/,
            contains: [{ className: 'meta', begin: /<![a-z]/, end: />/, contains: [a, s, l, o] }],
          },
        ],
      },
      t.COMMENT(/<!--/, /-->/, { relevance: 10 }),
      { begin: /<!\[CDATA\[/, end: /\]\]>/, relevance: 10 },
      i,
      {
        className: 'meta',
        end: /\?>/,
        variants: [
          { begin: /<\?xml/, relevance: 10, contains: [l] },
          { begin: /<\?[a-z][a-z0-9]+/ },
        ],
      },
      {
        className: 'tag',
        begin: /<style(?=\s|>)/,
        end: />/,
        keywords: { name: 'style' },
        contains: [u],
        starts: { end: /<\/style>/, returnEnd: !0, subLanguage: ['css', 'xml'] },
      },
      {
        className: 'tag',
        begin: /<script(?=\s|>)/,
        end: />/,
        keywords: { name: 'script' },
        contains: [u],
        starts: {
          end: /<\/script>/,
          returnEnd: !0,
          subLanguage: ['javascript', 'handlebars', 'xml'],
        },
      },
      { className: 'tag', begin: /<>|<\/>/ },
      {
        className: 'tag',
        begin: e.concat(/</, e.lookahead(e.concat(r, e.either(/\/>/, />/, /\s/)))),
        end: /\/?>/,
        contains: [{ className: 'name', begin: r, relevance: 0, starts: u }],
      },
      {
        className: 'tag',
        begin: e.concat(/<\//, e.lookahead(e.concat(r, />/))),
        contains: [
          { className: 'name', begin: r, relevance: 0 },
          { begin: />/, relevance: 0, endsParent: !0 },
        ],
      },
    ],
  };
}
function dar(t) {
  let e = 'true false yes no null',
    r = "[\\w#;/?:@&=+$,.~*'()[\\]]+",
    n = {
      className: 'attr',
      variants: [
        { begin: /[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/ },
        { begin: /"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/ },
        { begin: /'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/ },
      ],
    },
    i = {
      className: 'template-variable',
      variants: [
        { begin: /\{\{/, end: /\}\}/ },
        { begin: /%\{/, end: /\}/ },
      ],
    },
    a = {
      className: 'string',
      relevance: 0,
      begin: /'/,
      end: /'/,
      contains: [{ match: /''/, scope: 'char.escape', relevance: 0 }],
    },
    s = {
      className: 'string',
      relevance: 0,
      variants: [{ begin: /"/, end: /"/ }, { begin: /\S+/ }],
      contains: [t.BACKSLASH_ESCAPE, i],
    },
    o = t.inherit(s, {
      variants: [
        { begin: /'/, end: /'/, contains: [{ begin: /''/, relevance: 0 }] },
        { begin: /"/, end: /"/ },
        { begin: /[^\s,{}[\]]+/ },
      ],
    }),
    h = {
      className: 'number',
      begin:
        '\\b' +
        '[0-9]{4}(-[0-9][0-9]){0,2}' +
        '([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?' +
        '(\\.[0-9]*)?' +
        '([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?' +
        '\\b',
    },
    m = { end: ',', endsWithParent: !0, excludeEnd: !0, keywords: e, relevance: 0 },
    E = { begin: /\{/, end: /\}/, contains: [m], illegal: '\\n', relevance: 0 },
    v = { begin: '\\[', end: '\\]', contains: [m], illegal: '\\n', relevance: 0 },
    g = [
      n,
      { className: 'meta', begin: '^---\\s*$', relevance: 10 },
      {
        className: 'string',
        begin: '[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*',
      },
      {
        begin: '<%[%=-]?',
        end: '[%-]?%>',
        subLanguage: 'ruby',
        excludeBegin: !0,
        excludeEnd: !0,
        relevance: 0,
      },
      { className: 'type', begin: '!\\w+!' + r },
      { className: 'type', begin: '!<' + r + '>' },
      { className: 'type', begin: '!' + r },
      { className: 'type', begin: '!!' + r },
      { className: 'meta', begin: '&' + t.UNDERSCORE_IDENT_RE + '$' },
      { className: 'meta', begin: '\\*' + t.UNDERSCORE_IDENT_RE + '$' },
      { className: 'bullet', begin: '-(?=[ ]|$)', relevance: 0 },
      t.HASH_COMMENT_MODE,
      { beginKeywords: e, keywords: { literal: e } },
      h,
      { className: 'number', begin: t.C_NUMBER_RE + '\\b', relevance: 0 },
      E,
      v,
      a,
      s,
    ],
    _ = [...g];
  return (
    _.pop(),
    _.push(o),
    (m.contains = _),
    { name: 'YAML', case_insensitive: !0, aliases: ['yml'], contains: g }
  );
}
var yVe = {
  arduino: oir,
  bash: lir,
  c: uir,
  cpp: cir,
  csharp: dir,
  css: pir,
  diff: fir,
  go: mir,
  graphql: hir,
  ini: Air,
  java: yir,
  javascript: bir,
  json: Dir,
  kotlin: wir,
  less: xir,
  lua: Bir,
  makefile: Rir,
  markdown: Nir,
  objectivec: Oir,
  perl: Mir,
  php: Lir,
  'php-template': Fir,
  plaintext: Pir,
  python: Qir,
  'python-repl': kir,
  r: Uir,
  ruby: Hir,
  rust: Vir,
  scss: Gir,
  shell: qir,
  sql: $ir,
  swift: Zir,
  typescript: oar,
  vbnet: lar,
  wasm: uar,
  xml: car,
  yaml: dar,
};
var Oar = qe(Nar(), 1);
var Mar = Oar.default;
var Lar = {},
  JRn = 'hljs-';
function xVe(t) {
  let e = Mar.newInstance();
  return (
    t && a(t),
    {
      highlight: r,
      highlightAuto: n,
      listLanguages: i,
      register: a,
      registerAlias: s,
      registered: o,
    }
  );
  function r(l, u, c) {
    let p = c || Lar,
      h = typeof p.prefix == 'string' ? p.prefix : JRn;
    if (!e.getLanguage(l)) throw new Error('Unknown language: `' + l + '` is not registered');
    e.configure({ __emitter: TVe, classPrefix: h });
    let m = e.highlight(u, { ignoreIllegals: !0, language: l });
    if (m.errorRaised)
      throw new Error('Could not highlight with `Highlight.js`', { cause: m.errorRaised });
    let E = m._emitter.root,
      v = E.data;
    return ((v.language = m.language), (v.relevance = m.relevance), E);
  }
  function n(l, u) {
    let p = (u || Lar).subset || i(),
      h = -1,
      m = 0,
      E;
    for (; ++h < p.length; ) {
      let v = p[h];
      if (!e.getLanguage(v)) continue;
      let g = r(v, l, u);
      g.data &&
        g.data.relevance !== void 0 &&
        g.data.relevance > m &&
        ((m = g.data.relevance), (E = g));
    }
    return E || { type: 'root', children: [], data: { language: void 0, relevance: m } };
  }
  function i() {
    return e.listLanguages();
  }
  function a(l, u) {
    if (typeof l == 'string') e.registerLanguage(l, u);
    else {
      let c;
      for (c in l) Object.hasOwn(l, c) && e.registerLanguage(c, l[c]);
    }
  }
  function s(l, u) {
    if (typeof l == 'string')
      e.registerAliases(typeof u == 'string' ? u : [...u], { languageName: l });
    else {
      let c;
      for (c in l)
        if (Object.hasOwn(l, c)) {
          let p = l[c];
          e.registerAliases(typeof p == 'string' ? p : [...p], { languageName: c });
        }
    }
  }
  function o(l) {
    return !!e.getLanguage(l);
  }
}
var TVe = class {
  constructor(e) {
    ((this.options = e),
      (this.root = { type: 'root', children: [], data: { language: void 0, relevance: 0 } }),
      (this.stack = [this.root]));
  }
  addText(e) {
    if (e === '') return;
    let r = this.stack[this.stack.length - 1],
      n = r.children[r.children.length - 1];
    n && n.type === 'text' ? (n.value += e) : r.children.push({ type: 'text', value: e });
  }
  startScope(e) {
    this.openNode(String(e));
  }
  endScope() {
    this.closeNode();
  }
  __addSublanguage(e, r) {
    let n = this.stack[this.stack.length - 1],
      i = e.root.children;
    r
      ? n.children.push({
          type: 'element',
          tagName: 'span',
          properties: { className: [r] },
          children: i,
        })
      : n.children.push(...i);
  }
  openNode(e) {
    let r = this,
      n = e.split('.').map(function (s, o) {
        return o ? s + '_'.repeat(o) : r.options.classPrefix + s;
      }),
      i = this.stack[this.stack.length - 1],
      a = { type: 'element', tagName: 'span', properties: { className: n }, children: [] };
    (i.children.push(a), this.stack.push(a));
  }
  closeNode() {
    this.stack.pop();
  }
  finalize() {}
  toHTML() {
    return '';
  }
};
var Q1 = qe(or(), 1);
var Ah = qe(or(), 1),
  BVe = qe(Ft(), 1);
var Far = (0, Ah.createContext)(void 0),
  Par = (0, Ah.createContext)(void 0),
  Qar = () => (0, Ah.useContext)(Far),
  kar = () => (0, Ah.useContext)(Par),
  khe = ({ children: t }) => {
    let [e, r] = (0, Ah.useState)(new Set()),
      n = (0, Ah.useCallback)((o) => {
        r((l) => {
          if (l.has(o)) return l;
          let u = new Set(l);
          return (u.add(o), u);
        });
      }, []),
      i = (0, Ah.useCallback)((o) => {
        r((l) => {
          if (!l.has(o)) return l;
          let u = new Set(l);
          return (u.delete(o), u);
        });
      }, []),
      a = (0, Ah.useMemo)(() => ({ overflowingIds: e }), [e]),
      s = (0, Ah.useMemo)(() => ({ addOverflowingId: n, removeOverflowingId: i }), [n, i]);
    return (0, BVe.jsx)(Far.Provider, {
      value: a,
      children: (0, BVe.jsx)(Par.Provider, { value: s, children: t }),
    });
  };
var yb = qe(Ft(), 1);
var RVe = !1,
  NVe = 2;
function Uar(t) {
  RVe = t;
}
function bB(t, e) {
  if (!RVe) return;
  if (!Q1.default.isValidElement(e)) {
    console.error(t, `Invalid element: '${String(e)}' typeof=${typeof e}`);
    return;
  }
  let r = '<Unknown file>';
  try {
    let n = e,
      i = n._source?.fileName,
      a = n._source?.lineNumber;
    r = i ? `${i}:${a}` : '<Unknown file>';
  } catch (n) {
    console.error('Error while trying to get file name:', n);
  }
  console.error(t, `${String(e.type)}. Source: ${r}`);
}
var h3 = ({
  children: t,
  maxWidth: e,
  maxHeight: r,
  overflowDirection: n = 'top',
  additionalHiddenLinesCount: i = 0,
}) => {
  let a = (0, Q1.useId)(),
    { addOverflowingId: s, removeOverflowingId: o } = kar() || {},
    l = [],
    u = Math.max(Math.round(r ?? Number.MAX_SAFE_INTEGER), NVe);
  if (e === void 0) throw new Error('maxWidth must be defined when maxHeight is set.');
  function c(_) {
    if (Q1.default.isValidElement(_)) {
      if (_.type === Q1.Fragment) {
        Q1.default.Children.forEach(_.props.children, c);
        return;
      }
      if (_.type === Fe) {
        XRn(_, e, l);
        return;
      }
      bB('MaxSizedBox children must be <Box> elements', _);
    }
  }
  Q1.default.Children.forEach(t, c);
  let h = ((u !== void 0 && l.length > u) || i > 0) && u !== void 0 ? u - 1 : u,
    m = h !== void 0 ? Math.max(0, l.length - h) : 0,
    E = m + i;
  (0, Q1.useEffect)(
    () => (
      E > 0 ? s?.(a) : o?.(a),
      () => {
        o?.(a);
      }
    ),
    [a, E, s, o]
  );
  let g = (m > 0 ? (n === 'top' ? l.slice(m, l.length) : l.slice(0, h)) : l).map((_, S) =>
    (0, yb.jsx)(
      Fe,
      {
        children:
          _.length > 0
            ? _.map((b, I) => (0, yb.jsx)(Se, { ...b.props, children: b.text }, I))
            : (0, yb.jsx)(Se, { children: ' ' }),
      },
      S
    )
  );
  return (0, yb.jsxs)(Fe, {
    flexDirection: 'column',
    width: e,
    flexShrink: 0,
    children: [
      E > 0 &&
        n === 'top' &&
        (0, yb.jsxs)(Se, {
          color: Ue.Gray,
          wrap: 'truncate',
          children: ['... first ', E, ' line', E === 1 ? '' : 's', ' ', 'hidden ...'],
        }),
      g,
      E > 0 &&
        n === 'bottom' &&
        (0, yb.jsxs)(Se, {
          color: Ue.Gray,
          wrap: 'truncate',
          children: ['... last ', E, ' line', E === 1 ? '' : 's', ' ', 'hidden ...'],
        }),
    ],
  });
};
function KRn(t) {
  if (!Q1.default.isValidElement(t) || t.type !== Fe)
    return (
      bB('All children of MaxSizedBox must be <Box> elements', t),
      { noWrapSegments: [{ text: '<ERROR>', props: {} }], segments: [] }
    );
  if (RVe) {
    let i = t.props,
      a = 4;
    (i.children !== void 0 && (a += 1),
      i.flexDirection !== void 0 &&
        i.flexDirection !== 'row' &&
        bB('MaxSizedBox children must have flexDirection="row".', t),
      Object.keys(i).length > a &&
        bB(
          `Boxes inside MaxSizedBox must not have additional props. ${Object.keys(i).join(', ')}`,
          t
        ));
  }
  let e = { noWrapSegments: [], segments: [] },
    r = !1;
  function n(i, a) {
    if (i === null) return;
    if (typeof i == 'string' || typeof i == 'number') {
      let u = String(i);
      if (!u) return;
      let c = { text: u, props: a ?? {} };
      a === void 0 || a.wrap === 'wrap'
        ? ((r = !0), e.segments.push(c))
        : r
          ? (e.segments.push(c),
            bB(
              'Text elements without wrapping cannot appear after elements with wrapping in the same row.',
              i
            ))
          : e.noWrapSegments.push(c);
      return;
    }
    if (!Q1.default.isValidElement(i)) {
      bB('Invalid element.', i);
      return;
    }
    if (i.type === Q1.Fragment) {
      Q1.default.Children.forEach(i.props.children, (u) => n(u, a));
      return;
    }
    if (i.type !== Se) {
      bB('Children of a row Box must be <Text> elements.', i);
      return;
    }
    let { children: s, ...o } = i.props,
      l = a === void 0 ? o : { ...a, ...o };
    Q1.default.Children.forEach(s, (u) => n(u, l));
  }
  return (Q1.default.Children.forEach(t.props.children, (i) => n(i, void 0)), e);
}
function XRn(t, e, r) {
  let n = KRn(t);
  if (n.segments.length === 0 && n.noWrapSegments.length === 0) {
    r.push([]);
    return;
  }
  let i = [],
    a = [],
    s = 0;
  if (
    (n.noWrapSegments.forEach((h) => {
      (a.push(h), (s += F1(h.text)));
    }),
    n.segments.length === 0)
  ) {
    let h = [],
      m = [];
    (a.forEach((E) => {
      E.text
        .split(
          `
`
        )
        .forEach((g, _) => {
          (_ > 0 && (h.push(m), (m = [])), g && m.push({ text: g, props: E.props }));
        });
    }),
      (m.length > 0 ||
        (a.length > 0 &&
          a[a.length - 1].text.endsWith(`
`))) &&
        h.push(m));
    for (let E of h) r.push(E);
    return;
  }
  let o = e - s;
  if (o < 1) {
    let h = [],
      m = [],
      E = 0;
    for (let v of a)
      v.text
        .split(
          `
`
        )
        .forEach((_, S) => {
          if ((S > 0 && (h.push(m), (m = []), (E = 0)), _)) {
            let b = F1(_);
            if (S > 0 && b > 0) (m.push({ text: '', props: {} }), (E = F1('')));
            else {
              let I = Math.max(0, e - F1(''));
              if (b <= I && E === 0) (m.push({ text: _, props: v.props }), (E += b));
              else {
                let R = ml(_),
                  F = E,
                  G = 0;
                for (let M of R) {
                  let Y = F1(M);
                  if (F + Y > I) break;
                  ((F += Y), G++);
                }
                let U = R.slice(0, G).join('');
                (U && m.push({ text: U, props: v.props }),
                  m.push({ text: '', props: {} }),
                  (E = F + F1('')));
              }
            }
          }
        });
    ((m.length > 0 ||
      (a.length > 0 &&
        a[a.length - 1].text.endsWith(`
`))) &&
      h.push(m),
      h.length === 0 && h.push([{ text: '', props: {} }]));
    for (let v of h) r.push(v);
    return;
  }
  let l = [],
    u = 0;
  function c() {
    (i.length === 0
      ? i.push([...a, ...l])
      : s > 0
        ? i.push([{ text: ' '.repeat(s), props: {} }, ...l])
        : i.push(l),
      (l = []),
      (u = 0));
  }
  function p(h, m) {
    l.length > 0 && l[l.length - 1].props === m
      ? (l[l.length - 1].text += h)
      : l.push({ text: h, props: m });
  }
  (n.segments.forEach((h) => {
    (h.text
      .split(
        `
`
      )
      .forEach((E, v) => {
        (v > 0 && c(),
          E.split(/(\s+)/).forEach((_) => {
            if (!_) return;
            let S = F1(_);
            if (!(u + S > o && u > 0 && (c(), /^\s+$/.test(_))))
              if (S > o) {
                let I = ml(_);
                for (; I.length > 0; ) {
                  let R = 0,
                    F = 0;
                  for (let G of I) {
                    let U = F1(G);
                    if (u + F + U > o) break;
                    ((F += U), R++);
                  }
                  if (R > 0) {
                    let G = I.slice(0, R).join('');
                    (p(G, h.props), (u += F1(G)), (I = I.slice(R)));
                  }
                  I.length > 0 && c();
                }
              } else (p(_, h.props), (u += S));
          }));
      }),
      h.text.endsWith(`
`) && c());
  }),
    l.length > 0 && c());
  for (let h of i) r.push(h);
}
var gh = qe(Ft(), 1);
var OVe = xVe(yVe);
function MVe(t, e, r) {
  if (t.type === 'text') return (0, gh.jsx)(Se, { color: r, children: t.value });
  if (t.type === 'element') {
    let n = t.properties?.className || [],
      i;
    for (let o = n.length - 1; o >= 0; o--) {
      let l = e.getInkColor(n[o]);
      if (l) {
        i = l;
        break;
      }
    }
    let a = i || r,
      s = t.children?.map((o, l) =>
        (0, gh.jsx)(Uhe.default.Fragment, { children: MVe(o, e, a) }, l)
      );
    return (0, gh.jsx)(Uhe.default.Fragment, { children: s });
  }
  return t.type === 'root'
    ? !t.children || t.children.length === 0
      ? null
      : t.children?.map((n, i) => (0, gh.jsx)(Uhe.default.Fragment, { children: MVe(n, e, r) }, i))
    : null;
}
function Har(t, e, r) {
  try {
    let i = MVe(!e || !OVe.registered(e) ? OVe.highlightAuto(t) : OVe.highlight(e, t), r, void 0);
    return i !== null ? i : t;
  } catch {
    return t;
  }
}
function LVe(t, e, r) {
  let n = r || Ya.getActiveTheme();
  return Har(t, e, n);
}
function DB(t, e, r, n, i, a) {
  let s = t.replace(/\n$/, ''),
    o = i || Ya.getActiveTheme(),
    l = a?.merged.showLineNumbers ?? !0;
  try {
    let u = s.split(`
`),
      c = String(u.length).length,
      p = 0;
    if (r !== void 0 && ((r = Math.max(r, NVe)), u.length > r)) {
      let h = u.length - r;
      ((p = h), (u = u.slice(h)));
    }
    return (0, gh.jsx)(h3, {
      maxHeight: r,
      maxWidth: n,
      additionalHiddenLinesCount: p,
      overflowDirection: 'top',
      children: u.map((h, m) => {
        let E = Har(h, e, o);
        return (0, gh.jsxs)(
          Fe,
          {
            children: [
              l &&
                (0, gh.jsx)(Se, {
                  color: o.colors.Gray,
                  children: `${String(m + 1 + p).padStart(c, ' ')} `,
                }),
              (0, gh.jsx)(Se, { color: o.defaultColor, wrap: 'wrap', children: E }),
            ],
          },
          m
        );
      }),
    });
  } catch (u) {
    console.error(`[colorizeCode] Error highlighting code for language "${e}":`, u);
    let c = s.split(`
`),
      p = String(c.length).length;
    return (0, gh.jsx)(h3, {
      maxHeight: r,
      maxWidth: n,
      overflowDirection: 'top',
      children: c.map((h, m) =>
        (0, gh.jsxs)(
          Fe,
          {
            children: [
              l &&
                (0, gh.jsx)(Se, {
                  color: o.defaultColor,
                  children: `${String(m + 1).padStart(p, ' ')} `,
                }),
              (0, gh.jsx)(Se, { color: o.colors.Gray, children: h }),
            ],
          },
          m
        )
      ),
    });
  }
}
var zd = qe(Ft(), 1);
function eNn(t) {
  let e = t.split(`
`),
    r = [],
    n = 0,
    i = 0,
    a = !1,
    s = /^@@ -(\d+),?\d* \+(\d+),?\d* @@/;
  for (let o of e) {
    let l = o.match(s);
    if (l) {
      ((n = parseInt(l[1], 10)),
        (i = parseInt(l[2], 10)),
        (a = !0),
        r.push({ type: 'hunk', content: o }),
        n--,
        i--);
      continue;
    }
    if (!a) {
      if (
        o.startsWith('--- ') ||
        o.startsWith('+++ ') ||
        o.startsWith('diff --git') ||
        o.startsWith('index ') ||
        o.startsWith('similarity index') ||
        o.startsWith('rename from') ||
        o.startsWith('rename to') ||
        o.startsWith('new file mode') ||
        o.startsWith('deleted file mode')
      )
        continue;
      continue;
    }
    o.startsWith('+')
      ? (i++, r.push({ type: 'add', newLine: i, content: o.substring(1) }))
      : o.startsWith('-')
        ? (n++, r.push({ type: 'del', oldLine: n, content: o.substring(1) }))
        : o.startsWith(' ')
          ? (n++, i++, r.push({ type: 'context', oldLine: n, newLine: i, content: o.substring(1) }))
          : o.startsWith('\\') && r.push({ type: 'other', content: o });
  }
  return r;
}
var Var = 4,
  Hk = ({
    diffContent: t,
    filename: e,
    tabWidth: r = Var,
    availableTerminalHeight: n,
    terminalWidth: i,
    theme: a,
  }) => {
    if (!t || typeof t != 'string')
      return (0, zd.jsx)(Se, { color: Ue.AccentYellow, children: 'No diff content.' });
    let s = eNn(t);
    if (s.length === 0)
      return (0, zd.jsx)(Fe, {
        borderStyle: 'round',
        borderColor: Ue.Gray,
        padding: 1,
        children: (0, zd.jsx)(Se, { dimColor: !0, children: 'No changes detected.' }),
      });
    let o = s.every(
        (u) =>
          u.type === 'add' ||
          u.type === 'hunk' ||
          u.type === 'other' ||
          u.content.startsWith('diff --git') ||
          u.content.startsWith('new file mode')
      ),
      l;
    if (o) {
      let u = s.filter((h) => h.type === 'add').map((h) => h.content).join(`
`),
        c = e?.split('.').pop() || null,
        p = c ? Gar(c) : null;
      l = DB(u, p, n, i, a);
    } else l = tNn(s, e, r, n, i);
    return l;
  },
  tNn = (t, e, r = Var, n, i) => {
    let s = t
      .map((v) => ({ ...v, content: v.content.replace(/\t/g, ' '.repeat(r)) }))
      .filter((v) => v.type !== 'hunk' && v.type !== 'other');
    if (s.length === 0)
      return (0, zd.jsx)(Fe, {
        borderStyle: 'round',
        borderColor: Ue.Gray,
        padding: 1,
        children: (0, zd.jsx)(Se, { dimColor: !0, children: 'No changes detected.' }),
      });
    let o = Math.max(0, ...s.map((v) => v.oldLine ?? 0), ...s.map((v) => v.newLine ?? 0)),
      l = Math.max(1, o.toString().length),
      u = e?.split('.').pop() || null,
      c = u ? Gar(u) : null,
      p = 1 / 0;
    for (let v of s) {
      if (v.content.trim() === '') continue;
      let g = v.content.search(/\S/);
      p = Math.min(p, g === -1 ? 0 : g);
    }
    isFinite(p) || (p = 0);
    let h = e
        ? `diff-box-${e}`
        : `diff-box-${ZRn.createHash('sha1').update(JSON.stringify(t)).digest('hex')}`,
      m = null,
      E = 5;
    return (0, zd.jsx)(
      h3,
      {
        maxHeight: n,
        maxWidth: i,
        children: s.reduce((v, g, _) => {
          let S = null;
          (g.type === 'add' || g.type === 'context'
            ? (S = g.newLine ?? null)
            : g.type === 'del' && (S = g.oldLine ?? null),
            m !== null &&
              S !== null &&
              S > m + E + 1 &&
              v.push(
                (0, zd.jsx)(
                  Fe,
                  {
                    children: (0, zd.jsx)(Se, {
                      wrap: 'truncate',
                      color: Ue.Gray,
                      children: ''.repeat(i),
                    }),
                  },
                  `gap-${_}`
                )
              ));
          let b = `diff-line-${_}`,
            I = '',
            R = ' ';
          switch (g.type) {
            case 'add':
              ((I = (g.newLine ?? '').toString()), (R = '+'), (m = g.newLine ?? null));
              break;
            case 'del':
              ((I = (g.oldLine ?? '').toString()),
                (R = '-'),
                g.oldLine !== void 0 && (m = g.oldLine));
              break;
            case 'context':
              ((I = (g.newLine ?? '').toString()), (R = ' '), (m = g.newLine ?? null));
              break;
            default:
              return v;
          }
          let F = g.content.substring(p);
          return (
            v.push(
              (0, zd.jsxs)(
                Fe,
                {
                  flexDirection: 'row',
                  children: [
                    (0, zd.jsxs)(Se, {
                      color: Pa.text.secondary,
                      backgroundColor:
                        g.type === 'add'
                          ? Pa.background.diff.added
                          : g.type === 'del'
                            ? Pa.background.diff.removed
                            : void 0,
                      children: [I.padStart(l), ' '],
                    }),
                    g.type === 'context'
                      ? (0, zd.jsxs)(zd.Fragment, {
                          children: [
                            (0, zd.jsxs)(Se, { children: [R, ' '] }),
                            (0, zd.jsx)(Se, { wrap: 'wrap', children: LVe(F, c) }),
                          ],
                        })
                      : (0, zd.jsxs)(Se, {
                          backgroundColor:
                            g.type === 'add'
                              ? Pa.background.diff.added
                              : Pa.background.diff.removed,
                          wrap: 'wrap',
                          children: [
                            (0, zd.jsx)(Se, {
                              color: g.type === 'add' ? Pa.status.success : Pa.status.error,
                              children: R,
                            }),
                            ' ',
                            LVe(F, c),
                          ],
                        }),
                  ],
                },
                b
              )
            ),
            v
          );
        }, []),
      },
      h
    );
  },
  Gar = (t) =>
    ({
      js: 'javascript',
      ts: 'typescript',
      py: 'python',
      json: 'json',
      css: 'css',
      html: 'html',
      sh: 'bash',
      md: 'markdown',
      yaml: 'yaml',
      yml: 'yaml',
      txt: 'plaintext',
      java: 'java',
      c: 'c',
      cpp: 'cpp',
      rb: 'ruby',
    })[t] || null;
var qar = {
  theme: {
    type: 'string',
    label: 'Theme',
    labelKey: 'settings.theme.label',
    category: 'UI',
    requiresRestart: !1,
    default: void 0,
    description: 'The color theme for the UI.',
    descriptionKey: 'settings.theme.description',
    showInDialog: !1,
  },
  customThemes: {
    type: 'object',
    label: 'Custom Themes',
    labelKey: 'settings.customThemes.label',
    category: 'UI',
    requiresRestart: !1,
    default: {},
    description: 'Custom theme definitions.',
    descriptionKey: 'settings.customThemes.description',
    showInDialog: !1,
  },
  hideWindowTitle: {
    type: 'boolean',
    label: 'Hide Window Title',
    labelKey: 'settings.hideWindowTitle.label',
    category: 'UI',
    requiresRestart: !0,
    default: !1,
    description: 'Hide the window title bar',
    descriptionKey: 'settings.hideWindowTitle.description',
    showInDialog: !0,
  },
  hideTips: {
    type: 'boolean',
    label: 'Hide Tips',
    labelKey: 'settings.hideTips.label',
    category: 'UI',
    requiresRestart: !1,
    default: !1,
    description: 'Hide helpful tips in the UI',
    descriptionKey: 'settings.hideTips.description',
    showInDialog: !0,
  },
  hideBanner: {
    type: 'boolean',
    label: 'Hide Banner',
    labelKey: 'settings.hideBanner.label',
    category: 'UI',
    requiresRestart: !1,
    default: !1,
    description: 'Hide the application banner',
    descriptionKey: 'settings.hideBanner.description',
    showInDialog: !0,
  },
  showMemoryUsage: {
    type: 'boolean',
    label: 'Show Memory Usage',
    labelKey: 'settings.showMemoryUsage.label',
    category: 'UI',
    requiresRestart: !1,
    default: !1,
    description: 'Display memory usage information in the UI',
    descriptionKey: 'settings.showMemoryUsage.description',
    showInDialog: !0,
  },
  usageStatisticsEnabled: {
    type: 'boolean',
    label: 'Enable Usage Statistics',
    labelKey: 'settings.usageStatisticsEnabled.label',
    category: 'General',
    requiresRestart: !0,
    default: !0,
    description: 'Enable collection of usage statistics',
    descriptionKey: 'settings.usageStatisticsEnabled.description',
    showInDialog: !0,
  },
  autoConfigureMaxOldSpaceSize: {
    type: 'boolean',
    label: 'Auto Configure Max Old Space Size',
    labelKey: 'settings.autoConfigureMaxOldSpaceSize.label',
    category: 'General',
    requiresRestart: !0,
    default: !1,
    description: 'Automatically configure Node.js memory limits',
    descriptionKey: 'settings.autoConfigureMaxOldSpaceSize.description',
    showInDialog: !0,
  },
  preferredEditor: {
    type: 'string',
    label: 'Preferred Editor',
    labelKey: 'settings.preferredEditor.label',
    category: 'General',
    requiresRestart: !1,
    default: void 0,
    description: 'The preferred editor to open files in.',
    descriptionKey: 'settings.preferredEditor.description',
    showInDialog: !1,
  },
  maxSessionTurns: {
    type: 'number',
    label: 'Max Session Turns',
    labelKey: 'settings.maxSessionTurns.label',
    category: 'General',
    requiresRestart: !1,
    default: void 0,
    description: 'Maximum number of user/model/tool turns to keep in a session.',
    descriptionKey: 'settings.maxSessionTurns.description',
    showInDialog: !1,
  },
  memoryImportFormat: {
    type: 'string',
    label: 'Memory Import Format',
    labelKey: 'settings.memoryImportFormat.label',
    category: 'General',
    requiresRestart: !1,
    default: void 0,
    description: 'The format to use when importing memory.',
    descriptionKey: 'settings.memoryImportFormat.description',
    showInDialog: !1,
  },
  memoryDiscoveryMaxDirs: {
    type: 'number',
    label: 'Memory Discovery Max Dirs',
    labelKey: 'settings.memoryDiscoveryMaxDirs.label',
    category: 'General',
    requiresRestart: !1,
    default: void 0,
    description: 'Maximum number of directories to search for memory.',
    descriptionKey: 'settings.memoryDiscoveryMaxDirs.description',
    showInDialog: !1,
  },
  contextFileName: {
    type: 'object',
    label: 'Context File Name',
    labelKey: 'settings.contextFileName.label',
    category: 'General',
    requiresRestart: !1,
    default: void 0,
    description: 'The name of the context file.',
    descriptionKey: 'settings.contextFileName.description',
    showInDialog: !1,
  },
  vimMode: {
    type: 'boolean',
    label: 'Vim Mode',
    labelKey: 'settings.vimMode.label',
    category: 'Mode',
    requiresRestart: !1,
    default: !1,
    description: 'Enable Vim keybindings',
    descriptionKey: 'settings.vimMode.description',
    showInDialog: !0,
  },
  ideMode: {
    type: 'boolean',
    label: 'IDE Mode',
    labelKey: 'settings.ideMode.label',
    category: 'Mode',
    requiresRestart: !0,
    default: !1,
    description: 'Enable IDE integration mode',
    descriptionKey: 'settings.ideMode.description',
    showInDialog: !0,
  },
  accessibility: {
    type: 'object',
    label: 'Accessibility',
    labelKey: 'settings.accessibility.label',
    category: 'Accessibility',
    requiresRestart: !0,
    default: {},
    description: 'Accessibility settings.',
    descriptionKey: 'settings.accessibility.description',
    showInDialog: !1,
    properties: {
      disableLoadingPhrases: {
        type: 'boolean',
        label: 'Disable Loading Phrases',
        labelKey: 'settings.accessibility.disableLoadingPhrases.label',
        category: 'Accessibility',
        requiresRestart: !0,
        default: !1,
        description: 'Disable loading phrases for accessibility',
        descriptionKey: 'settings.accessibility.disableLoadingPhrases.description',
        showInDialog: !0,
      },
    },
  },
  checkpointing: {
    type: 'object',
    label: 'Checkpointing',
    labelKey: 'settings.checkpointing.label',
    category: 'Checkpointing',
    requiresRestart: !0,
    default: {},
    description: 'Session checkpointing settings.',
    descriptionKey: 'settings.checkpointing.description',
    showInDialog: !1,
    properties: {
      enabled: {
        type: 'boolean',
        label: 'Enable Checkpointing',
        labelKey: 'settings.checkpointing.enabled.label',
        category: 'Checkpointing',
        requiresRestart: !0,
        default: !1,
        description: 'Enable session checkpointing for recovery',
        descriptionKey: 'settings.checkpointing.enabled.description',
        showInDialog: !1,
      },
    },
  },
  fileFiltering: {
    type: 'object',
    label: 'File Filtering',
    labelKey: 'settings.fileFiltering.label',
    category: 'File Filtering',
    requiresRestart: !0,
    default: {},
    description: 'Settings for git-aware file filtering.',
    descriptionKey: 'settings.fileFiltering.description',
    showInDialog: !1,
    properties: {
      respectGitIgnore: {
        type: 'boolean',
        label: 'Respect .gitignore',
        labelKey: 'settings.fileFiltering.respectGitIgnore.label',
        category: 'File Filtering',
        requiresRestart: !0,
        default: !0,
        description: 'Respect .gitignore files when searching',
        descriptionKey: 'settings.fileFiltering.respectGitIgnore.description',
        showInDialog: !0,
      },
      respectKodaIgnore: {
        type: 'boolean',
        label: 'Respect .kodaignore',
        labelKey: 'settings.fileFiltering.respectKodaIgnore.label',
        category: 'File Filtering',
        requiresRestart: !0,
        default: !0,
        description: 'Respect .kodaignore files when searching',
        descriptionKey: 'settings.fileFiltering.respectKodaIgnore.description',
        showInDialog: !0,
      },
      enableRecursiveFileSearch: {
        type: 'boolean',
        label: 'Enable Recursive File Search',
        labelKey: 'settings.fileFiltering.enableRecursiveFileSearch.label',
        category: 'File Filtering',
        requiresRestart: !0,
        default: !0,
        description: 'Enable recursive file search functionality',
        descriptionKey: 'settings.fileFiltering.enableRecursiveFileSearch.description',
        showInDialog: !0,
      },
    },
  },
  disableAutoUpdate: {
    type: 'boolean',
    label: 'Disable Auto Update',
    labelKey: 'settings.disableAutoUpdate.label',
    category: 'Updates',
    requiresRestart: !1,
    default: !1,
    description: 'Disable automatic updates',
    descriptionKey: 'settings.disableAutoUpdate.description',
    showInDialog: !0,
  },
  selectedAuthType: {
    type: 'string',
    label: 'Selected Auth Type',
    labelKey: 'settings.selectedAuthType.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'The currently selected authentication type.',
    descriptionKey: 'settings.selectedAuthType.description',
    showInDialog: !1,
  },
  useExternalAuth: {
    type: 'boolean',
    label: 'Use External Auth',
    labelKey: 'settings.useExternalAuth.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'Whether to use an external authentication flow.',
    descriptionKey: 'settings.useExternalAuth.description',
    showInDialog: !1,
  },
  sandbox: {
    type: 'object',
    label: 'Sandbox',
    labelKey: 'settings.sandbox.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'Sandbox execution environment (can be a boolean or a path string).',
    descriptionKey: 'settings.sandbox.description',
    showInDialog: !1,
  },
  coreTools: {
    type: 'array',
    label: 'Core Tools',
    labelKey: 'settings.coreTools.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'Paths to core tool definitions.',
    descriptionKey: 'settings.coreTools.description',
    showInDialog: !1,
  },
  excludeTools: {
    type: 'array',
    label: 'Exclude Tools',
    labelKey: 'settings.excludeTools.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'Tool names to exclude from discovery.',
    descriptionKey: 'settings.excludeTools.description',
    showInDialog: !1,
  },
  toolDiscoveryCommand: {
    type: 'string',
    label: 'Tool Discovery Command',
    labelKey: 'settings.toolDiscoveryCommand.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'Command to run for tool discovery.',
    descriptionKey: 'settings.toolDiscoveryCommand.description',
    showInDialog: !1,
  },
  toolCallCommand: {
    type: 'string',
    label: 'Tool Call Command',
    labelKey: 'settings.toolCallCommand.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'Command to run for tool calls.',
    descriptionKey: 'settings.toolCallCommand.description',
    showInDialog: !1,
  },
  mcpServerCommand: {
    type: 'string',
    label: 'MCP Server Command',
    labelKey: 'settings.mcpServerCommand.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'Command to start an MCP server.',
    descriptionKey: 'settings.mcpServerCommand.description',
    showInDialog: !1,
  },
  mcpServers: {
    type: 'object',
    label: 'MCP Servers',
    labelKey: 'settings.mcpServers.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: {},
    description: 'Configuration for MCP servers.',
    descriptionKey: 'settings.mcpServers.description',
    showInDialog: !1,
  },
  allowMCPServers: {
    type: 'array',
    label: 'Allow MCP Servers',
    labelKey: 'settings.allowMCPServers.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'A whitelist of MCP servers to allow.',
    descriptionKey: 'settings.allowMCPServers.description',
    showInDialog: !1,
  },
  excludeMCPServers: {
    type: 'array',
    label: 'Exclude MCP Servers',
    labelKey: 'settings.excludeMCPServers.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'A blacklist of MCP servers to exclude.',
    descriptionKey: 'settings.excludeMCPServers.description',
    showInDialog: !1,
  },
  telemetry: {
    type: 'object',
    label: 'Telemetry',
    labelKey: 'settings.telemetry.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'Telemetry configuration.',
    descriptionKey: 'settings.telemetry.description',
    showInDialog: !1,
  },
  bugCommand: {
    type: 'object',
    label: 'Bug Command',
    labelKey: 'settings.bugCommand.label',
    category: 'Advanced',
    requiresRestart: !1,
    default: void 0,
    description: 'Configuration for the bug report command.',
    descriptionKey: 'settings.bugCommand.description',
    showInDialog: !1,
  },
  summarizeToolOutput: {
    type: 'object',
    label: 'Summarize Tool Output',
    labelKey: 'settings.summarizeToolOutput.label',
    category: 'Advanced',
    requiresRestart: !1,
    default: void 0,
    description: 'Settings for summarizing tool output.',
    descriptionKey: 'settings.summarizeToolOutput.description',
    showInDialog: !1,
  },
  dnsResolutionOrder: {
    type: 'string',
    label: 'DNS Resolution Order',
    labelKey: 'settings.dnsResolutionOrder.label',
    category: 'Advanced',
    requiresRestart: !0,
    default: void 0,
    description: 'The DNS resolution order.',
    descriptionKey: 'settings.dnsResolutionOrder.description',
    showInDialog: !1,
  },
  excludedProjectEnvVars: {
    type: 'array',
    label: 'Excluded Project Environment Variables',
    labelKey: 'settings.excludedProjectEnvVars.label',
    category: 'Advanced',
    requiresRestart: !1,
    default: ['DEBUG', 'DEBUG_MODE'],
    description: 'Environment variables to exclude from project context.',
    descriptionKey: 'settings.excludedProjectEnvVars.description',
    showInDialog: !1,
  },
  disableUpdateNag: {
    type: 'boolean',
    label: 'Disable Update Nag',
    labelKey: 'settings.disableUpdateNag.label',
    category: 'Updates',
    requiresRestart: !1,
    default: !1,
    description: 'Disable update notification prompts.',
    descriptionKey: 'settings.disableUpdateNag.description',
    showInDialog: !1,
  },
  includeDirectories: {
    type: 'array',
    label: 'Include Directories',
    labelKey: 'settings.includeDirectories.label',
    category: 'General',
    requiresRestart: !1,
    default: [],
    description: 'Additional directories to include in the workspace context.',
    descriptionKey: 'settings.includeDirectories.description',
    showInDialog: !1,
  },
  loadMemoryFromIncludeDirectories: {
    type: 'boolean',
    label: 'Load Memory From Include Directories',
    labelKey: 'settings.loadMemoryFromIncludeDirectories.label',
    category: 'General',
    requiresRestart: !1,
    default: !1,
    description: 'Whether to load memory files from include directories.',
    descriptionKey: 'settings.loadMemoryFromIncludeDirectories.description',
    showInDialog: !0,
  },
  model: {
    type: 'string',
    label: 'Model',
    labelKey: 'settings.model.label',
    category: 'General',
    requiresRestart: !1,
    default: void 0,
    description: 'The Gemini model to use for conversations.',
    descriptionKey: 'settings.model.description',
    showInDialog: !1,
  },
  hasSeenIdeIntegrationNudge: {
    type: 'boolean',
    label: 'Has Seen IDE Integration Nudge',
    labelKey: 'settings.hasSeenIdeIntegrationNudge.label',
    category: 'General',
    requiresRestart: !1,
    default: !1,
    description: 'Whether the user has seen the IDE integration nudge.',
    descriptionKey: 'settings.hasSeenIdeIntegrationNudge.description',
    showInDialog: !1,
  },
  folderTrustFeature: {
    type: 'boolean',
    label: 'Folder Trust Feature',
    labelKey: 'settings.folderTrustFeature.label',
    category: 'General',
    requiresRestart: !1,
    default: !1,
    description: 'Enable folder trust feature for enhanced security.',
    descriptionKey: 'settings.folderTrustFeature.description',
    showInDialog: !0,
  },
  folderTrust: {
    type: 'boolean',
    label: 'Folder Trust',
    labelKey: 'settings.folderTrust.label',
    category: 'General',
    requiresRestart: !1,
    default: !1,
    description: 'Setting to track whether Folder trust is enabled.',
    descriptionKey: 'settings.folderTrust.description',
    showInDialog: !0,
  },
  chatCompression: {
    type: 'object',
    label: 'Chat Compression',
    labelKey: 'settings.chatCompression.label',
    category: 'General',
    requiresRestart: !1,
    default: void 0,
    description: 'Chat compression settings.',
    descriptionKey: 'settings.chatCompression.description',
    showInDialog: !1,
  },
  showLineNumbers: {
    type: 'boolean',
    label: 'Show Line Numbers',
    labelKey: 'settings.showLineNumbers.label',
    category: 'General',
    requiresRestart: !1,
    default: !1,
    description: 'Show line numbers in the chat.',
    descriptionKey: 'settings.showLineNumbers.description',
    showInDialog: !0,
  },
  language: {
    type: 'string',
    label: 'Language',
    labelKey: 'settings.language.label',
    category: 'General',
    requiresRestart: !0,
    default: 'ru',
    description: 'The language for the user interface.',
    descriptionKey: 'settings.language.description',
    showInDialog: !0,
  },
};
function $ar(t, e = '') {
  let r = {};
  for (let n in t) {
    let i = e ? `${e}.${n}` : n,
      a = t[n];
    ((r[i] = { ...a, key: i }), a.properties && (r = { ...r, ...$ar(a.properties, i) }));
  }
  return r;
}
var Vhe = $ar(qar);
function Vk(t) {
  return Vhe[t];
}
function SJ(t) {
  return Vhe[t]?.requiresRestart ?? !1;
}
function CJ(t) {
  return Vhe[t]?.default;
}
function _J(t, e) {
  let [r, ...n] = e;
  if (!r || !(r in t)) return;
  let i = t[r];
  if (n.length === 0) return i;
  if (i && typeof i == 'object' && i !== null) return _J(i, n);
}
function rNn(t, e, r) {
  let n = Vk(t);
  if (!n) return;
  let i = t.split('.'),
    a = _J(e, i);
  return a !== void 0 || ((a = _J(r, i)), a !== void 0) ? a : n.default;
}
function jar() {
  return Object.values(Vhe)
    .filter((t) => t.showInDialog !== !1)
    .map((t) => t.key);
}
function Hhe(t, e, r) {
  let n = Vk(t);
  if (!n) return !1;
  let i = rNn(t, e, r);
  if (typeof i == 'boolean') return i;
  let a = n.default;
  return typeof a == 'boolean' ? a : !1;
}
function vb(t, e) {
  let r = t.split('.');
  return _J(e, r) !== void 0;
}
function Yar(t, e, r) {
  let [n, ...i] = e;
  return n
    ? i.length === 0
      ? ((t[n] = r), t)
      : ((!t[n] || typeof t[n] != 'object') && (t[n] = {}), Yar(t[n], i, r), t)
    : t;
}
function Cb(t, e, r) {
  let n = t.split('.'),
    i = JSON.parse(JSON.stringify(r));
  return (Yar(i, n, e), i);
}
function FVe(t) {
  return Array.from(t).some((e) => SJ(e));
}
function War(t) {
  return Array.from(t).filter((e) => SJ(e));
}
function Ghe(t, e, r, n) {
  t.forEach((i) => {
    let a = i.split('.'),
      s = _J(e, a);
    if (s === void 0) return;
    let o = vb(i, r.forScope(n).settings),
      l = s === CJ(i);
    if (o || !l) {
      let [u] = a;
      if (u) {
        let p = Cb(i, typeof s == 'boolean' ? s : !1, r.forScope(n).settings)[u];
        r.setValue(n, u, p);
      }
    }
  });
}
function zar(t, e, r, n, i) {
  let a;
  if (i && vb(t, i)) a = Hhe(t, i, {});
  else if (vb(t, e)) a = Hhe(t, e, {});
  else {
    let p = CJ(t);
    a = typeof p == 'boolean' ? p : !1;
  }
  let s = String(a),
    o = CJ(t),
    l = typeof o == 'boolean' ? a !== o : a === !0,
    u = n.has(t),
    c = i && vb(t, i);
  return l || u || c ? `${s}*` : s;
}
function Jar(t, e) {
  return !vb(t, e);
}
var PVe = { User: 'User Settings', Workspace: 'Workspace Settings', System: 'System Settings' };
function Gk() {
  return [
    { label: PVe.User, value: 'User' },
    { label: PVe.Workspace, value: 'Workspace' },
    { label: PVe.System, value: 'System' },
  ];
}
function qhe(t, e, r) {
  let i = Object.values(L1)
    .filter((l) => l !== e)
    .filter((l) => {
      let u = r.forScope(l).settings;
      return vb(t, u);
    });
  if (i.length === 0) return '';
  let a = i.join(', '),
    s = r.forScope(e).settings;
  return vb(t, s) ? `(Also modified in ${a})` : `(Modified in ${a})`;
}
var qp = qe(Ft(), 1);
function Kar({
  onSelect: t,
  onHighlight: e,
  settings: r,
  availableTerminalHeight: n,
  terminalWidth: i,
}) {
  let [a, s] = (0, qv.useState)('User'),
    [o, l] = (0, qv.useState)(r.merged.theme || Pv.name),
    u = a === 'User' ? r.user.settings.customThemes || {} : r.merged.customThemes || {},
    c = Ya.getAvailableThemes().filter((te) => te.type !== 'custom'),
    p = Object.keys(u),
    h = (te) => te.charAt(0).toUpperCase() + te.slice(1),
    m = [
      ...c.map((te) => ({
        label: te.name,
        value: te.name,
        themeNameDisplay: te.name,
        themeTypeDisplay: h(te.type),
      })),
      ...p.map((te) => ({
        label: te,
        value: te,
        themeNameDisplay: te,
        themeTypeDisplay: 'Custom',
      })),
    ],
    [E, v] = (0, qv.useState)(Date.now()),
    g = r.merged.theme || Pv.name,
    _ = m.findIndex((te) => te.value === g),
    S = _ >= 0 ? _ : 0,
    b = Gk(),
    I = (0, qv.useCallback)(
      (te) => {
        t(te, a);
      },
      [t, a]
    ),
    R = (te) => {
      (l(te), e(te));
    },
    F = (0, qv.useCallback)((te) => {
      (s(te), v(Date.now()));
    }, []),
    G = (0, qv.useCallback)(
      (te) => {
        (F(te), M('theme'));
      },
      [F]
    ),
    [U, M] = (0, qv.useState)('theme');
  ja(
    (te) => {
      (te.name === 'tab' && M((ie) => (ie === 'theme' ? 'scope' : 'theme')),
        te.name === 'escape' && t(void 0, a));
    },
    { isActive: !0 }
  );
  let Y = qhe('theme', a, r),
    N = Math.max(Math.floor((i - 4) * 0.55 * 0.9), 1),
    H = 2,
    ee = m.length + 1,
    me = 4,
    Ae = 1,
    X = 2;
  ((n = n ?? Number.MAX_SAFE_INTEGER), (n -= 2), (n -= X));
  let re = H + ee + me + Ae,
    de = !0,
    ye = !0;
  (re > n && ((ye = !1), (re -= H)), re > n && ((re -= me), (de = !1)));
  let he = de ? U : 'theme',
    be = 8;
  n = Math.max(n, re);
  let De = n - be - (ye ? 2 : 0) * 2,
    ce = Math.max(0, De - 1),
    Ce = Math.ceil(ce * 0.6),
    J = Math.floor(ce * 0.4);
  return (0, qp.jsxs)(Fe, {
    borderStyle: 'round',
    borderColor: Ue.Gray,
    flexDirection: 'column',
    paddingTop: ye ? 1 : 0,
    paddingBottom: ye ? 1 : 0,
    paddingLeft: 1,
    paddingRight: 1,
    width: '100%',
    children: [
      (0, qp.jsxs)(Fe, {
        flexDirection: 'row',
        children: [
          (0, qp.jsxs)(Fe, {
            flexDirection: 'column',
            width: '45%',
            paddingRight: 2,
            children: [
              (0, qp.jsxs)(Se, {
                bold: he === 'theme',
                wrap: 'truncate',
                children: [
                  he === 'theme' ? '> ' : '  ',
                  Ie.t('theme.title'),
                  ' ',
                  (0, qp.jsx)(Se, { color: Ue.Gray, children: Y }),
                ],
              }),
              (0, qp.jsx)(
                Fl,
                {
                  items: m,
                  initialIndex: S,
                  onSelect: I,
                  onHighlight: R,
                  isFocused: he === 'theme',
                  maxItemsToShow: 8,
                  showScrollArrows: !0,
                  showNumbers: he === 'theme',
                },
                E
              ),
              de &&
                (0, qp.jsxs)(Fe, {
                  marginTop: 1,
                  flexDirection: 'column',
                  children: [
                    (0, qp.jsxs)(Se, {
                      bold: he === 'scope',
                      wrap: 'truncate',
                      children: [he === 'scope' ? '> ' : '  ', Ie.t('theme.applyTo')],
                    }),
                    (0, qp.jsx)(Fl, {
                      items: b,
                      initialIndex: 0,
                      onSelect: G,
                      onHighlight: F,
                      isFocused: he === 'scope',
                      showNumbers: he === 'scope',
                    }),
                  ],
                }),
            ],
          }),
          (0, qp.jsxs)(Fe, {
            flexDirection: 'column',
            width: '55%',
            paddingLeft: 2,
            children: [
              (0, qp.jsx)(Se, { bold: !0, children: Ie.t('theme.preview') }),
              (() => {
                let te = Ya.getTheme(o || Pv.name) || Pv;
                return (0, qp.jsxs)(Fe, {
                  borderStyle: 'single',
                  borderColor: Ue.Gray,
                  paddingTop: ye ? 1 : 0,
                  paddingBottom: ye ? 1 : 0,
                  paddingLeft: 1,
                  paddingRight: 1,
                  flexDirection: 'column',
                  children: [
                    DB(
                      `# function
def fibonacci(n):
    a, b = 0, 1
    for _ in range(n):
        a, b = b, a + b
    return a`,
                      'python',
                      Ce,
                      N
                    ),
                    (0, qp.jsx)(Fe, { marginTop: 1 }),
                    (0, qp.jsx)(Hk, {
                      diffContent: `--- a/util.py
+++ b/util.py
@@ -1,2 +1,2 @@
- print("Hello, " + name)
+ print(f"Hello, {name}!")
`,
                      availableTerminalHeight: J,
                      terminalWidth: N,
                      theme: te,
                    }),
                  ],
                });
              })(),
            ],
          }),
        ],
      }),
      (0, qp.jsx)(Fe, {
        marginTop: 1,
        children: (0, qp.jsxs)(Se, {
          color: Ue.Gray,
          wrap: 'truncate',
          children: ['(Use Enter to select', de ? ', Tab to change focus' : '', ')'],
        }),
      }),
    ],
  });
}
var _b = qe(or(), 1);
var Jd = qe(Ft(), 1);
function Xar({
  settings: t,
  models: e,
  loading: r,
  error: n,
  unauthorizedUserError: i,
  onSelect: a,
  onExit: s,
}) {
  let [o, l] = (0, _b.useState)('User'),
    [u, c] = (0, _b.useState)('models');
  ja(
    (g) => {
      (g.name === 'tab' && c((_) => (_ === 'models' ? 'scope' : 'models')),
        g.name === 'escape' && (s?.(), a(void 0, o)));
    },
    { isActive: !0 }
  );
  let p = (0, _b.useMemo)(() => Gk(), []),
    h = (0, _b.useCallback)((g) => {
      (l(g), c('models'));
    }, []),
    m = (0, _b.useMemo)(() => e.map((g) => ({ label: g, value: g })), [e]),
    E = t.merged.model,
    v = Math.max(
      0,
      m.findIndex((g) => g.value === E)
    );
  return (0, Jd.jsxs)(Fe, {
    borderStyle: 'round',
    borderColor: Ue.Gray,
    paddingX: 1,
    flexDirection: 'column',
    width: '100%',
    children: [
      (0, Jd.jsx)(Se, { bold: !0, children: 'Select Model' }),
      (0, Jd.jsx)(Fe, { height: 1 }),
      n &&
        (0, Jd.jsx)(Fe, {
          marginBottom: 1,
          children: (0, Jd.jsx)(Se, { color: Ue.AccentRed, children: n }),
        }),
      i &&
        (0, Jd.jsx)(Fe, {
          marginBottom: 1,
          children: (0, Jd.jsx)(Se, { color: Ue.AccentYellow, children: i }),
        }),
      r
        ? (0, Jd.jsx)(Se, { color: Ue.Gray, children: 'Loading models' })
        : (0, Jd.jsxs)(Jd.Fragment, {
            children: [
              (0, Jd.jsx)(Fl, {
                items: m,
                initialIndex: v,
                onSelect: (g) => a(g, o),
                isFocused: u === 'models',
                showNumbers: u === 'models',
                maxItemsToShow: 8,
                showScrollArrows: !0,
              }),
              (0, Jd.jsxs)(Fe, {
                marginTop: 1,
                flexDirection: 'column',
                children: [
                  (0, Jd.jsxs)(Se, {
                    bold: u === 'scope',
                    children: [' ', u === 'scope' ? '> ' : '  ', 'Apply To'],
                  }),
                  (0, Jd.jsx)(Fl, {
                    items: p,
                    initialIndex: 0,
                    onSelect: h,
                    isFocused: u === 'scope',
                    showNumbers: u === 'scope',
                  }),
                ],
              }),
              (0, Jd.jsx)(Fe, {
                marginTop: 1,
                children: (0, Jd.jsx)(Se, {
                  color: Ue.Gray,
                  children: '(Use Enter to select, Tab to change focus)',
                }),
              }),
            ],
          }),
    ],
  });
}
var Zar = qe(or(), 1);
Qn();
Qn();
var Sb = (t) => (
  VUe(),
  t === hn.LOGIN_WITH_GITHUB || t === hn.WITHOUT_AUTH ? null : 'Invalid auth method selected.'
);
var $f = qe(Ft(), 1);
function QVe(t) {
  return t && Object.values(hn).includes(t) ? t : null;
}
function esr({ onSelect: t, settings: e, initialErrorMessage: r }) {
  let [n, i] = (0, Zar.useState)(() => {
      if (r) return r;
      let p = QVe(process.env.LOGIN_WITH_GITHUB);
      return process.env.GEMINI_DEFAULT_AUTH_TYPE && p === null
        ? `Invalid value for GEMINI_DEFAULT_AUTH_TYPE: "${process.env.GEMINI_DEFAULT_AUTH_TYPE}". Valid values are: ${Object.values(hn).join(', ')}.`
        : null;
    }),
    a = [
      { label: Ie.t('authDialog.loginWithGithub'), value: hn.LOGIN_WITH_GITHUB },
      { label: Ie.t('authDialog.continueWithoutAuth'), value: hn.WITHOUT_AUTH },
    ],
    s = (() => {
      if (e.merged.selectedAuthType)
        return a.findIndex((h) => h.value === e.merged.selectedAuthType);
      let p = QVe(process.env.GEMINI_DEFAULT_AUTH_TYPE);
      return p
        ? a.findIndex((h) => h.value === p)
        : process.env.KODA_API_KEY
          ? a.findIndex((h) => h.value === hn.WITHOUT_AUTH)
          : -1;
    })(),
    o = s >= 0 ? s : 0,
    l = QVe(process.env.GEMINI_DEFAULT_AUTH_TYPE),
    u = !!process.env.KODA_API_KEY && !e.merged.selectedAuthType && l !== hn.LOGIN_WITH_GITHUB,
    c = (p) => {
      if (p === 'skip') {
        (i(null), t(void 0, 'User'));
        return;
      }
      let h = Sb(p);
      h ? i(h) : (i(null), t(p, 'User'));
    };
  return (
    ja(
      (p) => {
        p.name === 'escape' && t(void 0, 'User');
      },
      { isActive: !0 }
    ),
    (0, $f.jsxs)(Fe, {
      borderStyle: 'round',
      borderColor: Ue.Gray,
      flexDirection: 'column',
      padding: 1,
      width: '100%',
      children: [
        (0, $f.jsx)(Se, { bold: !0, children: Ie.t('authDialog.getTitle') }),
        (0, $f.jsx)(Fe, {
          marginTop: 1,
          children: (0, $f.jsx)(Se, { children: Ie.t('authDialog.authQuestion') }),
        }),
        (0, $f.jsx)(Fe, {
          marginTop: 1,
          children: (0, $f.jsx)(Fl, { items: a, initialIndex: o, onSelect: c }),
        }),
        n &&
          (0, $f.jsx)(Fe, {
            marginTop: 1,
            children: (0, $f.jsx)(Se, { color: Ue.AccentRed, children: n }),
          }),
        (0, $f.jsx)(Fe, {
          marginTop: 1,
          children: (0, $f.jsx)(Se, {
            color: Ue.Gray,
            children: Ie.t('authDialog.useEnterToSelect'),
          }),
        }),
        u &&
          (0, $f.jsx)(Fe, {
            marginTop: 1,
            children: (0, $f.jsx)(Se, {
              color: Ue.Gray,
              children: Ie.t('authDialog.existingApiKeyDetected'),
            }),
          }),
        (0, $f.jsx)(Fe, {
          marginTop: 1,
          children: (0, $f.jsx)(Se, { children: Ie.t('authDialog.authenticateLater') }),
        }),
      ],
    })
  );
}
var $he = qe(or(), 1);
var Eh = qe(Ft(), 1);
function tsr({ onTimeout: t, verificationUri: e, userCode: r }) {
  let [n, i] = (0, $he.useState)(!1);
  return (
    ja(
      (a) => {
        (a.name === 'escape' || (a.ctrl && a.name === 'c')) && t();
      },
      { isActive: !0 }
    ),
    (0, $he.useEffect)(() => {
      let a = setTimeout(() => {
        (i(!0), t());
      }, 18e4);
      return () => clearTimeout(a);
    }, [t]),
    (0, Eh.jsx)(Fe, {
      borderStyle: 'round',
      borderColor: Ue.Gray,
      flexDirection: 'column',
      padding: 1,
      width: '100%',
      children: n
        ? (0, Eh.jsx)(Se, { color: Ue.AccentRed, children: Ie.t('authInProgress.timeoutMessage') })
        : (0, Eh.jsx)(Fe, {
            children: (0, Eh.jsxs)(Fe, {
              flexDirection: 'column',
              children: [
                (0, Eh.jsxs)(Se, {
                  children: [
                    (0, Eh.jsx)(Mk, { type: 'dots' }),
                    ' ',
                    Ie.t('authInProgress.waitingMessage'),
                  ],
                }),
                e &&
                  (0, Eh.jsx)(Fe, {
                    marginTop: 1,
                    children: (0, Eh.jsxs)(Se, {
                      children: [
                        Ie.t('authInProgress.openUrlMessage'),
                        ' ',
                        (0, Eh.jsx)(Se, { color: Ue.AccentBlue, children: e }),
                      ],
                    }),
                  }),
                r &&
                  (0, Eh.jsx)(Fe, {
                    marginTop: 1,
                    children: (0, Eh.jsxs)(Se, {
                      children: [
                        Ie.t('authInProgress.codeMessage'),
                        ' ',
                        (0, Eh.jsx)(Se, { color: Ue.AccentGreen, children: r }),
                      ],
                    }),
                  }),
              ],
            }),
          }),
    })
  );
}
var UVe = qe(or(), 1);
Qn();
var jhe = {
    androidstudio: 'Android Studio',
    clion: 'CLion',
    cursor: 'Cursor',
    datagrip: 'DataGrip',
    emacs: 'Emacs',
    goland: 'GoLand',
    intellij: 'IntelliJ IDEA',
    neovim: 'Neovim',
    phpstorm: 'PhpStorm',
    pycharm: 'PyCharm',
    rider: 'Rider',
    rubymine: 'RubyMine',
    vim: 'Vim',
    vscode: 'VS Code',
    vscodium: 'VSCodium',
    webstorm: 'WebStorm',
    windsurf: 'Windsurf',
    zed: 'Zed',
  },
  kVe = class {
    availableEditors;
    constructor() {
      let e = Object.keys(jhe).sort();
      this.availableEditors = [
        { name: 'None', type: 'not_set', disabled: !1 },
        ...e.map((r) => {
          let n = qQ(r),
            i = $Q(r),
            a = i ? '' : ' (Not available in sandbox)';
          return (
            (a = n ? a : ' (Not installed)'),
            { name: jhe[r] + a, type: r, disabled: !n || !i }
          );
        }),
      ];
    }
    getAvailableEditorDisplays() {
      return this.availableEditors;
    }
  },
  rsr = new kVe();
Qn();
var $p = qe(Ft(), 1);
function nsr({ onSelect: t, settings: e, onExit: r }) {
  let [n, i] = (0, UVe.useState)('User'),
    [a, s] = (0, UVe.useState)('editor');
  ja(
    (g) => {
      (g.name === 'tab' && s((_) => (_ === 'editor' ? 'scope' : 'editor')),
        g.name === 'escape' && r());
    },
    { isActive: !0 }
  );
  let o = rsr.getAvailableEditorDisplays(),
    l = e.forScope(n).settings.preferredEditor,
    u = l ? o.findIndex((g) => g.type === l) : 0;
  u === -1 && (console.error(`Editor is not supported: ${l}`), (u = 0));
  let c = [
      { label: 'User Settings', value: 'User' },
      { label: 'Workspace Settings', value: 'Workspace' },
    ],
    p = (g) => {
      if (g === 'not_set') {
        t(void 0, n);
        return;
      }
      t(g, n);
    },
    h = (g) => {
      (i(g), s('editor'));
    },
    m = '',
    E = n === 'User' ? 'Workspace' : 'User';
  e.forScope(E).settings.preferredEditor !== void 0 &&
    (m =
      e.forScope(n).settings.preferredEditor !== void 0
        ? `(Also modified in ${E})`
        : `(Modified in ${E})`);
  let v = Ie.t('app.editorSettings.none');
  return (
    e.merged.preferredEditor && _z(e.merged.preferredEditor) && (v = jhe[e.merged.preferredEditor]),
    (0, $p.jsxs)(Fe, {
      borderStyle: 'round',
      borderColor: Ue.Gray,
      flexDirection: 'row',
      padding: 1,
      width: '100%',
      children: [
        (0, $p.jsxs)(Fe, {
          flexDirection: 'column',
          width: '45%',
          paddingRight: 2,
          children: [
            (0, $p.jsxs)(Se, {
              bold: a === 'editor',
              children: [
                a === 'editor' ? '> ' : '  ',
                Ie.t('app.editorSettings.title'),
                ' ',
                (0, $p.jsx)(Se, { color: Ue.Gray, children: m }),
              ],
            }),
            (0, $p.jsx)(
              Fl,
              {
                items: o.map((g) => ({ label: g.name, value: g.type, disabled: g.disabled })),
                initialIndex: u,
                onSelect: p,
                isFocused: a === 'editor',
              },
              n
            ),
            (0, $p.jsxs)(Fe, {
              marginTop: 1,
              flexDirection: 'column',
              children: [
                (0, $p.jsxs)(Se, {
                  bold: a === 'scope',
                  children: [a === 'scope' ? '> ' : '  ', Ie.t('app.editorSettings.applyTo')],
                }),
                (0, $p.jsx)(Fl, {
                  items: c,
                  initialIndex: 0,
                  onSelect: h,
                  isFocused: a === 'scope',
                }),
              ],
            }),
            (0, $p.jsx)(Fe, {
              marginTop: 1,
              children: (0, $p.jsx)(Se, {
                color: Ue.Gray,
                children: Ie.t('app.editorSettings.enterSelectTabFocus'),
              }),
            }),
          ],
        }),
        (0, $p.jsxs)(Fe, {
          flexDirection: 'column',
          width: '55%',
          paddingLeft: 2,
          children: [
            (0, $p.jsx)(Se, { bold: !0, children: Ie.t('app.editorSettings.title') }),
            (0, $p.jsxs)(Fe, {
              flexDirection: 'column',
              gap: 1,
              marginTop: 1,
              children: [
                (0, $p.jsx)(Se, {
                  color: Ue.Gray,
                  children: Ie.t('app.editorSettings.supportedEditors'),
                }),
                (0, $p.jsxs)(Se, {
                  color: Ue.Gray,
                  children: [
                    Ie.t('app.editorSettings.preferredEditor'),
                    (0, $p.jsx)(Se, {
                      color: v === Ie.t('app.editorSettings.none') ? Ue.AccentRed : Ue.AccentCyan,
                      bold: !0,
                      children: v,
                    }),
                    '.',
                  ],
                }),
              ],
            }),
          ],
        }),
      ],
    })
  );
}
Qn();
var A3 = qe(Ft(), 1);
var isr = ({ request: t }) => {
  let { commands: e, onConfirm: r } = t;
  ja(
    (a) => {
      a.name === 'escape' && r(Tr.Cancel);
    },
    { isActive: !0 }
  );
  let n = (a) => {
      a === Tr.Cancel ? r(a) : r(a, e);
    },
    i = [
      { label: 'Yes, allow once', value: Tr.ProceedOnce },
      { label: 'Yes, allow always for this session', value: Tr.ProceedAlways },
      { label: 'No (esc)', value: Tr.Cancel },
    ];
  return (0, A3.jsxs)(Fe, {
    flexDirection: 'column',
    borderStyle: 'round',
    borderColor: Ue.AccentYellow,
    padding: 1,
    width: '100%',
    marginLeft: 1,
    children: [
      (0, A3.jsxs)(Fe, {
        flexDirection: 'column',
        marginBottom: 1,
        children: [
          (0, A3.jsx)(Se, { bold: !0, children: 'Shell Command Execution' }),
          (0, A3.jsx)(Se, {
            children: 'A custom command wants to run the following shell commands:',
          }),
          (0, A3.jsx)(Fe, {
            flexDirection: 'column',
            borderStyle: 'round',
            borderColor: Ue.Gray,
            paddingX: 1,
            marginTop: 1,
            children: e.map((a) => (0, A3.jsx)(Se, { color: Ue.AccentCyan, children: a }, a)),
          }),
        ],
      }),
      (0, A3.jsx)(Fe, {
        marginBottom: 1,
        children: (0, A3.jsx)(Se, { children: 'Do you want to proceed?' }),
      }),
      (0, A3.jsx)(Fl, { items: i, onSelect: n, isFocused: !0 }),
    ],
  });
};
import * as GGe from 'fs';
import * as qGe from 'path';
import { homedir as fMn } from 'node:os';
var xor = qe(Tor(), 1),
  {
    applyExtends: iOn,
    cjsPlatformShim: aOn,
    Parser: sOn,
    processArgv: oOn,
    Yargs: uAe,
  } = xor.default;
uAe.applyExtends = (t, e, r) => iOn(t, e, r, aOn);
uAe.hideBin = oOn.hideBin;
uAe.Parser = sOn;
var Bor = uAe;
var FB = class t extends Error {
  constructor(e) {
    (super(e || 'yargs error'),
      (this.name = 'YError'),
      Error.captureStackTrace && Error.captureStackTrace(this, t));
  }
};
function Ror() {
  return lOn() ? 0 : 1;
}
function lOn() {
  return uOn() && !process.defaultApp;
}
function uOn() {
  return !!process.versions.electron;
}
function IGe(t) {
  return t.slice(Ror() + 1);
}
function Nor() {
  return process.argv[Ror()];
}
import { format as pOn } from 'util';
import { normalize as fOn, resolve as mOn } from 'path';
function PB(t) {
  if (
    ((t !== t.toLowerCase() && t !== t.toUpperCase()) || (t = t.toLowerCase()),
    t.indexOf('-') === -1 && t.indexOf('_') === -1)
  )
    return t;
  {
    let r = '',
      n = !1,
      i = t.match(/^-+/);
    for (let a = i ? i[0].length : 0; a < t.length; a++) {
      let s = t.charAt(a);
      (n && ((n = !1), (s = s.toUpperCase())),
        a !== 0 && (s === '-' || s === '_') ? (n = !0) : s !== '-' && s !== '_' && (r += s));
    }
    return r;
  }
}
function cAe(t, e) {
  let r = t.toLowerCase();
  e = e || '-';
  let n = '';
  for (let i = 0; i < t.length; i++) {
    let a = r.charAt(i),
      s = t.charAt(i);
    a !== s && i > 0 ? (n += `${e}${r.charAt(i)}`) : (n += s);
  }
  return n;
}
function dAe(t) {
  return t == null
    ? !1
    : typeof t == 'number' || /^0x[0-9a-f]+$/i.test(t)
      ? !0
      : /^0[^.]/.test(t)
        ? !1
        : /^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t);
}
function Oor(t) {
  if (Array.isArray(t)) return t.map((s) => (typeof s != 'string' ? s + '' : s));
  t = t.trim();
  let e = 0,
    r = null,
    n = null,
    i = null,
    a = [];
  for (let s = 0; s < t.length; s++) {
    if (((r = n), (n = t.charAt(s)), n === ' ' && !i)) {
      r !== ' ' && e++;
      continue;
    }
    (n === i ? (i = null) : (n === "'" || n === '"') && !i && (i = n),
      a[e] || (a[e] = ''),
      (a[e] += n));
  }
  return a;
}
var n6;
(function (t) {
  ((t.BOOLEAN = 'boolean'), (t.STRING = 'string'), (t.NUMBER = 'number'), (t.ARRAY = 'array'));
})(n6 || (n6 = {}));
var jv,
  pAe = class {
    constructor(e) {
      jv = e;
    }
    parse(e, r) {
      let n = Object.assign(
          {
            alias: void 0,
            array: void 0,
            boolean: void 0,
            config: void 0,
            configObjects: void 0,
            configuration: void 0,
            coerce: void 0,
            count: void 0,
            default: void 0,
            envPrefix: void 0,
            narg: void 0,
            normalize: void 0,
            string: void 0,
            number: void 0,
            __: void 0,
            key: void 0,
          },
          r
        ),
        i = Oor(e),
        a = typeof e == 'string',
        s = cOn(Object.assign(Object.create(null), n.alias)),
        o = Object.assign(
          {
            'boolean-negation': !0,
            'camel-case-expansion': !0,
            'combine-arrays': !1,
            'dot-notation': !0,
            'duplicate-arguments-array': !0,
            'flatten-duplicate-arrays': !0,
            'greedy-arrays': !0,
            'halt-at-non-option': !1,
            'nargs-eats-options': !1,
            'negation-prefix': 'no-',
            'parse-numbers': !0,
            'parse-positional-numbers': !0,
            'populate--': !1,
            'set-placeholder-key': !1,
            'short-option-groups': !0,
            'strip-aliased': !1,
            'strip-dashed': !1,
            'unknown-options-as-args': !1,
          },
          n.configuration
        ),
        l = Object.assign(Object.create(null), n.default),
        u = n.configObjects || [],
        c = n.envPrefix,
        p = o['populate--'],
        h = p ? '--' : '_',
        m = Object.create(null),
        E = Object.create(null),
        v = n.__ || jv.format,
        g = {
          aliases: Object.create(null),
          arrays: Object.create(null),
          bools: Object.create(null),
          strings: Object.create(null),
          numbers: Object.create(null),
          counts: Object.create(null),
          normalize: Object.create(null),
          configs: Object.create(null),
          nargs: Object.create(null),
          coercions: Object.create(null),
          keys: [],
        },
        _ = /^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,
        S = new RegExp('^--' + o['negation-prefix'] + '(.+)');
      ([]
        .concat(n.array || [])
        .filter(Boolean)
        .forEach(function (k) {
          let $ = typeof k == 'object' ? k.key : k,
            fe = Object.keys(k)
              .map(function (Z) {
                return { boolean: 'bools', string: 'strings', number: 'numbers' }[Z];
              })
              .filter(Boolean)
              .pop();
          (fe && (g[fe][$] = !0), (g.arrays[$] = !0), g.keys.push($));
        }),
        []
          .concat(n.boolean || [])
          .filter(Boolean)
          .forEach(function (k) {
            ((g.bools[k] = !0), g.keys.push(k));
          }),
        []
          .concat(n.string || [])
          .filter(Boolean)
          .forEach(function (k) {
            ((g.strings[k] = !0), g.keys.push(k));
          }),
        []
          .concat(n.number || [])
          .filter(Boolean)
          .forEach(function (k) {
            ((g.numbers[k] = !0), g.keys.push(k));
          }),
        []
          .concat(n.count || [])
          .filter(Boolean)
          .forEach(function (k) {
            ((g.counts[k] = !0), g.keys.push(k));
          }),
        []
          .concat(n.normalize || [])
          .filter(Boolean)
          .forEach(function (k) {
            ((g.normalize[k] = !0), g.keys.push(k));
          }),
        typeof n.narg == 'object' &&
          Object.entries(n.narg).forEach(([k, $]) => {
            typeof $ == 'number' && ((g.nargs[k] = $), g.keys.push(k));
          }),
        typeof n.coerce == 'object' &&
          Object.entries(n.coerce).forEach(([k, $]) => {
            typeof $ == 'function' && ((g.coercions[k] = $), g.keys.push(k));
          }),
        typeof n.config < 'u' &&
          (Array.isArray(n.config) || typeof n.config == 'string'
            ? []
                .concat(n.config)
                .filter(Boolean)
                .forEach(function (k) {
                  g.configs[k] = !0;
                })
            : typeof n.config == 'object' &&
              Object.entries(n.config).forEach(([k, $]) => {
                (typeof $ == 'boolean' || typeof $ == 'function') && (g.configs[k] = $);
              })),
        he(n.key, s, n.default, g.arrays),
        Object.keys(l).forEach(function (k) {
          (g.aliases[k] || []).forEach(function ($) {
            l[$] = l[k];
          });
        }));
      let b = null;
      ae();
      let I = [],
        R = Object.assign(Object.create(null), { _: [] }),
        F = {};
      for (let k = 0; k < i.length; k++) {
        let $ = i[k],
          fe = $.replace(/^-{3,}/, '---'),
          Z,
          Q,
          ge,
          xe,
          He,
          mt;
        if ($ !== '--' && /^-/.test($) && J($)) G($);
        else if (fe.match(/^---+(=|$)/)) {
          G($);
          continue;
        } else if ($.match(/^--.+=/) || (!o['short-option-groups'] && $.match(/^-.+=/)))
          ((xe = $.match(/^--?([^=]+)=([\s\S]*)$/)),
            xe !== null &&
              Array.isArray(xe) &&
              xe.length >= 3 &&
              (be(xe[1], g.arrays)
                ? (k = M(k, xe[1], i, xe[2]))
                : be(xe[1], g.nargs) !== !1
                  ? (k = U(k, xe[1], i, xe[2]))
                  : Y(xe[1], xe[2], !0)));
        else if ($.match(S) && o['boolean-negation'])
          ((xe = $.match(S)),
            xe !== null &&
              Array.isArray(xe) &&
              xe.length >= 2 &&
              ((Q = xe[1]), Y(Q, be(Q, g.arrays) ? [!1] : !1)));
        else if ($.match(/^--.+/) || (!o['short-option-groups'] && $.match(/^-[^-]+/)))
          ((xe = $.match(/^--?(.+)/)),
            xe !== null &&
              Array.isArray(xe) &&
              xe.length >= 2 &&
              ((Q = xe[1]),
              be(Q, g.arrays)
                ? (k = M(k, Q, i))
                : be(Q, g.nargs) !== !1
                  ? (k = U(k, Q, i))
                  : ((He = i[k + 1]),
                    (He !== void 0 &&
                      (!He.match(/^-/) || He.match(_)) &&
                      !be(Q, g.bools) &&
                      !be(Q, g.counts)) ||
                    /^(true|false)$/.test(He)
                      ? (Y(Q, He), k++)
                      : Y(Q, ie(Q)))));
        else if ($.match(/^-.\..+=/))
          ((xe = $.match(/^-([^=]+)=([\s\S]*)$/)),
            xe !== null && Array.isArray(xe) && xe.length >= 3 && Y(xe[1], xe[2]));
        else if ($.match(/^-.\..+/) && !$.match(_))
          ((He = i[k + 1]),
            (xe = $.match(/^-(.\..+)/)),
            xe !== null &&
              Array.isArray(xe) &&
              xe.length >= 2 &&
              ((Q = xe[1]),
              He !== void 0 && !He.match(/^-/) && !be(Q, g.bools) && !be(Q, g.counts)
                ? (Y(Q, He), k++)
                : Y(Q, ie(Q))));
        else if ($.match(/^-[^-]+/) && !$.match(_)) {
          ((ge = $.slice(1, -1).split('')), (Z = !1));
          for (let Tt = 0; Tt < ge.length; Tt++) {
            if (((He = $.slice(Tt + 2)), ge[Tt + 1] && ge[Tt + 1] === '=')) {
              ((mt = $.slice(Tt + 3)),
                (Q = ge[Tt]),
                be(Q, g.arrays)
                  ? (k = M(k, Q, i, mt))
                  : be(Q, g.nargs) !== !1
                    ? (k = U(k, Q, i, mt))
                    : Y(Q, mt),
                (Z = !0));
              break;
            }
            if (He === '-') {
              Y(ge[Tt], He);
              continue;
            }
            if (
              /[A-Za-z]/.test(ge[Tt]) &&
              /^-?\d+(\.\d*)?(e-?\d+)?$/.test(He) &&
              be(He, g.bools) === !1
            ) {
              (Y(ge[Tt], He), (Z = !0));
              break;
            }
            if (ge[Tt + 1] && ge[Tt + 1].match(/\W/)) {
              (Y(ge[Tt], He), (Z = !0));
              break;
            } else Y(ge[Tt], ie(ge[Tt]));
          }
          ((Q = $.slice(-1)[0]),
            !Z &&
              Q !== '-' &&
              (be(Q, g.arrays)
                ? (k = M(k, Q, i))
                : be(Q, g.nargs) !== !1
                  ? (k = U(k, Q, i))
                  : ((He = i[k + 1]),
                    (He !== void 0 &&
                      (!/^(-|--)[^-]/.test(He) || He.match(_)) &&
                      !be(Q, g.bools) &&
                      !be(Q, g.counts)) ||
                    /^(true|false)$/.test(He)
                      ? (Y(Q, He), k++)
                      : Y(Q, ie(Q)))));
        } else if ($.match(/^-[0-9]$/) && $.match(_) && be($.slice(1), g.bools))
          ((Q = $.slice(1)), Y(Q, ie(Q)));
        else if ($ === '--') {
          I = i.slice(k + 1);
          break;
        } else if (o['halt-at-non-option']) {
          I = i.slice(k);
          break;
        } else G($);
      }
      (me(R, !0),
        me(R, !1),
        N(R),
        ee(),
        re(R, g.aliases, l, !0),
        Ae(R),
        o['set-placeholder-key'] && X(R),
        Object.keys(g.counts).forEach(function (k) {
          de(R, k.split('.')) || Y(k, 0);
        }),
        p && I.length && (R[h] = []),
        I.forEach(function (k) {
          R[h].push(k);
        }),
        o['camel-case-expansion'] &&
          o['strip-dashed'] &&
          Object.keys(R)
            .filter((k) => k !== '--' && k.includes('-'))
            .forEach((k) => {
              delete R[k];
            }),
        o['strip-aliased'] &&
          [].concat(...Object.keys(s).map((k) => s[k])).forEach((k) => {
            (o['camel-case-expansion'] &&
              k.includes('-') &&
              delete R[
                k
                  .split('.')
                  .map(($) => PB($))
                  .join('.')
              ],
              delete R[k]);
          }));
      function G(k) {
        let $ = j('_', k);
        (typeof $ == 'string' || typeof $ == 'number') && R._.push($);
      }
      function U(k, $, fe, Z) {
        let Q,
          ge = be($, g.nargs);
        if (((ge = typeof ge != 'number' || isNaN(ge) ? 1 : ge), ge === 0))
          return (ve(Z) || (b = Error(v('Argument unexpected for: %s', $))), Y($, ie($)), k);
        let xe = ve(Z) ? 0 : 1;
        if (o['nargs-eats-options'])
          (fe.length - (k + 1) + xe < ge && (b = Error(v('Not enough arguments following: %s', $))),
            (xe = ge));
        else {
          for (
            Q = k + 1;
            Q < fe.length && (!fe[Q].match(/^-[^0-9]/) || fe[Q].match(_) || J(fe[Q]));
            Q++
          )
            xe++;
          xe < ge && (b = Error(v('Not enough arguments following: %s', $)));
        }
        let He = Math.min(xe, ge);
        for (!ve(Z) && He > 0 && (Y($, Z), He--), Q = k + 1; Q < He + k + 1; Q++) Y($, fe[Q]);
        return k + He;
      }
      function M(k, $, fe, Z) {
        let Q = [],
          ge = Z || fe[k + 1],
          xe = be($, g.nargs);
        if (be($, g.bools) && !/^(true|false)$/.test(ge)) Q.push(!0);
        else if (ve(ge) || (ve(Z) && /^-/.test(ge) && !_.test(ge) && !J(ge))) {
          if (l[$] !== void 0) {
            let He = l[$];
            Q = Array.isArray(He) ? He : [He];
          }
        } else {
          ve(Z) || Q.push(se($, Z, !0));
          for (
            let He = k + 1;
            He < fe.length &&
            !(
              (!o['greedy-arrays'] && Q.length > 0) ||
              (xe && typeof xe == 'number' && Q.length >= xe) ||
              ((ge = fe[He]), /^-/.test(ge) && !_.test(ge) && !J(ge))
            );
            He++
          )
            ((k = He), Q.push(se($, ge, a)));
        }
        return (
          typeof xe == 'number' &&
            ((xe && Q.length < xe) || (isNaN(xe) && Q.length === 0)) &&
            (b = Error(v('Not enough arguments following: %s', $))),
          Y($, Q),
          k
        );
      }
      function Y(k, $, fe = a) {
        if (/-/.test(k) && o['camel-case-expansion']) {
          let ge = k
            .split('.')
            .map(function (xe) {
              return PB(xe);
            })
            .join('.');
          z(k, ge);
        }
        let Z = se(k, $, fe),
          Q = k.split('.');
        (ye(R, Q, Z),
          g.aliases[k] &&
            g.aliases[k].forEach(function (ge) {
              let xe = ge.split('.');
              ye(R, xe, Z);
            }),
          Q.length > 1 &&
            o['dot-notation'] &&
            (g.aliases[Q[0]] || []).forEach(function (ge) {
              let xe = ge.split('.'),
                He = [].concat(Q);
              (He.shift(),
                (xe = xe.concat(He)),
                (g.aliases[k] || []).includes(xe.join('.')) || ye(R, xe, Z));
            }),
          be(k, g.normalize) &&
            !be(k, g.arrays) &&
            [k].concat(g.aliases[k] || []).forEach(function (xe) {
              Object.defineProperty(F, xe, {
                enumerable: !0,
                get() {
                  return $;
                },
                set(He) {
                  $ = typeof He == 'string' ? jv.normalize(He) : He;
                },
              });
            }));
      }
      function z(k, $) {
        ((g.aliases[k] && g.aliases[k].length) || ((g.aliases[k] = [$]), (m[$] = !0)),
          (g.aliases[$] && g.aliases[$].length) || z($, k));
      }
      function se(k, $, fe) {
        (fe && ($ = dOn($)),
          (be(k, g.bools) || be(k, g.counts)) && typeof $ == 'string' && ($ = $ === 'true'));
        let Z = Array.isArray($)
          ? $.map(function (Q) {
              return j(k, Q);
            })
          : j(k, $);
        return (
          be(k, g.counts) && (ve(Z) || typeof Z == 'boolean') && (Z = TGe()),
          be(k, g.normalize) &&
            be(k, g.arrays) &&
            (Array.isArray($) ? (Z = $.map((Q) => jv.normalize(Q))) : (Z = jv.normalize($))),
          Z
        );
      }
      function j(k, $) {
        return (
          (!o['parse-positional-numbers'] && k === '_') ||
            (!be(k, g.strings) &&
              !be(k, g.bools) &&
              !Array.isArray($) &&
              ((dAe($) &&
                o['parse-numbers'] &&
                Number.isSafeInteger(Math.floor(parseFloat(`${$}`)))) ||
                (!ve($) && be(k, g.numbers))) &&
              ($ = Number($))),
          $
        );
      }
      function N(k) {
        let $ = Object.create(null);
        (re($, g.aliases, l),
          Object.keys(g.configs).forEach(function (fe) {
            let Z = k[fe] || $[fe];
            if (Z)
              try {
                let Q = null,
                  ge = jv.resolve(jv.cwd(), Z),
                  xe = g.configs[fe];
                if (typeof xe == 'function') {
                  try {
                    Q = xe(ge);
                  } catch (He) {
                    Q = He;
                  }
                  if (Q instanceof Error) {
                    b = Q;
                    return;
                  }
                } else Q = jv.require(ge);
                H(Q);
              } catch (Q) {
                Q.name === 'PermissionDenied'
                  ? (b = Q)
                  : k[fe] && (b = Error(v('Invalid JSON config file: %s', Z)));
              }
          }));
      }
      function H(k, $) {
        Object.keys(k).forEach(function (fe) {
          let Z = k[fe],
            Q = $ ? $ + '.' + fe : fe;
          typeof Z == 'object' && Z !== null && !Array.isArray(Z) && o['dot-notation']
            ? H(Z, Q)
            : (!de(R, Q.split('.')) || (be(Q, g.arrays) && o['combine-arrays'])) && Y(Q, Z);
        });
      }
      function ee() {
        typeof u < 'u' &&
          u.forEach(function (k) {
            H(k);
          });
      }
      function me(k, $) {
        if (typeof c > 'u') return;
        let fe = typeof c == 'string' ? c : '',
          Z = jv.env();
        Object.keys(Z).forEach(function (Q) {
          if (fe === '' || Q.lastIndexOf(fe, 0) === 0) {
            let ge = Q.split('__').map(function (xe, He) {
              return (He === 0 && (xe = xe.substring(fe.length)), PB(xe));
            });
            (($ && g.configs[ge.join('.')]) || !$) && !de(k, ge) && Y(ge.join('.'), Z[Q]);
          }
        });
      }
      function Ae(k) {
        let $,
          fe = new Set();
        Object.keys(k).forEach(function (Z) {
          if (!fe.has(Z) && (($ = be(Z, g.coercions)), typeof $ == 'function'))
            try {
              let Q = j(Z, $(k[Z]));
              [].concat(g.aliases[Z] || [], Z).forEach((ge) => {
                (fe.add(ge), (k[ge] = Q));
              });
            } catch (Q) {
              b = Q;
            }
        });
      }
      function X(k) {
        return (
          g.keys.forEach(($) => {
            ~$.indexOf('.') || (typeof k[$] > 'u' && (k[$] = void 0));
          }),
          k
        );
      }
      function re(k, $, fe, Z = !1) {
        Object.keys(fe).forEach(function (Q) {
          de(k, Q.split('.')) ||
            (ye(k, Q.split('.'), fe[Q]),
            Z && (E[Q] = !0),
            ($[Q] || []).forEach(function (ge) {
              de(k, ge.split('.')) || ye(k, ge.split('.'), fe[Q]);
            }));
        });
      }
      function de(k, $) {
        let fe = k;
        (o['dot-notation'] || ($ = [$.join('.')]),
          $.slice(0, -1).forEach(function (Q) {
            fe = fe[Q] || {};
          }));
        let Z = $[$.length - 1];
        return typeof fe != 'object' ? !1 : Z in fe;
      }
      function ye(k, $, fe) {
        let Z = k;
        (o['dot-notation'] || ($ = [$.join('.')]),
          $.slice(0, -1).forEach(function (mt) {
            ((mt = Mor(mt)),
              typeof Z == 'object' && Z[mt] === void 0 && (Z[mt] = {}),
              typeof Z[mt] != 'object' || Array.isArray(Z[mt])
                ? (Array.isArray(Z[mt]) ? Z[mt].push({}) : (Z[mt] = [Z[mt], {}]),
                  (Z = Z[mt][Z[mt].length - 1]))
                : (Z = Z[mt]));
          }));
        let Q = Mor($[$.length - 1]),
          ge = be($.join('.'), g.arrays),
          xe = Array.isArray(fe),
          He = o['duplicate-arguments-array'];
        (!He &&
          be(Q, g.nargs) &&
          ((He = !0),
          ((!ve(Z[Q]) && g.nargs[Q] === 1) ||
            (Array.isArray(Z[Q]) && Z[Q].length === g.nargs[Q])) &&
            (Z[Q] = void 0)),
          fe === TGe()
            ? (Z[Q] = TGe(Z[Q]))
            : Array.isArray(Z[Q])
              ? He && ge && xe
                ? (Z[Q] = o['flatten-duplicate-arrays']
                    ? Z[Q].concat(fe)
                    : (Array.isArray(Z[Q][0]) ? Z[Q] : [Z[Q]]).concat([fe]))
                : !He && !!ge == !!xe
                  ? (Z[Q] = fe)
                  : (Z[Q] = Z[Q].concat([fe]))
              : Z[Q] === void 0 && ge
                ? (Z[Q] = xe ? fe : [fe])
                : He && !(Z[Q] === void 0 || be(Q, g.counts) || be(Q, g.bools))
                  ? (Z[Q] = [Z[Q], fe])
                  : (Z[Q] = fe));
      }
      function he(...k) {
        k.forEach(function ($) {
          Object.keys($ || {}).forEach(function (fe) {
            g.aliases[fe] ||
              ((g.aliases[fe] = [].concat(s[fe] || [])),
              g.aliases[fe].concat(fe).forEach(function (Z) {
                if (/-/.test(Z) && o['camel-case-expansion']) {
                  let Q = PB(Z);
                  Q !== fe &&
                    g.aliases[fe].indexOf(Q) === -1 &&
                    (g.aliases[fe].push(Q), (m[Q] = !0));
                }
              }),
              g.aliases[fe].concat(fe).forEach(function (Z) {
                if (Z.length > 1 && /[A-Z]/.test(Z) && o['camel-case-expansion']) {
                  let Q = cAe(Z, '-');
                  Q !== fe &&
                    g.aliases[fe].indexOf(Q) === -1 &&
                    (g.aliases[fe].push(Q), (m[Q] = !0));
                }
              }),
              g.aliases[fe].forEach(function (Z) {
                g.aliases[Z] = [fe].concat(
                  g.aliases[fe].filter(function (Q) {
                    return Z !== Q;
                  })
                );
              }));
          });
        });
      }
      function be(k, $) {
        let fe = [].concat(g.aliases[k] || [], k),
          Z = Object.keys($),
          Q = fe.find((ge) => Z.includes(ge));
        return Q ? $[Q] : !1;
      }
      function De(k) {
        let $ = Object.keys(g);
        return [].concat($.map((Z) => g[Z])).some(function (Z) {
          return Array.isArray(Z) ? Z.includes(k) : Z[k];
        });
      }
      function ce(k, ...$) {
        return [].concat(...$).some(function (Z) {
          let Q = k.match(Z);
          return Q && De(Q[1]);
        });
      }
      function Ce(k) {
        if (k.match(_) || !k.match(/^-[^-]+/)) return !1;
        let $ = !0,
          fe,
          Z = k.slice(1).split('');
        for (let Q = 0; Q < Z.length; Q++) {
          if (((fe = k.slice(Q + 2)), !De(Z[Q]))) {
            $ = !1;
            break;
          }
          if (
            (Z[Q + 1] && Z[Q + 1] === '=') ||
            fe === '-' ||
            (/[A-Za-z]/.test(Z[Q]) && /^-?\d+(\.\d*)?(e-?\d+)?$/.test(fe)) ||
            (Z[Q + 1] && Z[Q + 1].match(/\W/))
          )
            break;
        }
        return $;
      }
      function J(k) {
        return o['unknown-options-as-args'] && te(k);
      }
      function te(k) {
        return (
          (k = k.replace(/^-{3,}/, '--')),
          k.match(_) || Ce(k)
            ? !1
            : !ce(
                k,
                /^-+([^=]+?)=[\s\S]*$/,
                S,
                /^-+([^=]+?)$/,
                /^-+([^=]+?)-$/,
                /^-+([^=]+?\d+)$/,
                /^-+([^=]+?)\W+.*$/
              )
        );
      }
      function ie(k) {
        return !be(k, g.bools) && !be(k, g.counts) && `${k}` in l ? l[k] : pe(ue(k));
      }
      function pe(k) {
        return { [n6.BOOLEAN]: !0, [n6.STRING]: '', [n6.NUMBER]: void 0, [n6.ARRAY]: [] }[k];
      }
      function ue(k) {
        let $ = n6.BOOLEAN;
        return (
          be(k, g.strings)
            ? ($ = n6.STRING)
            : be(k, g.numbers)
              ? ($ = n6.NUMBER)
              : be(k, g.bools)
                ? ($ = n6.BOOLEAN)
                : be(k, g.arrays) && ($ = n6.ARRAY),
          $
        );
      }
      function ve(k) {
        return k === void 0;
      }
      function ae() {
        Object.keys(g.counts).find((k) =>
          be(k, g.arrays)
            ? ((b = Error(v('Invalid configuration: %s, opts.count excludes opts.array.', k))), !0)
            : be(k, g.nargs)
              ? ((b = Error(v('Invalid configuration: %s, opts.count excludes opts.narg.', k))), !0)
              : !1
        );
      }
      return {
        aliases: Object.assign({}, g.aliases),
        argv: Object.assign(F, R),
        configuration: o,
        defaulted: Object.assign({}, E),
        error: b,
        newAliases: Object.assign({}, m),
      };
    }
  };
function cOn(t) {
  let e = [],
    r = Object.create(null),
    n = !0;
  for (
    Object.keys(t).forEach(function (i) {
      e.push([].concat(t[i], i));
    });
    n;

  ) {
    n = !1;
    for (let i = 0; i < e.length; i++)
      for (let a = i + 1; a < e.length; a++)
        if (
          e[i].filter(function (o) {
            return e[a].indexOf(o) !== -1;
          }).length
        ) {
          ((e[i] = e[i].concat(e[a])), e.splice(a, 1), (n = !0));
          break;
        }
  }
  return (
    e.forEach(function (i) {
      i = i.filter(function (s, o, l) {
        return l.indexOf(s) === o;
      });
      let a = i.pop();
      a !== void 0 && typeof a == 'string' && (r[a] = i);
    }),
    r
  );
}
function TGe(t) {
  return t !== void 0 ? t + 1 : 1;
}
function Mor(t) {
  return t === '__proto__' ? '___proto___' : t;
}
function dOn(t) {
  return typeof t == 'string' && (t[0] === "'" || t[0] === '"') && t[t.length - 1] === t[0]
    ? t.substring(1, t.length - 1)
    : t;
}
import { readFileSync as hOn } from 'fs';
var xGe,
  BGe,
  RGe,
  Lor =
    process && process.env && process.env.YARGS_MIN_NODE_VERSION
      ? Number(process.env.YARGS_MIN_NODE_VERSION)
      : 12,
  For =
    (BGe =
      (xGe = process == null ? void 0 : process.versions) === null || xGe === void 0
        ? void 0
        : xGe.node) !== null && BGe !== void 0
      ? BGe
      : (RGe = process == null ? void 0 : process.version) === null || RGe === void 0
        ? void 0
        : RGe.slice(1);
if (For && Number(For.match(/^([^.]+)/)[1]) < Lor)
  throw Error(
    `yargs parser supports a minimum Node.js version of ${Lor}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`
  );
var AOn = process ? process.env : {},
  Por = new pAe({
    cwd: process.cwd,
    env: () => AOn,
    format: pOn,
    normalize: fOn,
    resolve: mOn,
    require: (t) => {
      if (typeof Te < 'u') return Te(t);
      if (t.match(/\.json$/)) return JSON.parse(hOn(t, 'utf8'));
      throw Error('only .json config files are supported in ESM');
    },
  }),
  OJ = function (e, r) {
    return Por.parse(e.slice(), r).argv;
  };
OJ.detailed = function (t, e) {
  return Por.parse(t.slice(), e);
};
OJ.camelCase = PB;
OJ.decamelize = cAe;
OJ.looksLikeNumber = dAe;
var NGe = OJ;
import { notStrictEqual as NOn, strictEqual as OOn } from 'assert';
var gOn = { right: _On, center: SOn },
  EOn = 0,
  fAe = 1,
  yOn = 2,
  mAe = 3,
  OGe = class {
    constructor(e) {
      var r;
      ((this.width = e.width),
        (this.wrap = (r = e.wrap) !== null && r !== void 0 ? r : !0),
        (this.rows = []));
    }
    span(...e) {
      let r = this.div(...e);
      r.span = !0;
    }
    resetOutput() {
      this.rows = [];
    }
    div(...e) {
      if (
        (e.length === 0 && this.div(''),
        this.wrap && this.shouldApplyLayoutDSL(...e) && typeof e[0] == 'string')
      )
        return this.applyLayoutDSL(e[0]);
      let r = e.map((n) => (typeof n == 'string' ? this.colFromString(n) : n));
      return (this.rows.push(r), r);
    }
    shouldApplyLayoutDSL(...e) {
      return e.length === 1 && typeof e[0] == 'string' && /[\t\n]/.test(e[0]);
    }
    applyLayoutDSL(e) {
      let r = e
          .split(
            `
`
          )
          .map((i) => i.split('	')),
        n = 0;
      return (
        r.forEach((i) => {
          i.length > 1 &&
            PA.stringWidth(i[0]) > n &&
            (n = Math.min(Math.floor(this.width * 0.5), PA.stringWidth(i[0])));
        }),
        r.forEach((i) => {
          this.div(
            ...i.map((a, s) => ({
              text: a.trim(),
              padding: this.measurePadding(a),
              width: s === 0 && i.length > 1 ? n : void 0,
            }))
          );
        }),
        this.rows[this.rows.length - 1]
      );
    }
    colFromString(e) {
      return { text: e, padding: this.measurePadding(e) };
    }
    measurePadding(e) {
      let r = PA.stripAnsi(e);
      return [0, r.match(/\s*$/)[0].length, 0, r.match(/^\s*/)[0].length];
    }
    toString() {
      let e = [];
      return (
        this.rows.forEach((r) => {
          this.rowToString(r, e);
        }),
        e.filter((r) => !r.hidden).map((r) => r.text).join(`
`)
      );
    }
    rowToString(e, r) {
      return (
        this.rasterize(e).forEach((n, i) => {
          let a = '';
          (n.forEach((s, o) => {
            let { width: l } = e[o],
              u = this.negatePadding(e[o]),
              c = s;
            if (
              (u > PA.stringWidth(s) && (c += ' '.repeat(u - PA.stringWidth(s))),
              e[o].align && e[o].align !== 'left' && this.wrap)
            ) {
              let h = gOn[e[o].align];
              ((c = h(c, u)),
                PA.stringWidth(c) < u && (c += ' '.repeat((l || 0) - PA.stringWidth(c) - 1)));
            }
            let p = e[o].padding || [0, 0, 0, 0];
            (p[mAe] && (a += ' '.repeat(p[mAe])),
              (a += Qor(e[o], c, '| ')),
              (a += c),
              (a += Qor(e[o], c, ' |')),
              p[fAe] && (a += ' '.repeat(p[fAe])),
              i === 0 && r.length > 0 && (a = this.renderInline(a, r[r.length - 1])));
          }),
            r.push({ text: a.replace(/ +$/, ''), span: e.span }));
        }),
        r
      );
    }
    renderInline(e, r) {
      let n = e.match(/^ */),
        i = n ? n[0].length : 0,
        a = r.text,
        s = PA.stringWidth(a.trimRight());
      return r.span
        ? this.wrap
          ? i < s
            ? e
            : ((r.hidden = !0), a.trimRight() + ' '.repeat(i - s) + e.trimLeft())
          : ((r.hidden = !0), a + e)
        : e;
    }
    rasterize(e) {
      let r = [],
        n = this.columnWidths(e),
        i;
      return (
        e.forEach((a, s) => {
          ((a.width = n[s]),
            this.wrap
              ? (i = PA.wrap(a.text, this.negatePadding(a), { hard: !0 }).split(`
`))
              : (i = a.text.split(`
`)),
            a.border &&
              (i.unshift('.' + '-'.repeat(this.negatePadding(a) + 2) + '.'),
              i.push("'" + '-'.repeat(this.negatePadding(a) + 2) + "'")),
            a.padding &&
              (i.unshift(...new Array(a.padding[EOn] || 0).fill('')),
              i.push(...new Array(a.padding[yOn] || 0).fill(''))),
            i.forEach((o, l) => {
              r[l] || r.push([]);
              let u = r[l];
              for (let c = 0; c < s; c++) u[c] === void 0 && u.push('');
              u.push(o);
            }));
        }),
        r
      );
    }
    negatePadding(e) {
      let r = e.width || 0;
      return (
        e.padding && (r -= (e.padding[mAe] || 0) + (e.padding[fAe] || 0)),
        e.border && (r -= 4),
        r
      );
    }
    columnWidths(e) {
      if (!this.wrap) return e.map((s) => s.width || PA.stringWidth(s.text));
      let r = e.length,
        n = this.width,
        i = e.map((s) => {
          if (s.width) return (r--, (n -= s.width), s.width);
        }),
        a = r ? Math.floor(n / r) : 0;
      return i.map((s, o) => (s === void 0 ? Math.max(a, vOn(e[o])) : s));
    }
  };
function Qor(t, e, r) {
  return t.border ? (/[.']-+[.']/.test(e) ? '' : e.trim().length !== 0 ? r : '  ') : '';
}
function vOn(t) {
  let e = t.padding || [],
    r = 1 + (e[mAe] || 0) + (e[fAe] || 0);
  return t.border ? r + 4 : r;
}
function COn() {
  return typeof process == 'object' && process.stdout && process.stdout.columns
    ? process.stdout.columns
    : 80;
}
function _On(t, e) {
  t = t.trim();
  let r = PA.stringWidth(t);
  return r < e ? ' '.repeat(e - r) + t : t;
}
function SOn(t, e) {
  t = t.trim();
  let r = PA.stringWidth(t);
  return r >= e ? t : ' '.repeat((e - r) >> 1) + t;
}
var PA;
function kor(t, e) {
  return ((PA = e), new OGe({ width: t?.width || COn(), wrap: t?.wrap }));
}
var Uor = new RegExp(
  '\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)',
  'g'
);
function MGe(t) {
  return t.replace(Uor, '');
}
function Hor(t, e) {
  let [r, n] = t.match(Uor) || ['', ''];
  t = MGe(t);
  let i = '';
  for (let a = 0; a < t.length; a++)
    (a !== 0 &&
      a % e === 0 &&
      (i += `
`),
      (i += t.charAt(a)));
  return (r && n && (i = `${r}${i}${n}`), i);
}
function LGe(t) {
  return kor(t, { stringWidth: (e) => [...e].length, stripAnsi: MGe, wrap: Hor });
}
import { dirname as Vor, resolve as Gor } from 'path';
import { readdirSync as bOn, statSync as DOn } from 'fs';
function qor(t, e) {
  let r = Gor('.', t),
    n;
  for (DOn(r).isDirectory() || (r = Vor(r)); ; ) {
    if (((n = e(r, bOn(r))), n)) return Gor(r, n);
    if (((r = Vor((n = r))), n === r)) break;
  }
}
import { inspect as MOn } from 'util';
import { readFileSync as LOn } from 'fs';
import { fileURLToPath as FOn } from 'url';
import {
  basename as POn,
  dirname as QOn,
  extname as kOn,
  relative as UOn,
  resolve as Wor,
} from 'path';
import { readFileSync as wOn, statSync as IOn, writeFile as TOn } from 'fs';
import { format as xOn } from 'util';
import { resolve as BOn } from 'path';
var $or = {
  fs: { readFileSync: wOn, writeFile: TOn },
  format: xOn,
  resolve: BOn,
  exists: (t) => {
    try {
      return IOn(t).isFile();
    } catch {
      return !1;
    }
  },
};
var v3,
  FGe = class {
    constructor(e) {
      ((e = e || {}),
        (this.directory = e.directory || './locales'),
        (this.updateFiles = typeof e.updateFiles == 'boolean' ? e.updateFiles : !0),
        (this.locale = e.locale || 'en'),
        (this.fallbackToLanguage =
          typeof e.fallbackToLanguage == 'boolean' ? e.fallbackToLanguage : !0),
        (this.cache = Object.create(null)),
        (this.writeQueue = []));
    }
    __(...e) {
      if (typeof arguments[0] != 'string') return this._taggedLiteral(arguments[0], ...arguments);
      let r = e.shift(),
        n = function () {};
      return (
        typeof e[e.length - 1] == 'function' && (n = e.pop()),
        (n = n || function () {}),
        this.cache[this.locale] || this._readLocaleFile(),
        !this.cache[this.locale][r] && this.updateFiles
          ? ((this.cache[this.locale][r] = r),
            this._enqueueWrite({ directory: this.directory, locale: this.locale, cb: n }))
          : n(),
        v3.format.apply(v3.format, [this.cache[this.locale][r] || r].concat(e))
      );
    }
    __n() {
      let e = Array.prototype.slice.call(arguments),
        r = e.shift(),
        n = e.shift(),
        i = e.shift(),
        a = function () {};
      (typeof e[e.length - 1] == 'function' && (a = e.pop()),
        this.cache[this.locale] || this._readLocaleFile());
      let s = i === 1 ? r : n;
      (this.cache[this.locale][r] && (s = this.cache[this.locale][r][i === 1 ? 'one' : 'other']),
        !this.cache[this.locale][r] && this.updateFiles
          ? ((this.cache[this.locale][r] = { one: r, other: n }),
            this._enqueueWrite({ directory: this.directory, locale: this.locale, cb: a }))
          : a());
      let o = [s];
      return (~s.indexOf('%d') && o.push(i), v3.format.apply(v3.format, o.concat(e)));
    }
    setLocale(e) {
      this.locale = e;
    }
    getLocale() {
      return this.locale;
    }
    updateLocale(e) {
      this.cache[this.locale] || this._readLocaleFile();
      for (let r in e)
        Object.prototype.hasOwnProperty.call(e, r) && (this.cache[this.locale][r] = e[r]);
    }
    _taggedLiteral(e, ...r) {
      let n = '';
      return (
        e.forEach(function (i, a) {
          let s = r[a + 1];
          ((n += i), typeof s < 'u' && (n += '%s'));
        }),
        this.__.apply(this, [n].concat([].slice.call(r, 1)))
      );
    }
    _enqueueWrite(e) {
      (this.writeQueue.push(e), this.writeQueue.length === 1 && this._processWriteQueue());
    }
    _processWriteQueue() {
      let e = this,
        r = this.writeQueue[0],
        n = r.directory,
        i = r.locale,
        a = r.cb,
        s = this._resolveLocaleFile(n, i),
        o = JSON.stringify(this.cache[i], null, 2);
      v3.fs.writeFile(s, o, 'utf-8', function (l) {
        (e.writeQueue.shift(), e.writeQueue.length > 0 && e._processWriteQueue(), a(l));
      });
    }
    _readLocaleFile() {
      let e = {},
        r = this._resolveLocaleFile(this.directory, this.locale);
      try {
        v3.fs.readFileSync && (e = JSON.parse(v3.fs.readFileSync(r, 'utf-8')));
      } catch (n) {
        if ((n instanceof SyntaxError && (n.message = 'syntax error in ' + r), n.code === 'ENOENT'))
          e = {};
        else throw n;
      }
      this.cache[this.locale] = e;
    }
    _resolveLocaleFile(e, r) {
      let n = v3.resolve(e, './', r + '.json');
      if (this.fallbackToLanguage && !this._fileExistsSync(n) && ~r.lastIndexOf('_')) {
        let i = v3.resolve(e, './', r.split('_')[0] + '.json');
        this._fileExistsSync(i) && (n = i);
      }
      return n;
    }
    _fileExistsSync(e) {
      return v3.exists(e);
    }
  };
function jor(t, e) {
  v3 = e;
  let r = new FGe(t);
  return {
    __: r.__.bind(r),
    __n: r.__n.bind(r),
    setLocale: r.setLocale.bind(r),
    getLocale: r.getLocale.bind(r),
    updateLocale: r.updateLocale.bind(r),
    locale: r.locale,
  };
}
var ROn = (t) => jor(t, $or),
  Yor = ROn;
var HOn = 'require is not supported by ESM',
  zor = 'loading a directory of commands is not supported yet for ESM',
  MJ;
try {
  MJ = FOn(import.meta.url);
} catch {
  MJ = process.cwd();
}
var VOn = MJ.substring(0, MJ.lastIndexOf('node_modules')),
  GOn = {
    assert: { notStrictEqual: NOn, strictEqual: OOn },
    cliui: LGe,
    findUp: qor,
    getEnv: (t) => process.env[t],
    inspect: MOn,
    getCallerFile: () => {
      throw new FB(zor);
    },
    getProcessArgvBin: Nor,
    mainFilename: VOn || process.cwd(),
    Parser: NGe,
    path: { basename: POn, dirname: QOn, extname: kOn, relative: UOn, resolve: Wor },
    process: {
      argv: () => process.argv,
      cwd: process.cwd,
      emitWarning: (t, e) => process.emitWarning(t, e),
      execPath: () => process.execPath,
      exit: process.exit,
      nextTick: process.nextTick,
      stdColumns: typeof process.stdout.columns < 'u' ? process.stdout.columns : null,
    },
    readFileSync: LOn,
    require: () => {
      throw new FB(HOn);
    },
    requireDirectory: () => {
      throw new FB(zor);
    },
    stringWidth: (t) => [...t].length,
    y18n: Yor({ directory: Wor(MJ, '../../../locales'), updateFiles: !1 }),
  };
import j0 from 'node:process';
async function qOn(t, e, r, n) {
  let {
      scope: i,
      transport: a,
      env: s,
      header: o,
      timeout: l,
      trust: u,
      description: c,
      includeTools: p,
      excludeTools: h,
    } = n,
    m = i === 'user' ? 'User' : 'Workspace',
    E = b9(process.cwd()),
    v = {},
    g = o?.reduce((I, R) => {
      let [F, ...G] = R.split(':'),
        U = G.join(':').trim();
      return (F.trim() && U && (I[F.trim()] = U), I);
    }, {});
  switch (a) {
    case 'sse':
      v = {
        url: e,
        headers: g,
        timeout: l,
        trust: u,
        description: c,
        includeTools: p,
        excludeTools: h,
      };
      break;
    case 'http':
      v = {
        httpUrl: e,
        headers: g,
        timeout: l,
        trust: u,
        description: c,
        includeTools: p,
        excludeTools: h,
      };
      break;
    case 'stdio':
    default:
      v = {
        command: e,
        args: r?.map(String),
        env: s?.reduce((I, R) => {
          let [F, G] = R.split('=');
          return (F && G && (I[F] = G), I);
        }, {}),
        timeout: l,
        trust: u,
        description: c,
        includeTools: p,
        excludeTools: h,
      };
      break;
  }
  let S = E.forScope(m).settings.mcpServers || {},
    b = !!S[t];
  (b && console.log(`MCP server "${t}" is already configured within ${i} settings.`),
    (S[t] = v),
    E.setValue(m, 'mcpServers', S),
    console.log(
      b
        ? `MCP server "${t}" updated in ${i} settings.`
        : `MCP server "${t}" added to ${i} settings. (${a})`
    ));
}
var Jor = {
  command: 'add <name> <commandOrUrl> [args...]',
  describe: 'Add a server',
  builder: (t) =>
    t
      .usage('Usage: gemini mcp add [options] <name> <commandOrUrl> [args...]')
      .positional('name', { describe: 'Name of the server', type: 'string', demandOption: !0 })
      .positional('commandOrUrl', {
        describe: 'Command (stdio) or URL (sse, http)',
        type: 'string',
        demandOption: !0,
      })
      .option('scope', {
        alias: 's',
        describe: 'Configuration scope (user or project)',
        type: 'string',
        default: 'project',
        choices: ['user', 'project'],
      })
      .option('transport', {
        alias: 't',
        describe: 'Transport type (stdio, sse, http)',
        type: 'string',
        default: 'stdio',
        choices: ['stdio', 'sse', 'http'],
      })
      .option('env', {
        alias: 'e',
        describe: 'Set environment variables (e.g. -e KEY=value)',
        type: 'array',
        string: !0,
      })
      .option('header', {
        alias: 'H',
        describe:
          'Set HTTP headers for SSE and HTTP transports (e.g. -H "X-Api-Key: abc123" -H "Authorization: Bearer abc123")',
        type: 'array',
        string: !0,
      })
      .option('timeout', { describe: 'Set connection timeout in milliseconds', type: 'number' })
      .option('trust', {
        describe: 'Trust the server (bypass all tool call confirmation prompts)',
        type: 'boolean',
      })
      .option('description', { describe: 'Set the description for the server', type: 'string' })
      .option('include-tools', {
        describe: 'A comma-separated list of tools to include',
        type: 'array',
        string: !0,
      })
      .option('exclude-tools', {
        describe: 'A comma-separated list of tools to exclude',
        type: 'array',
        string: !0,
      }),
  handler: async (t) => {
    await qOn(t.name, t.commandOrUrl, t.args, {
      scope: t.scope,
      transport: t.transport,
      env: t.env,
      header: t.header,
      timeout: t.timeout,
      trust: t.trust,
      description: t.description,
      includeTools: t.includeTools,
      excludeTools: t.excludeTools,
    });
  },
};
async function $On(t, e) {
  let { scope: r } = e,
    n = r === 'user' ? 'User' : 'Workspace',
    i = b9(process.cwd()),
    s = i.forScope(n).settings.mcpServers || {};
  if (!s[t]) {
    console.log(`Server "${t}" not found in ${r} settings.`);
    return;
  }
  (delete s[t],
    i.setValue(n, 'mcpServers', s),
    console.log(`Server "${t}" removed from ${r} settings.`));
}
var Kor = {
  command: 'remove <name>',
  describe: 'Remove a server',
  builder: (t) =>
    t
      .usage('Usage: gemini mcp remove [options] <name>')
      .positional('name', { describe: 'Name of the server', type: 'string', demandOption: !0 })
      .option('scope', {
        alias: 's',
        describe: 'Configuration scope (user or project)',
        type: 'string',
        default: 'project',
        choices: ['user', 'project'],
      }),
  handler: async (t) => {
    await $On(t.name, { scope: t.scope });
  },
};
Qn();
Wue();
import * as P9 from 'fs';
import * as Jk from 'path';
import * as Zor from 'os';
var jOn = Jk.join('.kodacli', 'extensions'),
  YOn = 'gemini-extension.json';
function hAe(t) {
  let e = [...Xor(t), ...Xor(Zor.homedir())],
    r = new Map();
  for (let n of e) r.has(n.config.name) || r.set(n.config.name, n);
  return Array.from(r.values());
}
function Xor(t) {
  let e = Jk.join(t, jOn);
  if (!P9.existsSync(e)) return [];
  let r = [];
  for (let n of P9.readdirSync(e)) {
    let i = Jk.join(e, n),
      a = WOn(i);
    a != null && r.push(a);
  }
  return r;
}
function WOn(t) {
  if (!P9.statSync(t).isDirectory())
    return (console.error(`Warning: unexpected file ${t} in extensions directory.`), null);
  let e = Jk.join(t, YOn);
  if (!P9.existsSync(e))
    return (
      console.error(`Warning: extension directory ${t} does not contain a config file ${e}.`),
      null
    );
  try {
    let r = P9.readFileSync(e, 'utf-8'),
      n = JSON.parse(r);
    if (!n.name || !n.version)
      return (console.error(`Invalid extension config in ${e}: missing name or version.`), null);
    let i = zOn(n)
      .map((a) => Jk.join(t, a))
      .filter((a) => P9.existsSync(a));
    return { path: t, config: n, contextFiles: i };
  } catch (r) {
    return (console.error(`Warning: error parsing extension config in ${e}: ${r}`), null);
  }
}
function zOn(t) {
  if (t.contextFileName) {
    if (!Array.isArray(t.contextFileName)) return [t.contextFileName];
  } else return ['KODA.md'];
  return t.contextFileName;
}
function elr(t, e) {
  let r = [];
  if (e.length === 0)
    return t.map((a) => ({
      name: a.config.name,
      version: a.config.version,
      isActive: !0,
      path: a.path,
    }));
  let n = new Set(e.map((a) => a.trim().toLowerCase()));
  if (n.size === 1 && n.has('none'))
    return t.map((a) => ({
      name: a.config.name,
      version: a.config.version,
      isActive: !1,
      path: a.path,
    }));
  let i = new Set(n);
  for (let a of t) {
    let s = a.config.name.toLowerCase(),
      o = n.has(s);
    (o && i.delete(s),
      r.push({ name: a.config.name, version: a.config.version, isActive: o, path: a.path }));
  }
  for (let a of i) console.error(`Extension not found: ${a}`);
  return r;
}
var JOn = '\x1B[32m',
  KOn = '\x1B[33m',
  XOn = '\x1B[31m',
  PGe = '\x1B[0m';
async function ZOn() {
  let t = b9(process.cwd()),
    e = hAe(process.cwd()),
    r = { ...(t.merged.mcpServers || {}) };
  for (let n of e)
    Object.entries(n.config.mcpServers || {}).forEach(([i, a]) => {
      r[i] || (r[i] = { ...a, extensionName: n.config.name });
    });
  return r;
}
async function eMn(t, e) {
  let r = new oS({ name: 'mcp-test-client', version: '0.0.1' }),
    n;
  try {
    n = await Ece(t, e, !1);
  } catch {
    return (await r.close(), dl.DISCONNECTED);
  }
  try {
    return (await r.connect(n, { timeout: 5e3 }), await r.ping(), await r.close(), dl.CONNECTED);
  } catch {
    return (await n.close(), dl.DISCONNECTED);
  }
}
async function tMn(t, e) {
  return await eMn(t, e);
}
async function rMn() {
  let t = await ZOn(),
    e = Object.keys(t);
  if (e.length === 0) {
    console.log('No MCP servers configured.');
    return;
  }
  console.log(`Configured MCP servers:
`);
  for (let r of e) {
    let n = t[r],
      i = await tMn(r, n),
      a = '',
      s = '';
    switch (i) {
      case dl.CONNECTED:
        ((a = JOn + '' + PGe), (s = 'Connected'));
        break;
      case dl.CONNECTING:
        ((a = KOn + '' + PGe), (s = 'Connecting'));
        break;
      case dl.DISCONNECTED:
      default:
        ((a = XOn + '' + PGe), (s = 'Disconnected'));
        break;
    }
    let o = `${r}: `;
    (n.httpUrl
      ? (o += `${n.httpUrl} (http)`)
      : n.url
        ? (o += `${n.url} (sse)`)
        : n.command && (o += `${n.command} ${n.args?.join(' ') || ''} (stdio)`),
      console.log(`${a} ${o} - ${s}`));
  }
}
var tlr = {
  command: 'list',
  describe: 'List all configured MCP servers',
  handler: async () => {
    await rMn();
  },
};
var rlr = {
  command: 'mcp',
  describe: 'Manage MCP servers',
  builder: (t) =>
    t
      .command(Jor)
      .command(Kor)
      .command(tlr)
      .demandCommand(1, 'You need at least one command before continuing.')
      .version(!1),
  handler: () => {},
};
var nlr = {
  command: 'set <language>',
  describe: 'Set the language for the user interface',
  builder: (t) =>
    t
      .positional('language', {
        describe: 'Language code (en for English, ru for Russian)',
        type: 'string',
        choices: ['en', 'ru'],
      })
      .example([
        ['$0 language set en', 'Set language to English'],
        ['$0 language set ru', 'Set language to Russian'],
      ]),
  handler: async (t) => {
    let { language: e } = t;
    (b9(process.cwd()).setValue('User', 'language', e),
      Ie.setLanguage(e),
      console.log(`Language has been set to: ${e === 'en' ? 'English' : 'Russian'}`),
      console.log('Please restart the application for changes to take effect.'),
      process.exit(0));
  },
};
var ilr = {
  command: 'language',
  describe: 'Manage language settings',
  builder: (t) =>
    t.command(nlr).demandCommand(1, 'You need at least one command before continuing.').version(!1),
  handler: () => {},
};
Qn();
var LJ = qe(plr(), 1);
import * as flr from 'node:os';
var mlr = ['docker', 'podman', 'sandbox-exec'];
function dMn(t) {
  return mlr.includes(t);
}
function pMn(t) {
  if (process.env.SANDBOX) return '';
  let e = process.env.GEMINI_SANDBOX?.toLowerCase().trim() ?? '';
  if (
    ((t = e?.length > 0 ? e : t),
    t === '1' || t === 'true' ? (t = !0) : (t === '0' || t === 'false' || !t) && (t = !1),
    t === !1)
  )
    return '';
  if (typeof t == 'string' && t) {
    if (
      (dMn(t) ||
        (console.error(`ERROR: invalid sandbox command '${t}'. Must be one of ${mlr.join(', ')}`),
        process.exit(1)),
      LJ.default.sync(t))
    )
      return t;
    (console.error(`ERROR: missing sandbox command '${t}' (from GEMINI_SANDBOX)`), process.exit(1));
  }
  return flr.platform() === 'darwin' && LJ.default.sync('sandbox-exec')
    ? 'sandbox-exec'
    : LJ.default.sync('docker') && t === !0
      ? 'docker'
      : LJ.default.sync('podman') && t === !0
        ? 'podman'
        : (t === !0 &&
            (console.error(
              'ERROR: GEMINI_SANDBOX is true but failed to determine command for sandbox; install docker or podman or specify command in GEMINI_SANDBOX'
            ),
            process.exit(1)),
          '');
}
async function hlr(t, e) {
  let r = e.sandbox ?? t.sandbox,
    n = pMn(r),
    i = await wme(),
    a = e.sandboxImage ?? process.env.GEMINI_SANDBOX_IMAGE ?? i?.config?.sandboxImageUri;
  return n && a ? { command: n, image: a } : void 0;
}
import * as HGe from 'os';
import * as Alr from 'path';
function VGe(t) {
  if (!t) return '';
  let e = t;
  return (
    t.toLowerCase().startsWith('%userprofile%')
      ? (e = HGe.homedir() + t.substring(13))
      : (t === '~' || t.startsWith('~/')) && (e = HGe.homedir() + t.substring(1)),
    Alr.normalize(e)
  );
}
function mMn(t) {
  if (t === void 0) return !1;
  let e = String(t).trim().toLowerCase();
  return e === '' || e === '0' || e === 'false' || e === 'no' || e === 'off'
    ? !1
    : e === '1' || e === 'true' || e === 'yes' || e === 'on' || e.length > 0;
}
var Elr = {
  debug: (...t) => console.debug('[DEBUG]', ...t),
  warn: (...t) => console.warn('[WARN]', ...t),
  error: (...t) => console.error('[ERROR]', ...t),
};
async function ylr() {
  let t = Bor(IGe(j0.argv))
    .scriptName('koda')
    .usage(
      `Usage: koda [options] [command]

Koda CLI - Launch an interactive CLI, use -p/--prompt for non-interactive mode`
    )
    .command('$0', 'Launch Koda CLI', (r) =>
      r
        .option('model', {
          alias: 'm',
          type: 'string',
          description: 'Model',
          default: j0.env.GEMINI_MODEL,
        })
        .option('prompt', {
          alias: 'p',
          type: 'string',
          description: 'Prompt. Appended to input on stdin (if any).',
        })
        .option('prompt-interactive', {
          alias: 'i',
          type: 'string',
          description: 'Execute the provided prompt and continue in interactive mode',
        })
        .option('sandbox', { alias: 's', type: 'boolean', description: 'Run in sandbox?' })
        .option('sandbox-image', { type: 'string', description: 'Sandbox image URI.' })
        .option('debug', {
          alias: 'd',
          type: 'boolean',
          description: 'Run in debug mode?',
          default: !1,
        })
        .option('all-files', {
          alias: ['a'],
          type: 'boolean',
          description: 'Include ALL files in context?',
          default: !1,
        })
        .option('all_files', {
          type: 'boolean',
          description: 'Include ALL files in context?',
          default: !1,
        })
        .deprecateOption(
          'all_files',
          'Use --all-files instead. We will be removing --all_files in the coming weeks.'
        )
        .option('show-memory-usage', {
          type: 'boolean',
          description: 'Show memory usage in status bar',
          default: !1,
        })
        .option('show_memory_usage', {
          type: 'boolean',
          description: 'Show memory usage in status bar',
          default: !1,
        })
        .deprecateOption(
          'show_memory_usage',
          'Use --show-memory-usage instead. We will be removing --show_memory_usage in the coming weeks.'
        )
        .option('yolo', {
          alias: 'y',
          type: 'boolean',
          description:
            'Automatically accept all actions (aka YOLO mode, see https://www.youtube.com/watch?v=xvFZjo5PgG0 for more details)?',
          default: !1,
        })
        .option('approval-mode', {
          type: 'string',
          choices: ['default', 'auto_edit', 'yolo'],
          description:
            'Set the approval mode: default (prompt for approval), auto_edit (auto-approve edit tools), yolo (auto-approve all tools)',
        })
        .option('telemetry', {
          type: 'boolean',
          description:
            'Enable telemetry? This flag specifically controls if telemetry is sent. Other --telemetry-* flags set specific values but do not enable telemetry on their own.',
        })
        .option('telemetry-target', {
          type: 'string',
          choices: ['local', 'gcp'],
          description: 'Set the telemetry target (local or gcp). Overrides settings files.',
        })
        .option('telemetry-otlp-endpoint', {
          type: 'string',
          description:
            'Set the OTLP endpoint for telemetry. Overrides environment variables and settings files.',
        })
        .option('telemetry-log-prompts', {
          type: 'boolean',
          description:
            'Enable or disable logging of user prompts for telemetry. Overrides settings files.',
        })
        .option('telemetry-outfile', {
          type: 'string',
          description: 'Redirect all telemetry output to the specified file.',
        })
        .option('checkpointing', {
          alias: 'c',
          type: 'boolean',
          description: 'Enables checkpointing of file edits',
          default: !1,
        })
        .option('experimental-acp', {
          type: 'boolean',
          description: 'Starts the agent in ACP mode',
        })
        .option('allowed-mcp-server-names', {
          type: 'array',
          string: !0,
          description: 'Allowed MCP server names',
        })
        .option('extensions', {
          alias: 'e',
          type: 'array',
          string: !0,
          description: 'A list of extensions to use. If not provided, all extensions are used.',
        })
        .option('list-extensions', {
          alias: 'l',
          type: 'boolean',
          description: 'List all available extensions and exit.',
        })
        .option('proxy', {
          type: 'string',
          description: 'Proxy for koda client, like schema://user:password@host:port',
        })
        .option('include-directories', {
          type: 'array',
          string: !0,
          description:
            'Additional directories to include in the workspace (comma-separated or multiple --include-directories)',
          coerce: (n) => n.flatMap((i) => i.split(',').map((a) => a.trim())),
        })
        .check((n) => {
          if (n.prompt && n.promptInteractive)
            throw new Error('Cannot use both --prompt (-p) and --prompt-interactive (-i) together');
          if (n.yolo && n.approvalMode)
            throw new Error(
              'Cannot use both --yolo (-y) and --approval-mode together. Use --approval-mode=yolo instead.'
            );
          return !0;
        })
    )
    .command(rlr)
    .command(ilr)
    .version(await fb())
    .alias('v', 'version')
    .help()
    .alias('h', 'help')
    .strict()
    .demandCommand(0, 0);
  t.wrap(t.terminalWidth());
  let e = await t.parse();
  return (
    e._.length > 0 && e._[0] === 'mcp' && j0.exit(0),
    e._.length > 0 && e._[0] === 'language' && j0.exit(0),
    e
  );
}
async function $Ge(t, e = [], r, n, i, a = [], s = 'tree', o) {
  let l = GGe.realpathSync(qGe.resolve(t)),
    u = GGe.realpathSync(qGe.resolve(fMn())),
    p = l === u ? '' : t;
  return (
    r &&
      Elr.debug(
        `CLI: Delegating hierarchical memory load to server for CWD: ${t} (memoryImportFormat: ${s})`
      ),
    oB(p, e, r, n, a, s, o, i.memoryDiscoveryMaxDirs)
  );
}
async function gAe(t, e, r, n, i = j0.cwd()) {
  let a =
      n.debug || [j0.env.DEBUG, j0.env.DEBUG_MODE].some((se) => se === 'true' || se === '1') || !1,
    s = t.memoryImportFormat || 'tree';
  t.language && (j0.env.KODA_RESPONSE_LANGUAGE = t.language);
  let o = t.ideMode ?? !1,
    l = t.folderTrustFeature ?? !1,
    u = t.folderTrust ?? !0,
    c = l && u,
    p = Yz(t),
    h = elr(e, n.extensions || []),
    m = e.filter((se, j) => h[j].isActive);
  t.contextFileName ? ox(t.contextFileName) : ox(lx());
  let E = m.flatMap((se) => se.contextFiles),
    v = new Wx(i),
    g = { ...VQ, ...t.fileFiltering },
    _ = (t.includeDirectories || []).map(VGe).concat((n.includeDirectories || []).map(VGe)),
    { memoryContent: S, fileCount: b } = await $Ge(
      i,
      t.loadMemoryFromIncludeDirectories ? _ : [],
      a,
      v,
      t,
      E,
      s,
      g
    ),
    I = hMn(t, m),
    R = n.promptInteractive || n.prompt || '',
    F;
  if (n.approvalMode)
    switch (n.approvalMode) {
      case 'yolo':
        F = La.YOLO;
        break;
      case 'auto_edit':
        F = La.AUTO_EDIT;
        break;
      case 'default':
        F = La.DEFAULT;
        break;
      default:
        throw new Error(
          `Invalid approval mode: ${n.approvalMode}. Valid values are: yolo, auto_edit, default`
        );
    }
  else F = n.yolo ? La.YOLO : La.DEFAULT;
  let G = !!n.promptInteractive || (j0.stdin.isTTY && R.length === 0),
    U = [];
  if (!G && !n.experimentalAcp)
    switch (F) {
      case La.DEFAULT:
        U.push(tl.Name, Ff.Name, zu.Name);
        break;
      case La.AUTO_EDIT:
        U.push(tl.Name);
        break;
      case La.YOLO:
        break;
      default:
        break;
    }
  let M = AMn(t, m, U.length > 0 ? U : void 0),
    Y = [];
  if (
    !n.allowedMcpServerNames &&
    (t.allowMCPServers && (I = glr(I, t.allowMCPServers, Y)), t.excludeMCPServers)
  ) {
    let se = new Set(t.excludeMCPServers.filter(Boolean));
    se.size > 0 && (I = Object.fromEntries(Object.entries(I).filter(([j]) => !se.has(j))));
  }
  n.allowedMcpServerNames && (I = glr(I, n.allowedMcpServerNames, Y));
  let z = await hlr(t, n);
  return new eB({
    sessionId: r,
    embeddingModel: vN,
    sandbox: z,
    targetDir: i,
    includeDirectories: _,
    loadMemoryFromIncludeDirectories: t.loadMemoryFromIncludeDirectories || !1,
    debugMode: a,
    question: R,
    fullContext: n.allFiles || n.all_files || !1,
    coreTools: t.coreTools || void 0,
    excludeTools: M,
    toolDiscoveryCommand: t.toolDiscoveryCommand,
    toolCallCommand: t.toolCallCommand,
    mcpServerCommand: t.mcpServerCommand,
    mcpServers: I,
    userMemory: S,
    geminiMdFileCount: b,
    approvalMode: F,
    showMemoryUsage: n.showMemoryUsage || n.show_memory_usage || t.showMemoryUsage || !1,
    accessibility: t.accessibility,
    telemetry: {
      enabled: n.telemetry ?? t.telemetry?.enabled,
      target: n.telemetryTarget ?? t.telemetry?.target,
      otlpEndpoint:
        n.telemetryOtlpEndpoint ?? j0.env.OTEL_EXPORTER_OTLP_ENDPOINT ?? t.telemetry?.otlpEndpoint,
      logPrompts: n.telemetryLogPrompts ?? t.telemetry?.logPrompts,
      outfile: n.telemetryOutfile ?? t.telemetry?.outfile,
    },
    usageStatisticsEnabled: t.usageStatisticsEnabled ?? !0,
    fileFiltering: {
      respectGitIgnore: t.fileFiltering?.respectGitIgnore,
      respectKodaIgnore: t.fileFiltering?.respectKodaIgnore,
      enableRecursiveFileSearch: t.fileFiltering?.enableRecursiveFileSearch,
    },
    checkpointing: n.checkpointing || t.checkpointing?.enabled,
    proxy:
      n.proxy || j0.env.HTTPS_PROXY || j0.env.https_proxy || j0.env.HTTP_PROXY || j0.env.http_proxy,
    cwd: i,
    fileDiscoveryService: v,
    bugCommand: t.bugCommand,
    model: n.model || t.model || af,
    extensionContextFilePaths: E,
    maxSessionTurns: t.maxSessionTurns ?? -1,
    experimentalZedIntegration: n.experimentalAcp || !1,
    listExtensions: n.listExtensions || !1,
    extensions: h,
    blockedMcpServers: Y,
    noBrowser: mMn(j0.env.NO_BROWSER),
    summarizeToolOutput: t.summarizeToolOutput,
    ideMode: o,
    chatCompression: t.chatCompression,
    folderTrustFeature: l,
    folderTrust: c,
    interactive: G,
    trustedFolder: p,
  });
}
function glr(t, e, r) {
  let n = new Set(e.filter(Boolean));
  return (
    n.size > 0
      ? (t = Object.fromEntries(
          Object.entries(t).filter(([i, a]) => {
            let s = n.has(i);
            return (s || r.push({ name: i, extensionName: a.extensionName || '' }), s);
          })
        ))
      : (r.push(
          ...Object.entries(t).map(([i, a]) => ({ name: i, extensionName: a.extensionName || '' }))
        ),
        (t = {})),
    t
  );
}
function hMn(t, e) {
  let r = { ...(t.mcpServers || {}) };
  for (let n of e)
    Object.entries(n.config.mcpServers || {}).forEach(([i, a]) => {
      if (r[i]) {
        Elr.warn(`Skipping extension MCP config for server with key "${i}" as it already exists.`);
        return;
      }
      r[i] = { ...a, extensionName: n.config.name };
    });
  return r;
}
function AMn(t, e, r) {
  let n = new Set([...(t.excludeTools || []), ...(r || [])]);
  for (let i of e) for (let a of i.config.excludeTools || []) n.add(a);
  return [...n];
}
var Ib = qe(Ft(), 1);
var vlr = ({ config: t }) => {
  let e = t.getGeminiMdFileCount();
  return (0, Ib.jsxs)(Fe, {
    flexDirection: 'column',
    children: [
      (0, Ib.jsx)(Se, { color: Ue.Foreground, children: Ie.t('tips.title') }),
      (0, Ib.jsx)(Se, { color: Ue.Foreground, children: Ie.t('tips.tip1') }),
      (0, Ib.jsx)(Se, { color: Ue.Foreground, children: Ie.t('tips.tip2') }),
      e === 0 &&
        (0, Ib.jsx)(Se, {
          color: Ue.Foreground,
          children: Ie.t('tips.tip3', { fileName: 'KODA.md' }),
        }),
      (0, Ib.jsx)(Se, {
        color: Ue.Foreground,
        children:
          e === 0
            ? Ie.t('tips.tip4', { command: '/help' })
            : Ie.t('tips.tip3noFile', { command: '/help' }),
      }),
    ],
  });
};
import gMn from 'util';
var Q9 = class {
  originalConsoleLog = console.log;
  originalConsoleWarn = console.warn;
  originalConsoleError = console.error;
  originalConsoleDebug = console.debug;
  originalConsoleInfo = console.info;
  params;
  constructor(e) {
    this.params = e;
  }
  patch() {
    ((console.log = this.patchConsoleMethod('log', this.originalConsoleLog)),
      (console.warn = this.patchConsoleMethod('warn', this.originalConsoleWarn)),
      (console.error = this.patchConsoleMethod('error', this.originalConsoleError)),
      (console.debug = this.patchConsoleMethod('debug', this.originalConsoleDebug)),
      (console.info = this.patchConsoleMethod('info', this.originalConsoleInfo)));
  }
  cleanup = () => {
    ((console.log = this.originalConsoleLog),
      (console.warn = this.originalConsoleWarn),
      (console.error = this.originalConsoleError),
      (console.debug = this.originalConsoleDebug),
      (console.info = this.originalConsoleInfo));
  };
  formatArgs = (e) => gMn.format(...e);
  patchConsoleMethod =
    (e, r) =>
    (...n) => {
      this.params.stderr
        ? (e !== 'debug' || this.params.debugMode) && this.originalConsoleError(this.formatArgs(n))
        : (this.params.debugMode && r.apply(console, n),
          (e !== 'debug' || this.params.debugMode) &&
            this.params.onNewMessage?.({ type: e, content: this.formatArgs(n), count: 1 }));
    };
};
var C3 = qe(Ft(), 1);
var jGe = ({ messages: t, maxHeight: e, width: r }) =>
  t.length === 0
    ? null
    : (0, C3.jsxs)(Fe, {
        flexDirection: 'column',
        marginTop: 1,
        borderStyle: 'round',
        borderColor: Ue.Gray,
        paddingX: 1,
        width: r,
        children: [
          (0, C3.jsx)(Fe, {
            marginBottom: 1,
            children: (0, C3.jsxs)(Se, {
              bold: !0,
              color: Ue.Foreground,
              children: [
                'Debug Console ',
                (0, C3.jsx)(Se, { color: Ue.Gray, children: '(ctrl+o to close)' }),
              ],
            }),
          }),
          (0, C3.jsx)(h3, {
            maxHeight: e,
            maxWidth: r - 4,
            children: t.map((i, a) => {
              let s = Ue.Foreground,
                o = '';
              switch (i.type) {
                case 'warn':
                  ((s = Ue.AccentYellow), (o = ''));
                  break;
                case 'error':
                  ((s = Ue.AccentRed), (o = ''));
                  break;
                case 'debug':
                  ((s = Ue.Gray), (o = 'D'));
                  break;
                case 'log':
                default:
                  break;
              }
              return (0, C3.jsxs)(
                Fe,
                {
                  flexDirection: 'row',
                  children: [
                    (0, C3.jsxs)(Se, { color: s, children: [o, ' '] }),
                    (0, C3.jsxs)(Se, {
                      color: s,
                      wrap: 'wrap',
                      children: [
                        i.content,
                        i.count &&
                          i.count > 1 &&
                          (0, C3.jsxs)(Se, { color: Ue.Gray, children: [' (x', i.count, ')'] }),
                      ],
                    }),
                  ],
                },
                a
              );
            }),
          }),
        ],
      });
var QB = qe(Ft(), 1);
var Clr = ({ text: t }) => {
  let e = '> ',
    r = e.length,
    n = t.startsWith('/'),
    i = n ? Ue.AccentPurple : Ue.Gray,
    a = n ? Ue.AccentPurple : Ue.Gray;
  return (0, QB.jsxs)(Fe, {
    borderStyle: 'round',
    borderColor: a,
    flexDirection: 'row',
    paddingX: 2,
    paddingY: 0,
    marginY: 1,
    alignSelf: 'flex-start',
    children: [
      (0, QB.jsx)(Fe, { width: r, children: (0, QB.jsx)(Se, { color: i, children: e }) }),
      (0, QB.jsx)(Fe, {
        flexGrow: 1,
        children: (0, QB.jsx)(Se, { wrap: 'wrap', color: i, children: t }),
      }),
    ],
  });
};
var FJ = qe(Ft(), 1);
var _lr = ({ text: t }) => {
  let e = t.startsWith('!') ? t.substring(1) : t;
  return (0, FJ.jsxs)(Fe, {
    children: [
      (0, FJ.jsx)(Se, { color: Ue.AccentCyan, children: '$ ' }),
      (0, FJ.jsx)(Se, { children: e }),
    ],
  });
};
var QJ = qe(or(), 1);
var JGe = qe(or(), 1);
var Dlr = qe(or(), 1);
var Y0 = qe(Ft(), 1);
var YGe = 2,
  WGe = 1,
  zGe = 2,
  EMn = 1,
  Slr = 3,
  blr = 4,
  yMn = ({ text: t }) => {
    let e = [],
      r = 0,
      n = /(\*\*.*?\*\*|\*.*?\*|_.*?_|~~.*?~~|\[.*?\]\(.*?\)|`+.+?`+|<u>.*?<\/u>)/g,
      i;
    for (; (i = n.exec(t)) !== null; ) {
      i.index > r && e.push((0, Y0.jsx)(Se, { children: t.slice(r, i.index) }, `t-${r}`));
      let a = i[0],
        s = null,
        o = `m-${i.index}`;
      try {
        if (a.startsWith('**') && a.endsWith('**') && a.length > YGe * 2)
          s = (0, Y0.jsx)(Se, { bold: !0, children: a.slice(YGe, -YGe) }, o);
        else if (
          a.length > WGe * 2 &&
          ((a.startsWith('*') && a.endsWith('*')) || (a.startsWith('_') && a.endsWith('_'))) &&
          !/\w/.test(t.substring(i.index - 1, i.index)) &&
          !/\w/.test(t.substring(n.lastIndex, n.lastIndex + 1)) &&
          !/\S[./\\]/.test(t.substring(i.index - 2, i.index)) &&
          !/[./\\]\S/.test(t.substring(n.lastIndex, n.lastIndex + 2))
        )
          s = (0, Y0.jsx)(Se, { italic: !0, children: a.slice(WGe, -WGe) }, o);
        else if (a.startsWith('~~') && a.endsWith('~~') && a.length > zGe * 2)
          s = (0, Y0.jsx)(Se, { strikethrough: !0, children: a.slice(zGe, -zGe) }, o);
        else if (a.startsWith('`') && a.endsWith('`') && a.length > EMn) {
          let l = a.match(/^(`+)(.+?)\1$/s);
          l && l[2] && (s = (0, Y0.jsx)(Se, { color: Ue.AccentPurple, children: l[2] }, o));
        } else if (a.startsWith('[') && a.includes('](') && a.endsWith(')')) {
          let l = a.match(/\[(.*?)\]\((.*?)\)/);
          if (l) {
            let u = l[1],
              c = l[2];
            s = (0, Y0.jsxs)(
              Se,
              {
                children: [u, (0, Y0.jsxs)(Se, { color: Ue.AccentBlue, children: [' (', c, ')'] })],
              },
              o
            );
          }
        } else
          a.startsWith('<u>') &&
            a.endsWith('</u>') &&
            a.length > Slr + blr - 1 &&
            (s = (0, Y0.jsx)(Se, { underline: !0, children: a.slice(Slr, -blr) }, o));
      } catch (l) {
        (console.error('Error parsing inline markdown part:', a, l), (s = null));
      }
      (e.push(s ?? (0, Y0.jsx)(Se, { children: a }, o)), (r = n.lastIndex));
    }
    return (
      r < t.length && e.push((0, Y0.jsx)(Se, { children: t.slice(r) }, `t-${r}`)),
      (0, Y0.jsx)(Y0.Fragment, { children: e.filter((a) => a !== null) })
    );
  },
  QA = Dlr.default.memo(yMn),
  Xk = (t) => {
    let e = t
      .replace(/\*\*(.*?)\*\*/g, '$1')
      .replace(/\*(.*?)\*/g, '$1')
      .replace(/_(.*?)_/g, '$1')
      .replace(/~~(.*?)~~/g, '$1')
      .replace(/`(.*?)`/g, '$1')
      .replace(/<u>(.*?)<\/u>/g, '$1')
      .replace(/\[(.*?)\]\(.*?\)/g, '$1');
    return F1(e);
  };
var _3 = qe(Ft(), 1);
var wlr = ({ headers: t, rows: e, terminalWidth: r }) => {
  let n = t.map((c, p) => {
      let h = Xk(c),
        m = Math.max(...e.map((E) => Xk(E[p] || '')));
      return Math.max(h, m) + 2;
    }),
    i = n.reduce((c, p) => c + p + 1, 1),
    a = i > r ? r / i : 1,
    s = n.map((c) => Math.floor(c * a)),
    o = (c, p, h = !1) => {
      let m = Math.max(0, p - 2),
        E = Xk(c),
        v = c;
      if (E > m)
        if (m <= 3) v = c.substring(0, Math.min(c.length, m));
        else {
          let S = 0,
            b = c.length,
            I = c;
          for (; S <= b; ) {
            let R = Math.floor((S + b) / 2),
              F = c.substring(0, R);
            Xk(F) <= m - 3 ? ((I = F), (S = R + 1)) : (b = R - 1);
          }
          v = I + '...';
        }
      let g = Xk(v),
        _ = Math.max(0, m - g);
      return (0, _3.jsxs)(Se, {
        children: [
          h
            ? (0, _3.jsx)(Se, {
                bold: !0,
                color: Ue.AccentCyan,
                children: (0, _3.jsx)(QA, { text: v }),
              })
            : (0, _3.jsx)(QA, { text: v }),
          ' '.repeat(_),
        ],
      });
    },
    l = (c) => {
      let h = {
          top: { left: '', middle: '', right: '', horizontal: '' },
          middle: { left: '', middle: '', right: '', horizontal: '' },
          bottom: { left: '', middle: '', right: '', horizontal: '' },
        }[c],
        m = s.map((v) => h.horizontal.repeat(v)),
        E = h.left + m.join(h.middle) + h.right;
      return (0, _3.jsx)(Se, { children: E });
    },
    u = (c, p = !1) => {
      let h = c.map((m, E) => {
        let v = s[E] || 0;
        return o(m || '', v, p);
      });
      return (0, _3.jsxs)(Se, {
        children: [
          '',
          ' ',
          h.map((m, E) =>
            (0, _3.jsxs)(
              JGe.default.Fragment,
              { children: [m, E < h.length - 1 ? '  ' : ''] },
              E
            )
          ),
          ' ',
          '',
        ],
      });
    };
  return (0, _3.jsxs)(Fe, {
    flexDirection: 'column',
    marginY: 1,
    children: [
      l('top'),
      u(t, !0),
      l('middle'),
      e.map((c, p) => (0, _3.jsx)(JGe.default.Fragment, { children: u(c) }, p)),
      l('bottom'),
    ],
  });
};
var EAe = qe(or(), 1);
var KGe = EAe.default.createContext(void 0),
  Ilr = () => {
    let t = (0, EAe.useContext)(KGe);
    if (t === void 0) throw new Error('useSettings must be used within a SettingsProvider');
    return t;
  };
var pi = qe(Ft(), 1);
var vMn = 1,
  PJ = 1,
  CMn = 1,
  _Mn = 1,
  SMn = ({ text: t, isPending: e, availableTerminalHeight: r, terminalWidth: n }) => {
    if (!t) return (0, pi.jsx)(pi.Fragment, {});
    let i = t.split(`
`),
      a = /^ *(#{1,4}) +(.*)/,
      s = /^ *(`{3,}|~{3,}) *(\w*?) *$/,
      o = /^([ \t]*)([-*+]) +(.*)/,
      l = /^([ \t]*)(\d+)\. +(.*)/,
      u = /^ *([-*_] *){3,} *$/,
      c = /^\s*\|(.+)\|\s*$/,
      p = /^\s*\|?\s*(:?-+:?)\s*(\|\s*(:?-+:?)\s*)+\|?\s*$/,
      h = [],
      m = !1,
      E = !0,
      v = [],
      g = null,
      _ = '',
      S = !1,
      b = [],
      I = [];
    function R(F) {
      F && (h.push(F), (E = !1));
    }
    return (
      i.forEach((F, G) => {
        let U = `line-${G}`;
        if (m) {
          let ee = F.match(s);
          ee && ee[1].startsWith(_[0]) && ee[1].length >= _.length
            ? (R(
                (0, pi.jsx)(
                  Tlr,
                  {
                    content: v,
                    lang: g,
                    isPending: e,
                    availableTerminalHeight: r,
                    terminalWidth: n,
                  },
                  U
                )
              ),
              (m = !1),
              (v = []),
              (g = null),
              (_ = ''))
            : v.push(F);
          return;
        }
        let M = F.match(s),
          Y = F.match(a),
          z = F.match(o),
          se = F.match(l),
          j = F.match(u),
          N = F.match(c),
          H = F.match(p);
        if (M) ((m = !0), (_ = M[1]), (g = M[2] || null));
        else if (N && !S)
          G + 1 < i.length && i[G + 1].match(p)
            ? ((S = !0), (I = N[1].split('|').map((ee) => ee.trim())), (b = []))
            : R(
                (0, pi.jsx)(
                  Fe,
                  {
                    children: (0, pi.jsx)(Se, {
                      wrap: 'wrap',
                      children: (0, pi.jsx)(QA, { text: F }),
                    }),
                  },
                  U
                )
              );
        else if (!(S && H))
          if (S && N) {
            let ee = N[1].split('|').map((me) => me.trim());
            for (; ee.length < I.length; ) ee.push('');
            (ee.length > I.length && (ee.length = I.length), b.push(ee));
          } else if (S && !N)
            (I.length > 0 &&
              b.length > 0 &&
              R((0, pi.jsx)(Blr, { headers: I, rows: b, terminalWidth: n }, `table-${h.length}`)),
              (S = !1),
              (b = []),
              (I = []),
              F.trim().length > 0 &&
                R(
                  (0, pi.jsx)(
                    Fe,
                    {
                      children: (0, pi.jsx)(Se, {
                        wrap: 'wrap',
                        children: (0, pi.jsx)(QA, { text: F }),
                      }),
                    },
                    U
                  )
                ));
          else if (j)
            R((0, pi.jsx)(Fe, { children: (0, pi.jsx)(Se, { dimColor: !0, children: '---' }) }, U));
          else if (Y) {
            let ee = Y[1].length,
              me = Y[2],
              Ae = null;
            switch (ee) {
              case 1:
                Ae = (0, pi.jsx)(Se, {
                  bold: !0,
                  color: Ue.AccentCyan,
                  children: (0, pi.jsx)(QA, { text: me }),
                });
                break;
              case 2:
                Ae = (0, pi.jsx)(Se, {
                  bold: !0,
                  color: Ue.AccentBlue,
                  children: (0, pi.jsx)(QA, { text: me }),
                });
                break;
              case 3:
                Ae = (0, pi.jsx)(Se, { bold: !0, children: (0, pi.jsx)(QA, { text: me }) });
                break;
              case 4:
                Ae = (0, pi.jsx)(Se, {
                  italic: !0,
                  color: Ue.Gray,
                  children: (0, pi.jsx)(QA, { text: me }),
                });
                break;
              default:
                Ae = (0, pi.jsx)(Se, { children: (0, pi.jsx)(QA, { text: me }) });
                break;
            }
            Ae && R((0, pi.jsx)(Fe, { children: Ae }, U));
          } else if (z) {
            let ee = z[1],
              me = z[2],
              Ae = z[3];
            R((0, pi.jsx)(xlr, { itemText: Ae, type: 'ul', marker: me, leadingWhitespace: ee }, U));
          } else if (se) {
            let ee = se[1],
              me = se[2],
              Ae = se[3];
            R((0, pi.jsx)(xlr, { itemText: Ae, type: 'ol', marker: me, leadingWhitespace: ee }, U));
          } else
            F.trim().length === 0 && !m
              ? E || (h.push((0, pi.jsx)(Fe, { height: vMn }, `spacer-${G}`)), (E = !0))
              : R(
                  (0, pi.jsx)(
                    Fe,
                    {
                      children: (0, pi.jsx)(Se, {
                        wrap: 'wrap',
                        children: (0, pi.jsx)(QA, { text: F }),
                      }),
                    },
                    U
                  )
                );
      }),
      m &&
        R(
          (0, pi.jsx)(
            Tlr,
            { content: v, lang: g, isPending: e, availableTerminalHeight: r, terminalWidth: n },
            'line-eof'
          )
        ),
      S &&
        I.length > 0 &&
        b.length > 0 &&
        R((0, pi.jsx)(Blr, { headers: I, rows: b, terminalWidth: n }, `table-${h.length}`)),
      (0, pi.jsx)(pi.Fragment, { children: h })
    );
  },
  bMn = ({ content: t, lang: e, isPending: r, availableTerminalHeight: n, terminalWidth: i }) => {
    let a = Ilr(),
      s = 1,
      o = 2;
    if (r && n !== void 0) {
      let c = Math.max(0, n - o);
      if (t.length > c) {
        if (c < s)
          return (0, pi.jsx)(Fe, {
            paddingLeft: PJ,
            children: (0, pi.jsx)(Se, {
              color: Ue.Gray,
              children: '... code is being written ...',
            }),
          });
        let p = t.slice(0, c),
          h = DB(
            p.join(`
`),
            e,
            n,
            i - PJ,
            void 0,
            a
          );
        return (0, pi.jsxs)(Fe, {
          paddingLeft: PJ,
          flexDirection: 'column',
          children: [h, (0, pi.jsx)(Se, { color: Ue.Gray, children: '... generating more ...' })],
        });
      }
    }
    let l = t.join(`
`),
      u = DB(l, e, n, i - PJ, void 0, a);
    return (0, pi.jsx)(Fe, {
      paddingLeft: PJ,
      flexDirection: 'column',
      width: i,
      flexShrink: 0,
      children: u,
    });
  },
  Tlr = QJ.default.memo(bMn),
  DMn = ({ itemText: t, type: e, marker: r, leadingWhitespace: n = '' }) => {
    let i = e === 'ol' ? `${r}. ` : `${r} `,
      a = i.length,
      s = n.length;
    return (0, pi.jsxs)(Fe, {
      paddingLeft: s + CMn,
      flexDirection: 'row',
      children: [
        (0, pi.jsx)(Fe, { width: a, children: (0, pi.jsx)(Se, { children: i }) }),
        (0, pi.jsx)(Fe, {
          flexGrow: _Mn,
          children: (0, pi.jsx)(Se, { wrap: 'wrap', children: (0, pi.jsx)(QA, { text: t }) }),
        }),
      ],
    });
  },
  xlr = QJ.default.memo(DMn),
  wMn = ({ headers: t, rows: e, terminalWidth: r }) =>
    (0, pi.jsx)(wlr, { headers: t, rows: e, terminalWidth: r }),
  Blr = QJ.default.memo(wMn),
  Zk = QJ.default.memo(SMn);
var kB = qe(Ft(), 1);
var Rlr = ({ text: t, isPending: e, availableTerminalHeight: r, terminalWidth: n }) => {
  let i = ' ',
    a = i.length;
  return (0, kB.jsxs)(Fe, {
    flexDirection: 'row',
    children: [
      (0, kB.jsx)(Fe, {
        width: a,
        children: (0, kB.jsx)(Se, { color: Ue.AccentPurple, children: i }),
      }),
      (0, kB.jsx)(Fe, {
        flexGrow: 1,
        flexDirection: 'column',
        children: (0, kB.jsx)(Zk, {
          text: t,
          isPending: e,
          availableTerminalHeight: r,
          terminalWidth: n,
        }),
      }),
    ],
  });
};
var UB = qe(Ft(), 1);
var Nlr = ({ text: t }) => {
  let e = ' ',
    r = e.length;
  return (0, UB.jsxs)(Fe, {
    flexDirection: 'row',
    marginTop: 1,
    children: [
      (0, UB.jsx)(Fe, {
        width: r,
        children: (0, UB.jsx)(Se, { color: Ue.AccentYellow, children: e }),
      }),
      (0, UB.jsx)(Fe, {
        flexGrow: 1,
        children: (0, UB.jsx)(Se, { wrap: 'wrap', color: Ue.AccentYellow, children: t }),
      }),
    ],
  });
};
var HB = qe(Ft(), 1);
var Olr = ({ text: t }) => {
  let e = ' ',
    r = e.length;
  return (0, HB.jsxs)(Fe, {
    flexDirection: 'row',
    marginBottom: 1,
    children: [
      (0, HB.jsx)(Fe, {
        width: r,
        children: (0, HB.jsx)(Se, { color: Ue.AccentRed, children: e }),
      }),
      (0, HB.jsx)(Fe, {
        flexGrow: 1,
        children: (0, HB.jsx)(Se, { wrap: 'wrap', color: Ue.AccentRed, children: t }),
      }),
    ],
  });
};
var klr = qe(or(), 1);
var Llr = qe(or(), 1);
var nl = qe(Ft(), 1);
var IMn = 1,
  TMn = 5,
  Flr = 3,
  xMn = 2,
  Mlr = 1e6,
  Plr = ({
    name: t,
    description: e,
    resultDisplay: r,
    status: n,
    availableTerminalHeight: i,
    terminalWidth: a,
    emphasis: s = 'medium',
    renderOutputAsMarkdown: o = !0,
  }) => {
    let l = i ? Math.max(i - IMn - TMn, xMn + 1) : void 0;
    l && (o = !1);
    let u = a - 3;
    return (
      typeof r == 'string' && r.length > Mlr && (r = '...' + r.slice(-Mlr)),
      (0, nl.jsxs)(Fe, {
        paddingX: 1,
        paddingY: 0,
        flexDirection: 'column',
        children: [
          (0, nl.jsxs)(Fe, {
            minHeight: 1,
            children: [
              (0, nl.jsx)(BMn, { status: n }),
              (0, nl.jsx)(RMn, { name: t, status: n, description: e, emphasis: s }),
              s === 'high' && (0, nl.jsx)(NMn, {}),
            ],
          }),
          r &&
            (0, nl.jsx)(Fe, {
              paddingLeft: Flr,
              width: '100%',
              marginTop: 1,
              children: (0, nl.jsxs)(Fe, {
                flexDirection: 'column',
                children: [
                  typeof r == 'string' &&
                    o &&
                    (0, nl.jsx)(Fe, {
                      flexDirection: 'column',
                      children: (0, nl.jsx)(Zk, {
                        text: r,
                        isPending: !1,
                        availableTerminalHeight: l,
                        terminalWidth: u,
                      }),
                    }),
                  typeof r == 'string' &&
                    !o &&
                    (0, nl.jsx)(h3, {
                      maxHeight: l,
                      maxWidth: u,
                      children: (0, nl.jsx)(Fe, {
                        children: (0, nl.jsx)(Se, { wrap: 'wrap', children: r }),
                      }),
                    }),
                  typeof r != 'string' &&
                    (0, nl.jsx)(Hk, {
                      diffContent: r.fileDiff,
                      filename: r.fileName,
                      availableTerminalHeight: l,
                      terminalWidth: u,
                    }),
                ],
              }),
            }),
        ],
      })
    );
  },
  BMn = ({ status: t }) =>
    (0, nl.jsxs)(Fe, {
      minWidth: Flr,
      children: [
        t === 'Pending' && (0, nl.jsx)(Se, { color: Ue.AccentGreen, children: 'o' }),
        t === 'Executing' &&
          (0, nl.jsx)(mhe, { spinnerType: 'toggle', nonRespondingDisplay: '' }),
        t === 'Success' && (0, nl.jsx)(Se, { color: Ue.AccentGreen, children: '' }),
        t === 'Confirming' && (0, nl.jsx)(Se, { color: Ue.AccentYellow, children: '?' }),
        t === 'Canceled' && (0, nl.jsx)(Se, { color: Ue.AccentYellow, bold: !0, children: '-' }),
        t === 'Error' && (0, nl.jsx)(Se, { color: Ue.AccentRed, bold: !0, children: 'x' }),
      ],
    }),
  RMn = ({ name: t, description: e, status: r, emphasis: n }) => {
    let i = Llr.default.useMemo(() => {
      switch (n) {
        case 'high':
          return Ue.Foreground;
        case 'medium':
          return Ue.Foreground;
        case 'low':
          return Ue.Gray;
        default:
          return n;
      }
    }, [n]);
    return (0, nl.jsx)(Fe, {
      children: (0, nl.jsxs)(Se, {
        wrap: 'truncate-end',
        strikethrough: r === 'Canceled',
        children: [
          (0, nl.jsx)(Se, { color: i, bold: !0, children: t }),
          ' ',
          (0, nl.jsx)(Se, { color: Ue.Gray, children: e }),
        ],
      }),
    });
  },
  NMn = () =>
    (0, nl.jsxs)(Se, { color: Ue.Foreground, wrap: 'truncate', children: [' ', ''] });
Qn();
var Ql = qe(Ft(), 1);
var Qlr = ({
  confirmationDetails: t,
  config: e,
  isFocused: r = !0,
  availableTerminalHeight: n,
  terminalWidth: i,
}) => {
  let { onConfirm: a } = t,
    s = i - 2,
    o = async (m) => {
      if (t.type === 'edit') {
        let E = e?.getIdeClient();
        if (e?.getIdeMode()) {
          let v = m === Tr.Cancel ? 'rejected' : 'accepted';
          await E?.resolveDiffFromCli(t.filePath, v);
        }
      }
      a(m);
    };
  ja(
    (m) => {
      r && (m.name === 'escape' || (m.ctrl && m.name === 'c')) && o(Tr.Cancel);
    },
    { isActive: r }
  );
  let l = (m) => o(m),
    u = null,
    c,
    p = new Array();
  function h() {
    if (p.length === 0) throw new Error('Options not provided for confirmation message');
    if (n === void 0) return;
    let m = 2,
      E = 1,
      v = 1,
      g = 1,
      _ = p.length,
      S = m + E + v + g + _;
    return Math.max(n - S, 1);
  }
  if (t.type === 'edit') {
    if (t.isModifying)
      return (0, Ql.jsxs)(Fe, {
        minWidth: '90%',
        borderStyle: 'round',
        borderColor: Ue.Gray,
        justifyContent: 'space-around',
        padding: 1,
        overflow: 'hidden',
        children: [
          (0, Ql.jsx)(Se, { children: Ie.t('app.toolConfirmation.modifyInProgress') }),
          (0, Ql.jsx)(Se, {
            color: Ue.AccentGreen,
            children: Ie.t('app.toolConfirmation.saveAndCloseExternalEditor'),
          }),
        ],
      });
    ((c = Ie.t('app.toolConfirmation.applyThisChange')),
      p.push(
        { label: Ie.t('app.toolConfirmation.yesAllowOnce'), value: Tr.ProceedOnce },
        { label: Ie.t('app.toolConfirmation.yesAllowAlways'), value: Tr.ProceedAlways }
      ),
      e?.getIdeMode()
        ? p.push({ label: Ie.t('app.toolConfirmation.noEsc'), value: Tr.Cancel })
        : (p.push({
            label: Ie.t('app.toolConfirmation.modifyWithExternalEditor'),
            value: Tr.ModifyWithEditor,
          }),
          p.push({ label: Ie.t('app.toolConfirmation.noSuggestChanges'), value: Tr.Cancel })),
      (u = (0, Ql.jsx)(Hk, {
        diffContent: t.fileDiff,
        filename: t.fileName,
        availableTerminalHeight: h(),
        terminalWidth: s,
      })));
  } else if (t.type === 'exec') {
    let m = t;
    ((c = Ie.t('app.toolConfirmation.allowExecutionOf', { command: m.rootCommand })),
      p.push(
        { label: Ie.t('app.toolConfirmation.yesAllowOnce'), value: Tr.ProceedOnce },
        { label: Ie.t('app.toolConfirmation.yesAllowAlways'), value: Tr.ProceedAlways },
        { label: Ie.t('app.toolConfirmation.noSuggestChanges'), value: Tr.Cancel }
      ));
    let E = h();
    (E !== void 0 && (E -= 2),
      (u = (0, Ql.jsx)(Fe, {
        flexDirection: 'column',
        children: (0, Ql.jsx)(Fe, {
          paddingX: 1,
          marginLeft: 1,
          children: (0, Ql.jsx)(h3, {
            maxHeight: E,
            maxWidth: Math.max(s - 4, 1),
            children: (0, Ql.jsx)(Fe, {
              children: (0, Ql.jsx)(Se, { color: Ue.AccentCyan, children: m.command }),
            }),
          }),
        }),
      })));
  } else if (t.type === 'info') {
    let m = t,
      E = m.urls && !(m.urls.length === 1 && m.urls[0] === m.prompt);
    ((c = Ie.t('app.toolConfirmation.doYouWantToProceed')),
      p.push(
        { label: Ie.t('app.toolConfirmation.yesAllowOnce'), value: Tr.ProceedOnce },
        { label: Ie.t('app.toolConfirmation.yesAllowAlways'), value: Tr.ProceedAlways },
        { label: Ie.t('app.toolConfirmation.noSuggestChanges'), value: Tr.Cancel }
      ),
      (u = (0, Ql.jsxs)(Fe, {
        flexDirection: 'column',
        paddingX: 1,
        marginLeft: 1,
        children: [
          (0, Ql.jsx)(Se, { color: Ue.AccentCyan, children: m.prompt }),
          E &&
            m.urls &&
            m.urls.length > 0 &&
            (0, Ql.jsxs)(Fe, {
              flexDirection: 'column',
              marginTop: 1,
              children: [
                (0, Ql.jsxs)(Se, { children: [Ie.t('app.toolConfirmation.urlsToFetch'), ':'] }),
                m.urls.map((v) => (0, Ql.jsxs)(Se, { children: [' - ', v] }, v)),
              ],
            }),
        ],
      })));
  } else {
    let m = t;
    ((u = (0, Ql.jsxs)(Fe, {
      flexDirection: 'column',
      paddingX: 1,
      marginLeft: 1,
      children: [
        (0, Ql.jsxs)(Se, { color: Ue.AccentCyan, children: ['MCP Server: ', m.serverName] }),
        (0, Ql.jsxs)(Se, { color: Ue.AccentCyan, children: ['Tool: ', m.toolName] }),
      ],
    })),
      (c = Ie.t('app.toolConfirmation.allowExecutionOfMcpTool', {
        toolName: m.toolName,
        serverName: m.serverName,
      })),
      p.push(
        { label: Ie.t('app.toolConfirmation.yesAllowOnce'), value: Tr.ProceedOnce },
        {
          label: Ie.t('app.toolConfirmation.yesAlwaysAllowToolFromServer', {
            toolName: m.toolName,
            serverName: m.serverName,
          }),
          value: Tr.ProceedAlwaysTool,
        },
        {
          label: Ie.t('app.toolConfirmation.yesAlwaysAllowAllToolsFromServer', {
            serverName: m.serverName,
          }),
          value: Tr.ProceedAlwaysServer,
        },
        { label: Ie.t('app.toolConfirmation.noSuggestChanges'), value: Tr.Cancel }
      ));
  }
  return (0, Ql.jsxs)(Fe, {
    flexDirection: 'column',
    padding: 1,
    width: s,
    children: [
      (0, Ql.jsx)(Fe, {
        flexGrow: 1,
        flexShrink: 1,
        overflow: 'hidden',
        marginBottom: 1,
        children: u,
      }),
      (0, Ql.jsx)(Fe, {
        marginBottom: 1,
        flexShrink: 0,
        children: (0, Ql.jsx)(Se, { wrap: 'truncate', children: c }),
      }),
      (0, Ql.jsx)(Fe, {
        flexShrink: 0,
        children: (0, Ql.jsx)(Fl, { items: p, onSelect: l, isFocused: r }),
      }),
    ],
  });
};
var VB = qe(Ft(), 1);
var Ulr = ({
  toolCalls: t,
  availableTerminalHeight: e,
  terminalWidth: r,
  config: n,
  isFocused: i = !0,
}) => {
  let a = !t.every((E) => E.status === 'Success'),
    s = t.some((E) => E.name === Z0e),
    o = a || s ? Ue.AccentYellow : Ue.Gray,
    l = 3,
    u = r - 4,
    c = (0, klr.useMemo)(() => t.find((E) => E.status === 'Confirming'), [t]),
    p = 0;
  for (let E of t) E.resultDisplay !== void 0 && E.resultDisplay !== '' && p++;
  let h = t.length - p,
    m = e ? Math.max(Math.floor((e - l - h) / Math.max(1, p)), 1) : void 0;
  return (0, VB.jsx)(Fe, {
    flexDirection: 'column',
    borderStyle: 'round',
    width: '100%',
    marginLeft: 1,
    borderDimColor: a,
    borderColor: o,
    children: t.map((E) => {
      let v = c?.callId === E.callId;
      return (0, VB.jsxs)(
        Fe,
        {
          flexDirection: 'column',
          minHeight: 1,
          children: [
            (0, VB.jsx)(Fe, {
              flexDirection: 'row',
              alignItems: 'center',
              children: (0, VB.jsx)(Plr, {
                callId: E.callId,
                name: E.name,
                description: E.description,
                resultDisplay: E.resultDisplay,
                status: E.status,
                confirmationDetails: E.confirmationDetails,
                availableTerminalHeight: m,
                terminalWidth: u,
                emphasis: v ? 'high' : c ? 'low' : 'medium',
                renderOutputAsMarkdown: E.renderOutputAsMarkdown,
              }),
            }),
            E.status === 'Confirming' &&
              v &&
              E.confirmationDetails &&
              (0, VB.jsx)(Qlr, {
                confirmationDetails: E.confirmationDetails,
                config: n,
                isFocused: i,
                availableTerminalHeight: m,
                terminalWidth: u,
              }),
          ],
        },
        E.callId
      );
    }),
  });
};
var XGe = qe(Ft(), 1);
var Hlr = ({ text: t, isPending: e, availableTerminalHeight: r, terminalWidth: n }) => {
  let a = ' '.length;
  return (0, XGe.jsx)(Fe, {
    flexDirection: 'column',
    paddingLeft: a,
    children: (0, XGe.jsx)(Zk, {
      text: t,
      isPending: e,
      availableTerminalHeight: r,
      terminalWidth: n,
    }),
  });
};
var Tb = qe(Ft(), 1);
var Vlr = ({ compression: t }) => {
  let e = t.isPending
    ? Ie.t('app.compression.compressing')
    : Ie.t('app.compression.compressed', {
        original: t.originalTokenCount ?? 'unknown',
        new: t.newTokenCount ?? 'unknown',
      });
  return (0, Tb.jsxs)(Fe, {
    flexDirection: 'row',
    children: [
      (0, Tb.jsx)(Fe, {
        marginRight: 1,
        children: t.isPending
          ? (0, Tb.jsx)(Mk, { type: 'dots' })
          : (0, Tb.jsx)(Se, { color: Ue.AccentPurple, children: '' }),
      }),
      (0, Tb.jsx)(Fe, {
        children: (0, Tb.jsx)(Se, {
          color: t.isPending ? Ue.AccentPurple : Ue.AccentGreen,
          children: e,
        }),
      }),
    ],
  });
};
var ca = qe(Ft(), 1);
var Glr = ({
  cliVersion: t,
  osVersion: e,
  sandboxEnv: r,
  modelVersion: n,
  selectedAuthType: i,
  gcpProject: a,
}) =>
  (0, ca.jsxs)(Fe, {
    borderStyle: 'round',
    borderColor: Ue.Gray,
    flexDirection: 'column',
    padding: 1,
    marginY: 1,
    width: '100%',
    children: [
      (0, ca.jsx)(Fe, {
        marginBottom: 1,
        children: (0, ca.jsx)(Se, {
          bold: !0,
          color: Ue.AccentPurple,
          children: Ie.t('app.about.title'),
        }),
      }),
      (0, ca.jsxs)(Fe, {
        flexDirection: 'row',
        children: [
          (0, ca.jsx)(Fe, {
            width: '35%',
            children: (0, ca.jsx)(Se, {
              bold: !0,
              color: Ue.LightBlue,
              children: Ie.t('app.about.cliVersion'),
            }),
          }),
          (0, ca.jsx)(Fe, { children: (0, ca.jsx)(Se, { children: t }) }),
        ],
      }),
      bk &&
        !['N/A'].includes(bk) &&
        (0, ca.jsxs)(Fe, {
          flexDirection: 'row',
          children: [
            (0, ca.jsx)(Fe, {
              width: '35%',
              children: (0, ca.jsx)(Se, {
                bold: !0,
                color: Ue.LightBlue,
                children: Ie.t('app.about.gitCommit'),
              }),
            }),
            (0, ca.jsx)(Fe, { children: (0, ca.jsx)(Se, { children: bk }) }),
          ],
        }),
      (0, ca.jsxs)(Fe, {
        flexDirection: 'row',
        children: [
          (0, ca.jsx)(Fe, {
            width: '35%',
            children: (0, ca.jsx)(Se, {
              bold: !0,
              color: Ue.LightBlue,
              children: Ie.t('app.about.model'),
            }),
          }),
          (0, ca.jsx)(Fe, { children: (0, ca.jsx)(Se, { children: n }) }),
        ],
      }),
      (0, ca.jsxs)(Fe, {
        flexDirection: 'row',
        children: [
          (0, ca.jsx)(Fe, {
            width: '35%',
            children: (0, ca.jsx)(Se, {
              bold: !0,
              color: Ue.LightBlue,
              children: Ie.t('app.about.sandbox'),
            }),
          }),
          (0, ca.jsx)(Fe, { children: (0, ca.jsx)(Se, { children: r }) }),
        ],
      }),
      (0, ca.jsxs)(Fe, {
        flexDirection: 'row',
        children: [
          (0, ca.jsx)(Fe, {
            width: '35%',
            children: (0, ca.jsx)(Se, {
              bold: !0,
              color: Ue.LightBlue,
              children: Ie.t('app.about.os'),
            }),
          }),
          (0, ca.jsx)(Fe, { children: (0, ca.jsx)(Se, { children: e }) }),
        ],
      }),
      (0, ca.jsxs)(Fe, {
        flexDirection: 'row',
        children: [
          (0, ca.jsx)(Fe, {
            width: '35%',
            children: (0, ca.jsx)(Se, {
              bold: !0,
              color: Ue.LightBlue,
              children: Ie.t('app.about.authMethod'),
            }),
          }),
          (0, ca.jsx)(Fe, {
            children: (0, ca.jsx)(Se, { children: i.startsWith('oauth') ? 'OAuth' : i }),
          }),
        ],
      }),
      a &&
        (0, ca.jsxs)(Fe, {
          flexDirection: 'row',
          children: [
            (0, ca.jsx)(Fe, {
              width: '35%',
              children: (0, ca.jsx)(Se, {
                bold: !0,
                color: Ue.LightBlue,
                children: Ie.t('app.about.gcpProject'),
              }),
            }),
            (0, ca.jsx)(Fe, { children: (0, ca.jsx)(Se, { children: a }) }),
          ],
        }),
    ],
  });
var yAe = 95,
  vAe = 85,
  CAe = 75,
  _Ae = 45;
var eU = (t, e, r = {}) =>
  t >= e.green ? Ue.AccentGreen : t >= e.yellow ? Ue.AccentYellow : r.defaultColor || Ue.AccentRed;
function qlr(t) {
  return t.api.totalRequests === 0 ? 0 : (t.api.totalErrors / t.api.totalRequests) * 100;
}
function $lr(t) {
  return t.api.totalRequests === 0 ? 0 : t.api.totalLatencyMs / t.api.totalRequests;
}
function jlr(t) {
  return t.tokens.prompt === 0 ? 0 : (t.tokens.cached / t.tokens.prompt) * 100;
}
var Ylr = (t) => {
  let { models: e, tools: r } = t,
    n = Object.values(e).reduce((E, v) => E + v.api.totalLatencyMs, 0),
    i = r.totalDurationMs,
    a = n + i,
    s = a > 0 ? (n / a) * 100 : 0,
    o = a > 0 ? (i / a) * 100 : 0,
    l = Object.values(e).reduce((E, v) => E + v.tokens.cached, 0),
    u = Object.values(e).reduce((E, v) => E + v.tokens.prompt, 0),
    c = u > 0 ? (l / u) * 100 : 0,
    p = r.totalDecisions.accept + r.totalDecisions.reject + r.totalDecisions.modify,
    h = r.totalCalls > 0 ? (r.totalSuccess / r.totalCalls) * 100 : 0,
    m = p > 0 ? (r.totalDecisions.accept / p) * 100 : 0;
  return {
    totalApiTime: n,
    totalToolTime: i,
    agentActiveTime: a,
    apiTimePercent: s,
    toolTimePercent: o,
    cacheEfficiency: c,
    totalDecisions: p,
    successRate: h,
    agreementRate: m,
    totalCachedTokens: l,
    totalPromptTokens: u,
  };
};
var Xr = qe(Ft(), 1);
var tU = ({ title: t, children: e }) =>
    (0, Xr.jsxs)(Fe, {
      children: [
        (0, Xr.jsx)(Fe, {
          width: 28,
          children: (0, Xr.jsx)(Se, { color: Ue.LightBlue, children: t }),
        }),
        e,
      ],
    }),
  Wlr = ({ title: t, children: e }) =>
    (0, Xr.jsxs)(Fe, {
      paddingLeft: 2,
      children: [
        (0, Xr.jsx)(Fe, { width: 26, children: (0, Xr.jsxs)(Se, { children: ['\xBB ', t] }) }),
        e,
      ],
    }),
  zlr = ({ title: t, children: e }) =>
    (0, Xr.jsxs)(Fe, {
      flexDirection: 'column',
      width: '100%',
      marginBottom: 1,
      children: [(0, Xr.jsx)(Se, { bold: !0, children: t }), e],
    }),
  OMn = ({ models: t, totalCachedTokens: e, cacheEfficiency: r }) =>
    (0, Xr.jsxs)(Fe, {
      flexDirection: 'column',
      marginTop: 1,
      children: [
        (0, Xr.jsxs)(Fe, {
          children: [
            (0, Xr.jsx)(Fe, {
              width: 25,
              children: (0, Xr.jsx)(Se, { bold: !0, children: Ie.t('statsDisplay.modelUsage') }),
            }),
            (0, Xr.jsx)(Fe, {
              width: 8,
              justifyContent: 'flex-end',
              children: (0, Xr.jsx)(Se, { bold: !0, children: Ie.t('statsDisplay.requests') }),
            }),
            (0, Xr.jsx)(Fe, {
              width: 18,
              justifyContent: 'flex-end',
              children: (0, Xr.jsx)(Se, { bold: !0, children: Ie.t('statsDisplay.inputTokens') }),
            }),
            (0, Xr.jsx)(Fe, {
              width: 18,
              justifyContent: 'flex-end',
              children: (0, Xr.jsx)(Se, { bold: !0, children: Ie.t('statsDisplay.outputTokens') }),
            }),
          ],
        }),
        (0, Xr.jsx)(Fe, {
          borderStyle: 'round',
          borderBottom: !0,
          borderTop: !1,
          borderLeft: !1,
          borderRight: !1,
          width: 69,
        }),
        Object.entries(t).map(([o, l]) =>
          (0, Xr.jsxs)(
            Fe,
            {
              children: [
                (0, Xr.jsx)(Fe, {
                  width: 25,
                  children: (0, Xr.jsx)(Se, { children: o.replace('-001', '') }),
                }),
                (0, Xr.jsx)(Fe, {
                  width: 8,
                  justifyContent: 'flex-end',
                  children: (0, Xr.jsx)(Se, { children: l.api.totalRequests }),
                }),
                (0, Xr.jsx)(Fe, {
                  width: 18,
                  justifyContent: 'flex-end',
                  children: (0, Xr.jsx)(Se, {
                    color: Ue.AccentYellow,
                    children: l.tokens.prompt.toLocaleString(),
                  }),
                }),
                (0, Xr.jsx)(Fe, {
                  width: 18,
                  justifyContent: 'flex-end',
                  children: (0, Xr.jsx)(Se, {
                    color: Ue.AccentYellow,
                    children: l.tokens.candidates.toLocaleString(),
                  }),
                }),
              ],
            },
            o
          )
        ),
        r > 0 &&
          (0, Xr.jsxs)(Fe, {
            flexDirection: 'column',
            marginTop: 1,
            children: [
              (0, Xr.jsxs)(Se, {
                children: [
                  (0, Xr.jsx)(Se, {
                    color: Ue.AccentGreen,
                    children: Ie.t('statsDisplay.savingsHighlight'),
                  }),
                  ' ',
                  Ie.t('statsDisplay.savingsDetail', {
                    tokens: e.toLocaleString(),
                    percent: r.toFixed(1),
                  }),
                ],
              }),
              (0, Xr.jsx)(Fe, { height: 1 }),
              (0, Xr.jsxs)(Se, {
                color: Ue.Gray,
                children: [
                  '\xBB',
                  ' ',
                  Ie.t('statsDisplay.tipFullStats', { command: '`/stats model`' }),
                ],
              }),
            ],
          }),
      ],
    }),
  SAe = ({ duration: t, title: e }) => {
    let { stats: r } = zg(),
      { metrics: n } = r,
      { models: i, tools: a } = n,
      s = Ylr(n),
      o = { green: yAe, yellow: vAe },
      l = { green: CAe, yellow: _Ae },
      u = eU(s.successRate, o),
      c = eU(s.agreementRate, l),
      p = () =>
        e
          ? Ue.GradientColors && Ue.GradientColors.length > 0
            ? (0, Xr.jsx)(EB, {
                colors: Ue.GradientColors,
                children: (0, Xr.jsx)(Se, { bold: !0, children: e }),
              })
            : (0, Xr.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: e })
          : (0, Xr.jsx)(Se, {
              bold: !0,
              color: Ue.AccentPurple,
              children: Ie.t('statsDisplay.sessionStats'),
            });
    return (0, Xr.jsxs)(Fe, {
      borderStyle: 'round',
      borderColor: Ue.Gray,
      flexDirection: 'column',
      paddingY: 1,
      paddingX: 2,
      children: [
        p(),
        (0, Xr.jsx)(Fe, { height: 1 }),
        (0, Xr.jsxs)(zlr, {
          title: Ie.t('statsDisplay.interactionSummary'),
          children: [
            (0, Xr.jsx)(tU, {
              title: Ie.t('statsDisplay.sessionId'),
              children: (0, Xr.jsx)(Se, { children: r.sessionId }),
            }),
            (0, Xr.jsx)(tU, {
              title: Ie.t('statsDisplay.toolCalls'),
              children: (0, Xr.jsxs)(Se, {
                children: [
                  a.totalCalls,
                  ' (',
                  ' ',
                  (0, Xr.jsxs)(Se, {
                    color: Ue.AccentGreen,
                    children: [' ', a.totalSuccess],
                  }),
                  ' ',
                  (0, Xr.jsxs)(Se, { color: Ue.AccentRed, children: [' ', a.totalFail] }),
                  ' )',
                ],
              }),
            }),
            (0, Xr.jsx)(tU, {
              title: Ie.t('statsDisplay.successRate'),
              children: (0, Xr.jsxs)(Se, { color: u, children: [s.successRate.toFixed(1), '%'] }),
            }),
            s.totalDecisions > 0 &&
              (0, Xr.jsx)(tU, {
                title: Ie.t('statsDisplay.userAgreement'),
                children: (0, Xr.jsxs)(Se, {
                  color: c,
                  children: [
                    s.agreementRate.toFixed(1),
                    '%',
                    ' ',
                    (0, Xr.jsx)(Se, {
                      color: Ue.Gray,
                      children: Ie.t('statsDisplay.userAgreementReviewed', {
                        count: s.totalDecisions,
                      }),
                    }),
                  ],
                }),
              }),
          ],
        }),
        (0, Xr.jsxs)(zlr, {
          title: Ie.t('statsDisplay.performance'),
          children: [
            (0, Xr.jsx)(tU, {
              title: Ie.t('statsDisplay.wallTime'),
              children: (0, Xr.jsx)(Se, { children: t }),
            }),
            (0, Xr.jsx)(tU, {
              title: Ie.t('statsDisplay.agentActive'),
              children: (0, Xr.jsx)(Se, { children: uh(s.agentActiveTime) }),
            }),
            (0, Xr.jsx)(Wlr, {
              title: Ie.t('statsDisplay.apiTime'),
              children: (0, Xr.jsxs)(Se, {
                children: [
                  uh(s.totalApiTime),
                  ' ',
                  (0, Xr.jsxs)(Se, {
                    color: Ue.Gray,
                    children: ['(', s.apiTimePercent.toFixed(1), '%)'],
                  }),
                ],
              }),
            }),
            (0, Xr.jsx)(Wlr, {
              title: Ie.t('statsDisplay.toolTime'),
              children: (0, Xr.jsxs)(Se, {
                children: [
                  uh(s.totalToolTime),
                  ' ',
                  (0, Xr.jsxs)(Se, {
                    color: Ue.Gray,
                    children: ['(', s.toolTimePercent.toFixed(1), '%)'],
                  }),
                ],
              }),
            }),
          ],
        }),
        Object.keys(i).length > 0 &&
          (0, Xr.jsx)(OMn, {
            models: i,
            totalCachedTokens: s.totalCachedTokens,
            cacheEfficiency: s.cacheEfficiency,
          }),
      ],
    });
  };
var ws = qe(Ft(), 1);
var Jlr = 28,
  Klr = 22,
  S3 = ({ title: t, values: e, isSubtle: r = !1, isSection: n = !1 }) =>
    (0, ws.jsxs)(Fe, {
      children: [
        (0, ws.jsx)(Fe, {
          width: Jlr,
          children: (0, ws.jsx)(Se, {
            bold: n,
            color: n ? void 0 : Ue.LightBlue,
            children: r ? `   ${t}` : t,
          }),
        }),
        e.map((i, a) =>
          (0, ws.jsx)(Fe, { width: Klr, children: (0, ws.jsx)(Se, { children: i }) }, a)
        ),
      ],
    }),
  Xlr = () => {
    let { stats: t } = zg(),
      { models: e } = t.metrics,
      r = Object.entries(e).filter(([, l]) => l.api.totalRequests > 0);
    if (r.length === 0)
      return (0, ws.jsx)(Fe, {
        borderStyle: 'round',
        borderColor: Ue.Gray,
        paddingY: 1,
        paddingX: 2,
        children: (0, ws.jsx)(Se, { children: Ie.t('app.stats.noApiCalls') }),
      });
    let n = r.map(([l]) => l),
      i = (l) => r.map(([, u]) => l(u)),
      a = r.some(([, l]) => l.tokens.thoughts > 0),
      s = r.some(([, l]) => l.tokens.tool > 0),
      o = r.some(([, l]) => l.tokens.cached > 0);
    return (0, ws.jsxs)(Fe, {
      borderStyle: 'round',
      borderColor: Ue.Gray,
      flexDirection: 'column',
      paddingY: 1,
      paddingX: 2,
      children: [
        (0, ws.jsx)(Se, {
          bold: !0,
          color: Ue.AccentPurple,
          children: Ie.t('app.stats.modelStats'),
        }),
        (0, ws.jsx)(Fe, { height: 1 }),
        (0, ws.jsxs)(Fe, {
          children: [
            (0, ws.jsx)(Fe, {
              width: Jlr,
              children: (0, ws.jsx)(Se, { bold: !0, children: Ie.t('app.stats.metric') }),
            }),
            n.map((l) =>
              (0, ws.jsx)(
                Fe,
                { width: Klr, children: (0, ws.jsx)(Se, { bold: !0, children: l }) },
                l
              )
            ),
          ],
        }),
        (0, ws.jsx)(Fe, {
          borderStyle: 'single',
          borderBottom: !0,
          borderTop: !1,
          borderLeft: !1,
          borderRight: !1,
        }),
        (0, ws.jsx)(S3, { title: Ie.t('app.stats.api'), values: [], isSection: !0 }),
        (0, ws.jsx)(S3, {
          title: Ie.t('app.stats.requests'),
          values: i((l) => l.api.totalRequests.toLocaleString()),
        }),
        (0, ws.jsx)(S3, {
          title: Ie.t('app.stats.errors'),
          values: i((l) => {
            let u = qlr(l);
            return (0, ws.jsxs)(Se, {
              color: l.api.totalErrors > 0 ? Ue.AccentRed : Ue.Foreground,
              children: [l.api.totalErrors.toLocaleString(), ' (', u.toFixed(1), '%)'],
            });
          }),
        }),
        (0, ws.jsx)(S3, {
          title: Ie.t('app.stats.avgLatency'),
          values: i((l) => {
            let u = $lr(l);
            return uh(u);
          }),
        }),
        (0, ws.jsx)(Fe, { height: 1 }),
        (0, ws.jsx)(S3, { title: Ie.t('app.stats.tokens'), values: [], isSection: !0 }),
        (0, ws.jsx)(S3, {
          title: Ie.t('app.stats.total'),
          values: i((l) =>
            (0, ws.jsx)(Se, { color: Ue.AccentYellow, children: l.tokens.total.toLocaleString() })
          ),
        }),
        (0, ws.jsx)(S3, {
          title: Ie.t('app.stats.prompt'),
          isSubtle: !0,
          values: i((l) => l.tokens.prompt.toLocaleString()),
        }),
        o &&
          (0, ws.jsx)(S3, {
            title: Ie.t('app.stats.cached'),
            isSubtle: !0,
            values: i((l) => {
              let u = jlr(l);
              return (0, ws.jsxs)(Se, {
                color: Ue.AccentGreen,
                children: [l.tokens.cached.toLocaleString(), ' (', u.toFixed(1), '%)'],
              });
            }),
          }),
        a &&
          (0, ws.jsx)(S3, {
            title: Ie.t('app.stats.thoughts'),
            isSubtle: !0,
            values: i((l) => l.tokens.thoughts.toLocaleString()),
          }),
        s &&
          (0, ws.jsx)(S3, {
            title: Ie.t('app.stats.tool'),
            isSubtle: !0,
            values: i((l) => l.tokens.tool.toLocaleString()),
          }),
        (0, ws.jsx)(S3, {
          title: Ie.t('app.stats.output'),
          isSubtle: !0,
          values: i((l) => l.tokens.candidates.toLocaleString()),
        }),
      ],
    });
  };
var Pn = qe(Ft(), 1);
var GB = 25,
  qB = 8,
  $B = 15,
  jB = 15,
  MMn = ({ name: t, stats: e }) => {
    let r = e.count > 0 ? (e.success / e.count) * 100 : 0,
      n = e.count > 0 ? e.durationMs / e.count : 0,
      i = eU(r, { green: yAe, yellow: vAe });
    return (0, Pn.jsxs)(Fe, {
      children: [
        (0, Pn.jsx)(Fe, {
          width: GB,
          children: (0, Pn.jsx)(Se, { color: Ue.LightBlue, children: t }),
        }),
        (0, Pn.jsx)(Fe, {
          width: qB,
          justifyContent: 'flex-end',
          children: (0, Pn.jsx)(Se, { children: e.count }),
        }),
        (0, Pn.jsx)(Fe, {
          width: $B,
          justifyContent: 'flex-end',
          children: (0, Pn.jsxs)(Se, { color: i, children: [r.toFixed(1), '%'] }),
        }),
        (0, Pn.jsx)(Fe, {
          width: jB,
          justifyContent: 'flex-end',
          children: (0, Pn.jsx)(Se, { children: uh(n) }),
        }),
      ],
    });
  },
  Zlr = () => {
    let { stats: t } = zg(),
      { tools: e } = t.metrics,
      r = Object.entries(e.byName).filter(([, o]) => o.count > 0);
    if (r.length === 0)
      return (0, Pn.jsx)(Fe, {
        borderStyle: 'round',
        borderColor: Ue.Gray,
        paddingY: 1,
        paddingX: 2,
        children: (0, Pn.jsx)(Se, { children: Ie.t('app.stats.noToolCalls') }),
      });
    let n = Object.values(e.byName).reduce(
        (o, l) => (
          (o.accept += l.decisions.accept),
          (o.reject += l.decisions.reject),
          (o.modify += l.decisions.modify),
          o
        ),
        { accept: 0, reject: 0, modify: 0 }
      ),
      i = n.accept + n.reject + n.modify,
      a = i > 0 ? (n.accept / i) * 100 : 0,
      s = eU(a, { green: CAe, yellow: _Ae });
    return (0, Pn.jsxs)(Fe, {
      borderStyle: 'round',
      borderColor: Ue.Gray,
      flexDirection: 'column',
      paddingY: 1,
      paddingX: 2,
      width: 70,
      children: [
        (0, Pn.jsx)(Se, {
          bold: !0,
          color: Ue.AccentPurple,
          children: Ie.t('app.stats.toolStats'),
        }),
        (0, Pn.jsx)(Fe, { height: 1 }),
        (0, Pn.jsxs)(Fe, {
          children: [
            (0, Pn.jsx)(Fe, {
              width: GB,
              children: (0, Pn.jsx)(Se, { bold: !0, children: Ie.t('app.stats.toolName') }),
            }),
            (0, Pn.jsx)(Fe, {
              width: qB,
              justifyContent: 'flex-end',
              children: (0, Pn.jsx)(Se, { bold: !0, children: Ie.t('app.stats.calls') }),
            }),
            (0, Pn.jsx)(Fe, {
              width: $B,
              justifyContent: 'flex-end',
              children: (0, Pn.jsx)(Se, { bold: !0, children: Ie.t('app.stats.successRate') }),
            }),
            (0, Pn.jsx)(Fe, {
              width: jB,
              justifyContent: 'flex-end',
              children: (0, Pn.jsx)(Se, { bold: !0, children: Ie.t('app.stats.avgDuration') }),
            }),
          ],
        }),
        (0, Pn.jsx)(Fe, {
          borderStyle: 'single',
          borderBottom: !0,
          borderTop: !1,
          borderLeft: !1,
          borderRight: !1,
          width: '100%',
        }),
        r.map(([o, l]) => (0, Pn.jsx)(MMn, { name: o, stats: l }, o)),
        (0, Pn.jsx)(Fe, { height: 1 }),
        (0, Pn.jsx)(Se, { bold: !0, children: Ie.t('app.stats.userDecisionSummary') }),
        (0, Pn.jsxs)(Fe, {
          children: [
            (0, Pn.jsx)(Fe, {
              width: GB + qB + $B,
              children: (0, Pn.jsxs)(Se, {
                color: Ue.LightBlue,
                children: [Ie.t('app.stats.totalReviewed'), ':'],
              }),
            }),
            (0, Pn.jsx)(Fe, {
              width: jB,
              justifyContent: 'flex-end',
              children: (0, Pn.jsx)(Se, { children: i }),
            }),
          ],
        }),
        (0, Pn.jsxs)(Fe, {
          children: [
            (0, Pn.jsx)(Fe, {
              width: GB + qB + $B,
              children: (0, Pn.jsxs)(Se, { children: [' \xBB ', Ie.t('app.stats.accepted'), ':'] }),
            }),
            (0, Pn.jsx)(Fe, {
              width: jB,
              justifyContent: 'flex-end',
              children: (0, Pn.jsx)(Se, { color: Ue.AccentGreen, children: n.accept }),
            }),
          ],
        }),
        (0, Pn.jsxs)(Fe, {
          children: [
            (0, Pn.jsx)(Fe, {
              width: GB + qB + $B,
              children: (0, Pn.jsxs)(Se, { children: [' \xBB ', Ie.t('app.stats.rejected'), ':'] }),
            }),
            (0, Pn.jsx)(Fe, {
              width: jB,
              justifyContent: 'flex-end',
              children: (0, Pn.jsx)(Se, { color: Ue.AccentRed, children: n.reject }),
            }),
          ],
        }),
        (0, Pn.jsxs)(Fe, {
          children: [
            (0, Pn.jsx)(Fe, {
              width: GB + qB + $B,
              children: (0, Pn.jsxs)(Se, { children: [' \xBB ', Ie.t('app.stats.modified'), ':'] }),
            }),
            (0, Pn.jsx)(Fe, {
              width: jB,
              justifyContent: 'flex-end',
              children: (0, Pn.jsx)(Se, { color: Ue.AccentYellow, children: n.modify }),
            }),
          ],
        }),
        (0, Pn.jsx)(Fe, {
          borderStyle: 'single',
          borderBottom: !0,
          borderTop: !1,
          borderLeft: !1,
          borderRight: !1,
          width: '100%',
        }),
        (0, Pn.jsxs)(Fe, {
          children: [
            (0, Pn.jsx)(Fe, {
              width: GB + qB + $B,
              children: (0, Pn.jsxs)(Se, {
                children: [' ', Ie.t('app.stats.overallAgreementRate'), ':'],
              }),
            }),
            (0, Pn.jsx)(Fe, {
              width: jB,
              justifyContent: 'flex-end',
              children: (0, Pn.jsx)(Se, {
                bold: !0,
                color: i > 0 ? s : void 0,
                children: i > 0 ? `${a.toFixed(1)}%` : '--',
              }),
            }),
          ],
        }),
      ],
    });
  };
var tur = qe(Ft(), 1);
var eur = ({ duration: t }) =>
  (0, tur.jsx)(SAe, { title: Ie.t('sessionSummary.poweringDown'), duration: t });
var ta = qe(Ft(), 1);
var rur = ({ commands: t }) =>
  (0, ta.jsxs)(Fe, {
    flexDirection: 'column',
    marginBottom: 1,
    borderColor: Ue.Gray,
    borderStyle: 'round',
    padding: 1,
    children: [
      (0, ta.jsx)(Se, { bold: !0, color: Ue.Foreground, children: Ie.t('help.basics') }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: Ie.t('help.addContext') }),
          ': ',
          Ie.t('help.addContextDescription', { at: '@', example: '@src/myFile.ts' }),
        ],
      }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: Ie.t('help.shellMode') }),
          ': ',
          Ie.t('help.shellModeDescription', {
            exclamation: '!',
            example: '!npm run start',
            naturalLanguage: Ie.t('help.shellModeNaturalLanguageExample'),
          }),
        ],
      }),
      (0, ta.jsx)(Fe, { height: 1 }),
      (0, ta.jsx)(Se, { bold: !0, color: Ue.Foreground, children: Ie.t('help.commands') }),
      t
        .filter((e) => e.description)
        .map((e) =>
          (0, ta.jsxs)(
            Fe,
            {
              flexDirection: 'column',
              children: [
                (0, ta.jsxs)(Se, {
                  color: Ue.Foreground,
                  children: [
                    (0, ta.jsxs)(Se, {
                      bold: !0,
                      color: Ue.AccentPurple,
                      children: [' ', '/', e.name],
                    }),
                    e.description &&
                      ' - ' +
                        (typeof e.description == 'function' ? e.description() : e.description),
                  ],
                }),
                e.subCommands &&
                  e.subCommands.map((r) =>
                    (0, ta.jsxs)(
                      Se,
                      {
                        color: Ue.Foreground,
                        children: [
                          (0, ta.jsxs)(Se, {
                            bold: !0,
                            color: Ue.AccentPurple,
                            children: ['   ', r.name],
                          }),
                          r.description &&
                            ' - ' +
                              (typeof r.description == 'function'
                                ? r.description()
                                : r.description),
                        ],
                      },
                      r.name
                    )
                  ),
              ],
            },
            e.name
          )
        ),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsxs)(Se, { bold: !0, color: Ue.AccentPurple, children: [' ', '!', ' '] }),
          '- ',
          Ie.t('help.shellCommand'),
        ],
      }),
      (0, ta.jsx)(Fe, { height: 1 }),
      (0, ta.jsx)(Se, { bold: !0, color: Ue.Foreground, children: Ie.t('help.shortcuts') }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: 'Alt+Left/Right' }),
          ' ',
          '- ',
          Ie.t('help.jumpWords'),
        ],
      }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: 'Ctrl+C' }),
          ' ',
          '- ',
          Ie.t('help.quitApp'),
        ],
      }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, {
            bold: !0,
            color: Ue.AccentPurple,
            children: process.platform === 'win32' ? 'Ctrl+Enter' : 'Ctrl+J',
          }),
          ' ',
          process.platform === 'linux'
            ? '- ' + Ie.t('help.newLineLinux')
            : '- ' + Ie.t('help.newLine'),
        ],
      }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: 'Ctrl+L' }),
          ' ',
          '- ',
          Ie.t('help.clearScreen'),
        ],
      }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, {
            bold: !0,
            color: Ue.AccentPurple,
            children: process.platform === 'darwin' ? 'Ctrl+X / Meta+Enter' : 'Ctrl+X',
          }),
          ' ',
          '- ',
          Ie.t('help.openEditor'),
        ],
      }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: 'Ctrl+Y' }),
          ' ',
          '- ',
          Ie.t('help.toggleYolo'),
        ],
      }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: 'Enter' }),
          ' ',
          '- ',
          Ie.t('help.sendMessage'),
        ],
      }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: 'Esc' }),
          ' ',
          '- ',
          Ie.t('help.cancelOperation'),
        ],
      }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: 'Shift+Tab' }),
          ' ',
          '- ',
          Ie.t('help.autoAcceptEdits'),
        ],
      }),
      (0, ta.jsxs)(Se, {
        color: Ue.Foreground,
        children: [
          (0, ta.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: 'Up/Down' }),
          ' ',
          '- ',
          Ie.t('help.cycleHistory'),
        ],
      }),
      (0, ta.jsx)(Fe, { height: 1 }),
      (0, ta.jsx)(Se, {
        color: Ue.Foreground,
        children: Ie.t('help.fullList', { file: 'docs/keyboard-shortcuts.md' }),
      }),
    ],
  });
var k1 = qe(Ft(), 1);
var bAe = ({
  item: t,
  availableTerminalHeight: e,
  terminalWidth: r,
  isPending: n,
  config: i,
  commands: a,
  isFocused: s = !0,
}) =>
  (0, k1.jsxs)(
    Fe,
    {
      flexDirection: 'column',
      children: [
        t.type === 'user' && (0, k1.jsx)(Clr, { text: t.text }),
        t.type === 'user_shell' && (0, k1.jsx)(_lr, { text: t.text }),
        t.type === 'gemini' &&
          (0, k1.jsx)(Rlr, {
            text: t.text,
            isPending: n,
            availableTerminalHeight: e,
            terminalWidth: r,
          }),
        t.type === 'gemini_content' &&
          (0, k1.jsx)(Hlr, {
            text: t.text,
            isPending: n,
            availableTerminalHeight: e,
            terminalWidth: r,
          }),
        t.type === 'info' && (0, k1.jsx)(Nlr, { text: t.text }),
        t.type === 'error' && (0, k1.jsx)(Olr, { text: t.text }),
        t.type === 'about' &&
          (0, k1.jsx)(Glr, {
            cliVersion: t.cliVersion,
            osVersion: t.osVersion,
            sandboxEnv: t.sandboxEnv,
            modelVersion: t.modelVersion,
            selectedAuthType: t.selectedAuthType,
            gcpProject: t.gcpProject,
          }),
        t.type === 'help' && a && (0, k1.jsx)(rur, { commands: a }),
        t.type === 'stats' && (0, k1.jsx)(SAe, { duration: t.duration }),
        t.type === 'model_stats' && (0, k1.jsx)(Xlr, {}),
        t.type === 'tool_stats' && (0, k1.jsx)(Zlr, {}),
        t.type === 'quit' && (0, k1.jsx)(eur, { duration: t.duration }),
        t.type === 'tool_group' &&
          (0, k1.jsx)(Ulr, {
            toolCalls: t.tools,
            groupId: t.id,
            availableTerminalHeight: e,
            terminalWidth: r,
            config: i,
            isFocused: s,
          }),
        t.type === 'compression' && (0, k1.jsx)(Vlr, { compression: t.compression }),
      ],
    },
    t.id
  );
var xb = qe(Ft(), 1);
var nur = ({
  geminiMdFileCount: t,
  contextFileNames: e,
  mcpServers: r,
  blockedMcpServers: n,
  showToolDescriptions: i,
  ideContext: a,
}) => {
  let { columns: s } = w2(),
    o = Ab(s),
    l = Object.keys(r || {}).length,
    u = n?.length || 0,
    c = a?.workspaceState?.openFiles?.length ?? 0;
  if (t === 0 && l === 0 && u === 0 && c === 0) return (0, xb.jsx)(Se, { children: ' ' });
  let p = (() => {
      if (c === 0) return '';
      let v = c === 1 ? Ie.t('contextSummary.openFile') : Ie.t('contextSummary.openFiles');
      return `${c} ${v} (${Ie.t('contextSummary.viewOpenFiles')})`;
    })(),
    h = (() => {
      if (t === 0) return '';
      let g = new Set(e).size < 2 ? e[0] : 'context',
        _ = t === 1 ? Ie.t('contextSummary.contextFile') : Ie.t('contextSummary.contextFiles');
      return `${t} ${g} ${_}`;
    })(),
    m = (() => {
      if (l === 0 && u === 0) return '';
      let v = [];
      if (l > 0) {
        let _ = l === 1 ? Ie.t('contextSummary.mcpServer') : Ie.t('contextSummary.mcpServers');
        v.push(`${l} ${_}`);
      }
      if (u > 0) {
        let _ = `${u} ${Ie.t('contextSummary.blockedMcpServer')}`;
        if (l === 0) {
          let S = u === 1 ? Ie.t('contextSummary.mcpServer') : Ie.t('contextSummary.mcpServers');
          _ += ` ${S}`;
        }
        v.push(_);
      }
      let g = v.join(', ');
      return (
        r &&
          Object.keys(r).length > 0 &&
          (i
            ? (g += ` (${Ie.t('contextSummary.toggleMcp')})`)
            : (g += ` (${Ie.t('contextSummary.viewMcp')})`)),
        g
      );
    })(),
    E = [p, h, m].filter(Boolean);
  return o
    ? (0, xb.jsxs)(Fe, {
        flexDirection: 'column',
        children: [
          (0, xb.jsx)(Se, { color: Ue.Gray, children: Ie.t('contextSummary.using') }),
          E.map((v, g) => (0, xb.jsxs)(Se, { color: Ue.Gray, children: ['  ', '- ', v] }, g)),
        ],
      })
    : (0, xb.jsx)(Fe, {
        children: (0, xb.jsxs)(Se, {
          color: Ue.Gray,
          children: [Ie.t('contextSummary.using'), ' ', E.join(' | ')],
        }),
      });
};
var k9 = qe(or(), 1);
function iur() {
  let [t, e] = (0, k9.useState)([]),
    r = (0, k9.useRef)(0),
    n = (0, k9.useCallback)((l) => ((r.current += 1), l + r.current), []),
    i = (0, k9.useCallback)((l) => {
      e(l);
    }, []),
    a = (0, k9.useCallback)(
      (l, u) => {
        let c = n(u),
          p = { ...l, id: c };
        return (
          e((h) => {
            if (h.length > 0) {
              let m = h[h.length - 1];
              if (m.type === 'user' && p.type === 'user' && m.text === p.text) return h;
            }
            return [...h, p];
          }),
          c
        );
      },
      [n]
    ),
    s = (0, k9.useCallback)((l, u) => {
      e((c) =>
        c.map((p) => {
          if (p.id === l) {
            let h = typeof u == 'function' ? u(p) : u;
            return { ...p, ...h };
          }
          return p;
        })
      );
    }, []),
    o = (0, k9.useCallback)(() => {
      (e([]), (r.current = 0));
    }, []);
  return { history: t, addItem: a, updateItem: s, clearItems: o, loadHistory: i };
}
Qn();
import nqe from 'node:process';
Qn();
var Bb = qe(Ft(), 1);
function aur({ ide: t, onComplete: e }) {
  ja(
    (o) => {
      o.name === 'escape' && e({ userSelection: 'no', isExtensionPreInstalled: !1 });
    },
    { isActive: !0 }
  );
  let { displayName: r } = uy(t),
    i =
      !!(process.env.KODA_CLI_IDE_SERVER_PORT ?? process.env.GEMINI_CLI_IDE_SERVER_PORT) &&
      !!process.env.GEMINI_CLI_IDE_WORKSPACE_PATH &&
      !!process.env.KODA_CLI_IDE_WORKSPACE_PATH,
    a = [
      { label: 'Yes', value: { userSelection: 'yes', isExtensionPreInstalled: i } },
      { label: 'No (esc)', value: { userSelection: 'no', isExtensionPreInstalled: i } },
      {
        label: "No, don't ask again",
        value: { userSelection: 'dismiss', isExtensionPreInstalled: i },
      },
    ],
    s = i
      ? `If you select Yes, the CLI will have access to your open files and display diffs directly in ${r ?? 'your editor'}.`
      : `If you select Yes, we'll install an extension that allows the CLI to access your open files and display diffs directly in ${r ?? 'your editor'}.`;
  return (0, Bb.jsxs)(Fe, {
    flexDirection: 'column',
    borderStyle: 'round',
    borderColor: 'yellow',
    padding: 1,
    width: '100%',
    marginLeft: 1,
    children: [
      (0, Bb.jsxs)(Fe, {
        marginBottom: 1,
        flexDirection: 'column',
        children: [
          (0, Bb.jsxs)(Se, {
            children: [
              (0, Bb.jsx)(Se, { color: 'yellow', children: '> ' }),
              `Do you want to connect ${r ?? 'your'} editor to Koda CLI?`,
            ],
          }),
          (0, Bb.jsx)(Se, { dimColor: !0, children: s }),
        ],
      }),
      (0, Bb.jsx)(Fl, { items: a, onSelect: e }),
    ],
  });
}
var rU = qe(or(), 1);
import { exec as sur } from 'node:child_process';
import our from 'node:fs';
import LMn from 'node:fs/promises';
import FMn from 'path';
function lur(t) {
  let [e, r] = (0, rU.useState)(void 0),
    n = (0, rU.useCallback)(
      () =>
        sur('git rev-parse --abbrev-ref HEAD', { cwd: t }, (i, a, s) => {
          if (i) {
            r(void 0);
            return;
          }
          let o = a.toString().trim();
          o && o !== 'HEAD'
            ? r(o)
            : sur('git rev-parse --short HEAD', { cwd: t }, (l, u, c) => {
                if (l) {
                  r(void 0);
                  return;
                }
                r(u.toString().trim());
              });
        }),
      [t, r]
    );
  return (
    (0, rU.useEffect)(() => {
      n();
      let i = FMn.join(t, '.git', 'logs', 'HEAD'),
        a;
      return (
        (async () => {
          try {
            (await LMn.access(i, our.constants.F_OK),
              (a = our.watch(i, (o) => {
                (o === 'change' || o === 'rename') && n();
              })));
          } catch {}
        })(),
        () => {
          a?.close();
        }
      );
    }, [t, n]),
    e
  );
}
var uur = qe(or(), 1);
var PMn = '\x1B[?2004h',
  QMn = '\x1B[?2004l',
  cur = () => {
    let t = () => {
      process.stdout.write(QMn);
    };
    (0, uur.useEffect)(
      () => (
        process.stdout.write(PMn),
        process.on('exit', t),
        process.on('SIGINT', t),
        process.on('SIGTERM', t),
        () => {
          (t(),
            process.removeListener('exit', t),
            process.removeListener('SIGINT', t),
            process.removeListener('SIGTERM', t));
        }
      ),
      []
    );
  };
var b3 = qe(or(), 1);
var fur = qe(Ft(), 1);
var dur = (0, b3.createContext)(void 0),
  pur = ({ children: t, settings: e }) => {
    let r = e.merged.vimMode ?? !1,
      [n, i] = (0, b3.useState)(r),
      [a, s] = (0, b3.useState)(r ? 'NORMAL' : 'INSERT');
    (0, b3.useEffect)(() => {
      let u = e.merged.vimMode ?? !1;
      (i(u), u && s('NORMAL'));
    }, [e.merged.vimMode]);
    let o = (0, b3.useCallback)(async () => {
        let u = !n;
        return (i(u), u && s('NORMAL'), await e.setValue('User', 'vimMode', u), u);
      }, [n, e]),
      l = { vimEnabled: n, vimMode: a, toggleVimEnabled: o, setVimMode: s };
    return (0, fur.jsx)(dur.Provider, { value: l, children: t });
  },
  nU = () => {
    let t = (0, b3.useContext)(dur);
    if (t === void 0) throw new Error('useVimMode must be used within a VimModeProvider');
    return t;
  };
var kA = qe(or(), 1);
var kMn = 10,
  UMn = 1,
  HMn = /^[1-9]$/,
  Da = {
    DELETE_WORD_FORWARD: 'dw',
    DELETE_WORD_BACKWARD: 'db',
    DELETE_WORD_END: 'de',
    CHANGE_WORD_FORWARD: 'cw',
    CHANGE_WORD_BACKWARD: 'cb',
    CHANGE_WORD_END: 'ce',
    DELETE_CHAR: 'x',
    DELETE_LINE: 'dd',
    CHANGE_LINE: 'cc',
    DELETE_TO_EOL: 'D',
    CHANGE_TO_EOL: 'C',
    CHANGE_MOVEMENT: { LEFT: 'ch', DOWN: 'cj', UP: 'ck', RIGHT: 'cl' },
  },
  mur = () => ({ count: 0, pendingOperator: null }),
  VMn = { mode: 'NORMAL', count: 0, pendingOperator: null, lastCommand: null },
  GMn = (t, e) => {
    switch (e.type) {
      case 'SET_MODE':
        return { ...t, mode: e.mode };
      case 'SET_COUNT':
        return { ...t, count: e.count };
      case 'INCREMENT_COUNT':
        return { ...t, count: t.count * kMn + e.digit };
      case 'CLEAR_COUNT':
        return { ...t, count: 0 };
      case 'SET_PENDING_OPERATOR':
        return { ...t, pendingOperator: e.operator };
      case 'SET_LAST_COMMAND':
        return { ...t, lastCommand: e.command };
      case 'CLEAR_PENDING_STATES':
        return { ...t, ...mur() };
      case 'ESCAPE_TO_NORMAL':
        return { ...t, ...mur() };
      default:
        return t;
    }
  };
function hur(t, e) {
  let { vimEnabled: r, vimMode: n, setVimMode: i } = nU(),
    [a, s] = (0, kA.useReducer)(GMn, VMn);
  (0, kA.useEffect)(() => {
    s({ type: 'SET_MODE', mode: n });
  }, [n]);
  let o = (0, kA.useCallback)(
      (v) => {
        (i(v), s({ type: 'SET_MODE', mode: v }));
      },
      [i]
    ),
    l = (0, kA.useCallback)(() => a.count || UMn, [a.count]),
    u = (0, kA.useCallback)(
      (v, g) => {
        switch (v) {
          case Da.DELETE_WORD_FORWARD: {
            t.vimDeleteWordForward(g);
            break;
          }
          case Da.DELETE_WORD_BACKWARD: {
            t.vimDeleteWordBackward(g);
            break;
          }
          case Da.DELETE_WORD_END: {
            t.vimDeleteWordEnd(g);
            break;
          }
          case Da.CHANGE_WORD_FORWARD: {
            (t.vimChangeWordForward(g), o('INSERT'));
            break;
          }
          case Da.CHANGE_WORD_BACKWARD: {
            (t.vimChangeWordBackward(g), o('INSERT'));
            break;
          }
          case Da.CHANGE_WORD_END: {
            (t.vimChangeWordEnd(g), o('INSERT'));
            break;
          }
          case Da.DELETE_CHAR: {
            t.vimDeleteChar(g);
            break;
          }
          case Da.DELETE_LINE: {
            t.vimDeleteLine(g);
            break;
          }
          case Da.CHANGE_LINE: {
            (t.vimChangeLine(g), o('INSERT'));
            break;
          }
          case Da.CHANGE_MOVEMENT.LEFT:
          case Da.CHANGE_MOVEMENT.DOWN:
          case Da.CHANGE_MOVEMENT.UP:
          case Da.CHANGE_MOVEMENT.RIGHT: {
            let S = {
              [Da.CHANGE_MOVEMENT.LEFT]: 'h',
              [Da.CHANGE_MOVEMENT.DOWN]: 'j',
              [Da.CHANGE_MOVEMENT.UP]: 'k',
              [Da.CHANGE_MOVEMENT.RIGHT]: 'l',
            }[v];
            S && (t.vimChangeMovement(S, g), o('INSERT'));
            break;
          }
          case Da.DELETE_TO_EOL: {
            t.vimDeleteToEndOfLine();
            break;
          }
          case Da.CHANGE_TO_EOL: {
            (t.vimChangeToEndOfLine(), o('INSERT'));
            break;
          }
          default:
            return !1;
        }
        return !0;
      },
      [t, o]
    ),
    c = (0, kA.useCallback)(
      (v) => {
        if (v.name === 'escape')
          return (t.vimEscapeInsertMode(), s({ type: 'ESCAPE_TO_NORMAL' }), o('NORMAL'), !0);
        if (
          v.name === 'tab' ||
          (v.name === 'return' && !v.ctrl) ||
          v.name === 'up' ||
          v.name === 'down' ||
          (v.ctrl && v.name === 'r') ||
          (v.ctrl && v.name === 'v') ||
          (v.sequence === '!' && t.text.length === 0)
        )
          return !1;
        if (v.name === 'return' && !v.ctrl && !v.meta) {
          if (t.text.trim() && e) {
            let g = t.text;
            return (t.setText(''), e(g), !0);
          }
          return !0;
        }
        return (t.handleInput(v), !0);
      },
      [t, s, o, e]
    ),
    p = (0, kA.useCallback)(
      (v) => ({
        name: v.name || '',
        sequence: v.sequence || '',
        ctrl: v.ctrl || !1,
        meta: v.meta || !1,
        shift: v.shift || !1,
        paste: v.paste || !1,
      }),
      []
    ),
    h = (0, kA.useCallback)(
      (v) => {
        let g = l();
        (s({ type: 'CLEAR_COUNT' }), t.vimChangeMovement(v, g), o('INSERT'));
        let _ = {
          h: Da.CHANGE_MOVEMENT.LEFT,
          j: Da.CHANGE_MOVEMENT.DOWN,
          k: Da.CHANGE_MOVEMENT.UP,
          l: Da.CHANGE_MOVEMENT.RIGHT,
        };
        return (
          s({ type: 'SET_LAST_COMMAND', command: { type: _[v], count: g } }),
          s({ type: 'SET_PENDING_OPERATOR', operator: null }),
          !0
        );
      },
      [l, s, t, o]
    ),
    m = (0, kA.useCallback)(
      (v, g) => {
        let _ = l(),
          b = {
            d: { w: Da.DELETE_WORD_FORWARD, b: Da.DELETE_WORD_BACKWARD, e: Da.DELETE_WORD_END },
            c: { w: Da.CHANGE_WORD_FORWARD, b: Da.CHANGE_WORD_BACKWARD, e: Da.CHANGE_WORD_END },
          }[v][g];
        return (
          u(b, _),
          s({ type: 'SET_LAST_COMMAND', command: { type: b, count: _ } }),
          s({ type: 'CLEAR_COUNT' }),
          s({ type: 'SET_PENDING_OPERATOR', operator: null }),
          !0
        );
      },
      [l, u, s]
    ),
    E = (0, kA.useCallback)(
      (v) => {
        if (!r) return !1;
        let g;
        try {
          g = p(v);
        } catch (_) {
          return (console.warn('Malformed key input in vim mode:', v, _), !1);
        }
        if (a.mode === 'INSERT') return c(g);
        if (a.mode === 'NORMAL') {
          if (g.name === 'escape')
            return a.pendingOperator ? (s({ type: 'CLEAR_PENDING_STATES' }), !0) : !1;
          if (HMn.test(g.sequence) || (g.sequence === '0' && a.count > 0))
            return (s({ type: 'INCREMENT_COUNT', digit: parseInt(g.sequence, 10) }), !0);
          let _ = l();
          switch (g.sequence) {
            case 'h':
              return a.pendingOperator === 'c'
                ? h('h')
                : (t.vimMoveLeft(_), s({ type: 'CLEAR_COUNT' }), !0);
            case 'j':
              return a.pendingOperator === 'c'
                ? h('j')
                : (t.vimMoveDown(_), s({ type: 'CLEAR_COUNT' }), !0);
            case 'k':
              return a.pendingOperator === 'c'
                ? h('k')
                : (t.vimMoveUp(_), s({ type: 'CLEAR_COUNT' }), !0);
            case 'l':
              return a.pendingOperator === 'c'
                ? h('l')
                : (t.vimMoveRight(_), s({ type: 'CLEAR_COUNT' }), !0);
            case 'w':
              return a.pendingOperator === 'd'
                ? m('d', 'w')
                : a.pendingOperator === 'c'
                  ? m('c', 'w')
                  : (t.vimMoveWordForward(_), s({ type: 'CLEAR_COUNT' }), !0);
            case 'b':
              return a.pendingOperator === 'd'
                ? m('d', 'b')
                : a.pendingOperator === 'c'
                  ? m('c', 'b')
                  : (t.vimMoveWordBackward(_), s({ type: 'CLEAR_COUNT' }), !0);
            case 'e':
              return a.pendingOperator === 'd'
                ? m('d', 'e')
                : a.pendingOperator === 'c'
                  ? m('c', 'e')
                  : (t.vimMoveWordEnd(_), s({ type: 'CLEAR_COUNT' }), !0);
            case 'x':
              return (
                t.vimDeleteChar(_),
                s({ type: 'SET_LAST_COMMAND', command: { type: Da.DELETE_CHAR, count: _ } }),
                s({ type: 'CLEAR_COUNT' }),
                !0
              );
            case 'i':
              return (t.vimInsertAtCursor(), o('INSERT'), s({ type: 'CLEAR_COUNT' }), !0);
            case 'a':
              return (t.vimAppendAtCursor(), o('INSERT'), s({ type: 'CLEAR_COUNT' }), !0);
            case 'o':
              return (t.vimOpenLineBelow(), o('INSERT'), s({ type: 'CLEAR_COUNT' }), !0);
            case 'O':
              return (t.vimOpenLineAbove(), o('INSERT'), s({ type: 'CLEAR_COUNT' }), !0);
            case '0':
              return (t.vimMoveToLineStart(), s({ type: 'CLEAR_COUNT' }), !0);
            case '$':
              return (t.vimMoveToLineEnd(), s({ type: 'CLEAR_COUNT' }), !0);
            case '^':
              return (t.vimMoveToFirstNonWhitespace(), s({ type: 'CLEAR_COUNT' }), !0);
            case 'g':
              return (
                a.pendingOperator === 'g'
                  ? (t.vimMoveToFirstLine(), s({ type: 'SET_PENDING_OPERATOR', operator: null }))
                  : s({ type: 'SET_PENDING_OPERATOR', operator: 'g' }),
                s({ type: 'CLEAR_COUNT' }),
                !0
              );
            case 'G':
              return (
                a.count > 0 ? t.vimMoveToLine(a.count) : t.vimMoveToLastLine(),
                s({ type: 'CLEAR_COUNT' }),
                !0
              );
            case 'I':
              return (t.vimInsertAtLineStart(), o('INSERT'), s({ type: 'CLEAR_COUNT' }), !0);
            case 'A':
              return (t.vimAppendAtLineEnd(), o('INSERT'), s({ type: 'CLEAR_COUNT' }), !0);
            case 'd': {
              if (a.pendingOperator === 'd') {
                let S = l();
                (u(Da.DELETE_LINE, S),
                  s({ type: 'SET_LAST_COMMAND', command: { type: Da.DELETE_LINE, count: S } }),
                  s({ type: 'CLEAR_COUNT' }),
                  s({ type: 'SET_PENDING_OPERATOR', operator: null }));
              } else s({ type: 'SET_PENDING_OPERATOR', operator: 'd' });
              return !0;
            }
            case 'c': {
              if (a.pendingOperator === 'c') {
                let S = l();
                (u(Da.CHANGE_LINE, S),
                  s({ type: 'SET_LAST_COMMAND', command: { type: Da.CHANGE_LINE, count: S } }),
                  s({ type: 'CLEAR_COUNT' }),
                  s({ type: 'SET_PENDING_OPERATOR', operator: null }));
              } else s({ type: 'SET_PENDING_OPERATOR', operator: 'c' });
              return !0;
            }
            case 'D':
              return (
                u(Da.DELETE_TO_EOL, 1),
                s({ type: 'SET_LAST_COMMAND', command: { type: Da.DELETE_TO_EOL, count: 1 } }),
                s({ type: 'CLEAR_COUNT' }),
                !0
              );
            case 'C':
              return (
                u(Da.CHANGE_TO_EOL, 1),
                s({ type: 'SET_LAST_COMMAND', command: { type: Da.CHANGE_TO_EOL, count: 1 } }),
                s({ type: 'CLEAR_COUNT' }),
                !0
              );
            case '.': {
              if (a.lastCommand) {
                let S = a.lastCommand;
                u(S.type, S.count);
              }
              return (s({ type: 'CLEAR_COUNT' }), !0);
            }
            default:
              return g.name === 'left'
                ? a.pendingOperator === 'c'
                  ? h('h')
                  : (t.vimMoveLeft(_), s({ type: 'CLEAR_COUNT' }), !0)
                : g.name === 'down'
                  ? a.pendingOperator === 'c'
                    ? h('j')
                    : (t.vimMoveDown(_), s({ type: 'CLEAR_COUNT' }), !0)
                  : g.name === 'up'
                    ? a.pendingOperator === 'c'
                      ? h('k')
                      : (t.vimMoveUp(_), s({ type: 'CLEAR_COUNT' }), !0)
                    : g.name === 'right'
                      ? a.pendingOperator === 'c'
                        ? h('l')
                        : (t.vimMoveRight(_), s({ type: 'CLEAR_COUNT' }), !0)
                      : (s({ type: 'CLEAR_PENDING_STATES' }), !0);
          }
        }
        return !1;
      },
      [r, p, c, a.mode, a.count, a.pendingOperator, a.lastCommand, s, l, h, m, t, u, o]
    );
  return { mode: a.mode, vimModeEnabled: r, handleInput: E };
}
import * as TAe from 'fs';
var ZGe = qe(Ft(), 1);
var Aur = ({ message: t }) =>
  (0, ZGe.jsx)(Fe, {
    borderStyle: 'round',
    borderColor: Ue.AccentYellow,
    paddingX: 1,
    marginY: 1,
    children: (0, ZGe.jsx)(Se, { color: Ue.AccentYellow, children: t }),
  });
Qn();
var eqe = qe(Ft(), 1);
var DAe = ({ constrainHeight: t }) => {
  let e = Qar(),
    r = Nk();
  return e === void 0 ||
    e.overflowingIds.size === 0 ||
    !t ||
    !(r === 'idle' || r === 'waiting_for_confirmation')
    ? null
    : (0, eqe.jsx)(Fe, {
        children: (0, eqe.jsx)(Se, {
          color: Ue.Gray,
          wrap: 'truncate',
          children: 'Press ctrl-s to show more lines',
        }),
      });
};
Qn();
var iU = qe(or(), 1);
Qn();
var Eur = (t) => {
  let [e, r] = (0, iU.useState)({ isLoading: !0 });
  (0, iU.useEffect)(() => {
    (async () => {
      r({ isLoading: !0 });
      try {
        let a = gur(t);
        if ((await qMn(a)) !== oh.FREE) {
          r({ isLoading: !1, isFreeTier: !1 });
          return;
        }
        let o = await $Mn(a);
        r({ isLoading: !1, isFreeTier: !0, dataCollectionOptIn: o });
      } catch (a) {
        r({ isLoading: !1, error: a instanceof Error ? a.message : String(a) });
      }
    })();
  }, [t]);
  let n = (0, iU.useCallback)(
    async (i) => {
      try {
        let a = gur(t),
          s = await jMn(a, i);
        r({ isLoading: !1, isFreeTier: !0, dataCollectionOptIn: s });
      } catch (a) {
        r({ isLoading: !1, error: a instanceof Error ? a.message : String(a) });
      }
    },
    [t]
  );
  return { privacyState: e, updateDataCollectionOptIn: n };
};
function gur(t) {
  let e = t.getGeminiClient().getContentGenerator();
  if (e instanceof Nv) {
    if (!e.projectId) throw new Error('Oauth not being used');
  } else throw new Error('Oauth not being used');
  return e;
}
async function qMn(t) {
  let e = await t.loadCodeAssist({
    cloudaicompanionProject: t.projectId,
    metadata: {
      ideType: 'IDE_UNSPECIFIED',
      platform: 'PLATFORM_UNSPECIFIED',
      pluginType: 'GEMINI',
      duetProject: t.projectId,
    },
  });
  if (!e.currentTier) throw new Error('User does not have a current tier');
  return e.currentTier.id;
}
async function $Mn(t) {
  try {
    return (await t.getCodeAssistGlobalUserSetting()).freeTierDataCollectionOptin;
  } catch (e) {
    if (e && typeof e == 'object' && 'response' in e && e.response?.status === 404) return !0;
    throw e;
  }
}
async function jMn(t, e) {
  return (
    await t.setCodeAssistGlobalUserSetting({
      cloudaicompanionProject: t.projectId,
      freeTierDataCollectionOptin: e,
    })
  ).freeTierDataCollectionOptin;
}
var W0 = qe(Ft(), 1);
var yur = ({ onExit: t }) => (
  ja(
    (e) => {
      e.name === 'escape' && t();
    },
    { isActive: !0 }
  ),
  (0, W0.jsxs)(Fe, {
    flexDirection: 'column',
    marginBottom: 1,
    children: [
      (0, W0.jsx)(Se, { bold: !0, color: Ue.AccentPurple, children: 'Vertex AI Notice' }),
      (0, W0.jsx)(Uh, {}),
      (0, W0.jsxs)(Se, {
        children: [
          'Service Specific Terms',
          (0, W0.jsx)(Se, { color: Ue.AccentBlue, children: '[1]' }),
          ' are incorporated into the agreement under which Google has agreed to provide Google Cloud Platform',
          (0, W0.jsx)(Se, { color: Ue.AccentGreen, children: '[2]' }),
          ' to Customer (the Agreement). If the Agreement authorizes the resale or supply of Google Cloud Platform under a Google Cloud partner or reseller program, then except for in the section entitled Partner-Specific Terms, all references to Customer in the Service Specific Terms mean Partner or Reseller (as applicable), and all references to Customer Data in the Service Specific Terms mean Partner Data. Capitalized terms used but not defined in the Service Specific Terms have the meaning given to them in the Agreement.',
        ],
      }),
      (0, W0.jsx)(Uh, {}),
      (0, W0.jsxs)(Se, {
        children: [
          (0, W0.jsx)(Se, { color: Ue.AccentBlue, children: '[1]' }),
          ' ',
          'https://cloud.google.com/terms/service-terms',
        ],
      }),
      (0, W0.jsxs)(Se, {
        children: [
          (0, W0.jsx)(Se, { color: Ue.AccentGreen, children: '[2]' }),
          ' ',
          'https://cloud.google.com/terms/services',
        ],
      }),
      (0, W0.jsx)(Uh, {}),
      (0, W0.jsx)(Se, { color: Ue.Gray, children: 'Press Esc to exit.' }),
    ],
  })
);
var kl = qe(Ft(), 1);
var vur = ({ config: t, onExit: e }) => {
  let { privacyState: r, updateDataCollectionOptIn: n } = Eur(t);
  if (
    (ja(
      (a) => {
        r.error && a.name === 'escape' && e();
      },
      { isActive: !0 }
    ),
    r.isLoading)
  )
    return (0, kl.jsx)(Se, { color: Ue.Gray, children: 'Loading...' });
  if (r.error)
    return (0, kl.jsxs)(Fe, {
      flexDirection: 'column',
      marginY: 1,
      children: [
        (0, kl.jsxs)(Se, {
          color: Ue.AccentRed,
          children: ['Error loading Opt-in settings: ', r.error],
        }),
        (0, kl.jsx)(Se, { color: Ue.Gray, children: 'Press Esc to exit.' }),
      ],
    });
  if (r.isFreeTier === !1) return (0, kl.jsx)(yur, { onExit: e });
  let i = [
    { label: 'Yes', value: !0 },
    { label: 'No', value: !1 },
  ];
  return (0, kl.jsxs)(Fe, {
    flexDirection: 'column',
    marginY: 1,
    children: [
      (0, kl.jsx)(Se, {
        bold: !0,
        color: Ue.AccentPurple,
        children: 'Gemini Code Assist for Individuals Privacy Notice',
      }),
      (0, kl.jsx)(Uh, {}),
      (0, kl.jsxs)(Se, {
        children: [
          'This notice and our Privacy Policy',
          (0, kl.jsx)(Se, { color: Ue.AccentBlue, children: '[1]' }),
          ' describe how Gemini Code Assist handles your data. Please read them carefully.',
        ],
      }),
      (0, kl.jsx)(Uh, {}),
      (0, kl.jsx)(Se, {
        children:
          'When you use Gemini Code Assist for individuals with Gemini CLI, Google collects your prompts, related code, generated output, code edits, related feature usage information, and your feedback to provide, improve, and develop Google products and services and machine learning technologies.',
      }),
      (0, kl.jsx)(Uh, {}),
      (0, kl.jsx)(Se, {
        children:
          "To help with quality and improve our products (such as generative machine-learning models), human reviewers may read, annotate, and process the data collected above. We take steps to protect your privacy as part of this process. This includes disconnecting the data from your Google Account before reviewers see or annotate it, and storing those disconnected copies for up to 18 months. Please don't submit confidential information or any data you wouldn't want a reviewer to see or Google to use to improve our products, services and machine-learning technologies.",
      }),
      (0, kl.jsx)(Uh, {}),
      (0, kl.jsxs)(Fe, {
        flexDirection: 'column',
        children: [
          (0, kl.jsx)(Se, {
            children: 'Allow Google to use this data to develop and improve our products?',
          }),
          (0, kl.jsx)(Fl, {
            items: i,
            initialIndex: r.dataCollectionOptIn ? 0 : 1,
            onSelect: (a) => {
              (n(a), r.error || e());
            },
          }),
        ],
      }),
      (0, kl.jsx)(Uh, {}),
      (0, kl.jsxs)(Se, {
        children: [
          (0, kl.jsx)(Se, { color: Ue.AccentBlue, children: '[1]' }),
          ' ',
          'https://policies.google.com/privacy',
        ],
      }),
      (0, kl.jsx)(Uh, {}),
      (0, kl.jsx)(Se, { color: Ue.Gray, children: 'Press Enter to choose an option and exit.' }),
    ],
  });
};
var wAe = qe(Ft(), 1);
var YMn = ({ config: t, onExit: e }) => {
    switch (t.getContentGeneratorConfig()?.authType) {
      case hn.LOGIN_WITH_GITHUB:
        return (0, wAe.jsx)(vur, { config: t, onExit: e });
      case hn.WITHOUT_AUTH:
      default:
        return null;
    }
  },
  Cur = ({ onExit: t, config: e }) =>
    (0, wAe.jsx)(Fe, {
      borderStyle: 'round',
      padding: 1,
      flexDirection: 'column',
      children: (0, wAe.jsx)(YMn, { config: e, onExit: t }),
    });
var kJ = qe(or(), 1);
function _ur() {
  let [t, e] = (0, kJ.useState)(!1),
    r = (0, kJ.useCallback)(() => {
      e(!0);
    }, []),
    n = (0, kJ.useCallback)(() => {
      e(!1);
    }, []);
  return { isSettingsDialogOpen: t, openSettingsDialog: r, closeSettingsDialog: n };
}
var jf = qe(or(), 1);
var tqe = qe(or(), 1);
var gd = qe(Ft(), 1);
function Sur({ settings: t, selectedScope: e, onSave: r, isActive: n = !1, onToggle: i }) {
  let a = t.forScope(e).settings.language || 'ru',
    [s, o] = (0, tqe.useState)(!1),
    [l, u] = (0, tqe.useState)(a || 'ru');
  Xge((v, g) => {
    s
      ? v === '1'
        ? p('en')
        : v === '2'
          ? p('ru')
          : g.escape && o(!1)
      : n && (g.return || v === ' ') && c();
  });
  let c = () => {
      (i && i(), o(!0));
    },
    p = (v) => {
      (u(v), t.setValue(e, 'language', v), Ie.setLanguage(v), o(!1), r());
    },
    h = Vk('language'),
    m = t.forScope(e).settings.language || 'ru',
    E = m === 'en' ? 'English' : m === 'ru' ? 'Russian' : m;
  return s
    ? (0, gd.jsxs)(Fe, {
        flexDirection: 'column',
        children: [
          (0, gd.jsx)(Se, {
            bold: !0,
            color: Ue.Foreground,
            children: Ie.t('languageSetting.selectLanguage'),
          }),
          (0, gd.jsxs)(Fe, {
            flexDirection: 'row',
            alignItems: 'center',
            children: [
              (0, gd.jsx)(Fe, {
                minWidth: 2,
                flexShrink: 0,
                children: (0, gd.jsx)(Se, {
                  color: l === 'en' ? Ue.AccentGreen : Ue.Gray,
                  children: l === 'en' ? '' : '',
                }),
              }),
              (0, gd.jsxs)(Se, {
                color: l === 'en' ? Ue.AccentGreen : Ue.Foreground,
                children: [
                  Ie.t('languageSetting.english'),
                  ' (',
                  Ie.t('languageSetting.pressToSelect', { key: '1' }),
                  ')',
                ],
              }),
            ],
          }),
          (0, gd.jsxs)(Fe, {
            flexDirection: 'row',
            alignItems: 'center',
            children: [
              (0, gd.jsx)(Fe, {
                minWidth: 2,
                flexShrink: 0,
                children: (0, gd.jsx)(Se, {
                  color: l === 'ru' ? Ue.AccentGreen : Ue.Gray,
                  children: l === 'ru' ? '' : '',
                }),
              }),
              (0, gd.jsxs)(Se, {
                color: l === 'ru' ? Ue.AccentGreen : Ue.Foreground,
                children: [
                  Ie.t('languageSetting.russian'),
                  ' (',
                  Ie.t('languageSetting.pressToSelect', { key: '2' }),
                  ')',
                ],
              }),
            ],
          }),
          (0, gd.jsx)(Se, { color: Ue.Gray, children: Ie.t('languageSetting.pressEscToCancel') }),
        ],
      })
    : (0, gd.jsxs)(Fe, {
        flexDirection: 'row',
        alignItems: 'center',
        children: [
          (0, gd.jsx)(Fe, {
            minWidth: 2,
            flexShrink: 0,
            children: (0, gd.jsx)(Se, {
              color: n ? Ue.AccentGreen : Ue.Gray,
              children: n ? '' : '',
            }),
          }),
          (0, gd.jsx)(Fe, {
            minWidth: 50,
            children: (0, gd.jsxs)(Se, {
              color: n ? Ue.AccentGreen : Ue.Foreground,
              children: [
                h?.labelKey ? Ie.t(h.labelKey) : Ie.t(h?.label || 'Language'),
                ' ',
                '(',
                Ie.t('languageSetting.pressEnterToChange'),
                ')',
              ],
            }),
          }),
          (0, gd.jsx)(Fe, { minWidth: 3 }),
          (0, gd.jsxs)(Se, { color: Ue.Foreground, children: [E, ' '] }),
        ],
      });
}
var Uo = qe(Ft(), 1);
var IAe = 8;
function bur({ settings: t, onSelect: e, onRestartRequest: r }) {
  let { vimEnabled: n, toggleVimEnabled: i } = nU(),
    [a, s] = (0, jf.useState)('settings'),
    [o, l] = (0, jf.useState)('User'),
    [u, c] = (0, jf.useState)(0),
    [p, h] = (0, jf.useState)(0),
    [m, E] = (0, jf.useState)(!1),
    [v, g] = (0, jf.useState)(() => structuredClone(t.forScope(o).settings)),
    [_, S] = (0, jf.useState)(new Set()),
    [b, I] = (0, jf.useState)(new Map()),
    [R, F] = (0, jf.useState)(new Set());
  ((0, jf.useEffect)(() => {
    (g(structuredClone(t.forScope(o).settings)), R.size === 0 && E(!1));
  }, [o, t, R]),
    (0, jf.useEffect)(() => {
      _.size > 0 &&
        g((H) => {
          let ee = { ...H };
          return (
            _.forEach((me) => {
              let Ae = b.get(me);
              Ae !== void 0 && (ee = Cb(me, Ae, ee));
            }),
            ee
          );
        });
    }, [o, _, b, t]));
  let U = jar().map((ee) => {
      let me = Hhe(ee, v, {}),
        Ae = Vk(ee);
      return {
        label: Ae?.labelKey ? Ie.t(Ae.labelKey) : Ie.t(Ae?.label || ee),
        value: ee,
        checked: me,
        toggle: () => {
          let X = !me;
          if ((g((re) => Cb(ee, X, re)), SJ(ee)))
            (I((re) => {
              let de = new Map(re);
              return (de.set(ee, X), de);
            }),
              S((re) => {
                let de = new Set(re).add(ee),
                  ye = FVe(de);
                return (
                  console.log(
                    '[DEBUG SettingsDialog] Modified settings:',
                    Array.from(de),
                    'Needs restart:',
                    ye
                  ),
                  ye && (E(!0), F((he) => new Set(he).add(ee))),
                  de
                );
              }));
          else {
            let re = new Set([ee]),
              de = Cb(ee, X, {});
            (console.log(`[DEBUG SettingsDialog] Saving ${ee} immediately with value:`, X),
              Ghe(re, de, t, o),
              ee === 'vimMode' &&
                X !== n &&
                i().catch((he) => {
                  console.error('Failed to toggle vim mode:', he);
                }));
            let ye = new Set(_);
            (S((he) => {
              let be = new Set(he);
              return (be.delete(ee), be);
            }),
              I((he) => {
                let be = new Map(he);
                return (be.delete(ee), be);
              }),
              F((he) => {
                let be = new Set(he);
                return (be.delete(ee), be);
              }),
              g((he) => {
                let be = structuredClone(t.forScope(o).settings);
                return (
                  ye.forEach((De) => {
                    if (De !== ee) {
                      let ce = b.get(De);
                      ce !== void 0 && (be = Cb(De, ce, be));
                    }
                  }),
                  be
                );
              }));
          }
        },
      };
    }),
    M = Gk(),
    Y = (H) => {
      l(H);
    },
    z = (H) => {
      (Y(H), s('settings'));
    },
    se = U.slice(p, p + IAe),
    j = !0,
    N = !0;
  return (
    ja(
      (H) => {
        let { name: ee, ctrl: me } = H;
        if (
          (ee === 'tab' && s((Ae) => (Ae === 'settings' ? 'scope' : 'settings')), a === 'settings')
        ) {
          if (ee === 'up' || ee === 'k') {
            let Ae = u > 0 ? u - 1 : U.length - 1;
            (c(Ae), Ae === U.length - 1 ? h(Math.max(0, U.length - IAe)) : Ae < p && h(Ae));
          } else if (ee === 'down' || ee === 'j') {
            let Ae = u < U.length - 1 ? u + 1 : 0;
            (c(Ae), Ae === 0 ? h(0) : Ae >= p + IAe && h(Ae - IAe + 1));
          } else if (ee === 'return' || ee === 'space') U[u]?.toggle();
          else if (me && (ee === 'c' || ee === 'l')) {
            let Ae = U[u];
            if (Ae) {
              let X = CJ(Ae.value),
                re = typeof X == 'boolean' ? X : !1;
              if (
                (g((de) => Cb(Ae.value, re, de)),
                S((de) => {
                  let ye = new Set(de);
                  return (ye.delete(Ae.value), ye);
                }),
                F((de) => {
                  let ye = new Set(de);
                  return (ye.delete(Ae.value), ye);
                }),
                !SJ(Ae.value))
              ) {
                let de = new Set([Ae.value]),
                  ye = Cb(Ae.value, re, {});
                Ghe(de, ye, t, o);
              }
            }
          }
        }
        if (m && ee === 'r') {
          let Ae = War(_),
            X = new Set(Ae);
          (X.size > 0 && Ghe(X, v, t, o), E(!1), F(new Set()), r && r());
        }
        ee === 'escape' && e(void 0, o);
      },
      { isActive: !0 }
    ),
    (0, Uo.jsx)(Fe, {
      borderStyle: 'round',
      borderColor: Ue.Gray,
      flexDirection: 'row',
      padding: 1,
      width: '100%',
      height: '100%',
      children: (0, Uo.jsxs)(Fe, {
        flexDirection: 'column',
        flexGrow: 1,
        children: [
          (0, Uo.jsx)(Se, { bold: !0, color: Ue.AccentBlue, children: Ie.t('app.settings.title') }),
          (0, Uo.jsx)(Fe, { height: 1 }),
          j && (0, Uo.jsx)(Se, { color: Ue.Gray, children: '' }),
          se.map((H, ee) => {
            let me = a === 'settings' && u === ee + p,
              Ae = t.forScope(o).settings,
              X = t.merged,
              re = zar(H.value, Ae, X, _, v),
              de = Jar(H.value, Ae),
              ye = qhe(H.value, o, t);
            return H.value === 'language'
              ? (0, Uo.jsxs)(
                  jf.default.Fragment,
                  {
                    children: [
                      (0, Uo.jsx)(Sur, {
                        settings: t,
                        selectedScope: o,
                        isActive: me,
                        onToggle: H.toggle,
                        onSave: () => {
                          S((he) => {
                            let be = new Set(he).add('language');
                            return (FVe(be) && (E(!0), F((ce) => new Set(ce).add('language'))), be);
                          });
                        },
                      }),
                      (0, Uo.jsx)(Fe, { height: 1 }),
                    ],
                  },
                  H.value
                )
              : (0, Uo.jsxs)(
                  jf.default.Fragment,
                  {
                    children: [
                      (0, Uo.jsxs)(Fe, {
                        flexDirection: 'row',
                        alignItems: 'center',
                        children: [
                          (0, Uo.jsx)(Fe, {
                            minWidth: 2,
                            flexShrink: 0,
                            children: (0, Uo.jsx)(Se, {
                              color: me ? Ue.AccentGreen : Ue.Gray,
                              children: me ? '' : '',
                            }),
                          }),
                          (0, Uo.jsx)(Fe, {
                            minWidth: 50,
                            children: (0, Uo.jsxs)(Se, {
                              color: me ? Ue.AccentGreen : Ue.Foreground,
                              children: [
                                H.label,
                                ye && (0, Uo.jsxs)(Se, { color: Ue.Gray, children: [' ', ye] }),
                              ],
                            }),
                          }),
                          (0, Uo.jsx)(Fe, { minWidth: 3 }),
                          (0, Uo.jsx)(Se, {
                            color: me ? Ue.AccentGreen : de ? Ue.Gray : Ue.Foreground,
                            children: re,
                          }),
                        ],
                      }),
                      (0, Uo.jsx)(Fe, { height: 1 }),
                    ],
                  },
                  H.value
                );
          }),
          N && (0, Uo.jsx)(Se, { color: Ue.Gray, children: '' }),
          (0, Uo.jsx)(Fe, { height: 1 }),
          (0, Uo.jsxs)(Fe, {
            marginTop: 1,
            flexDirection: 'column',
            children: [
              (0, Uo.jsxs)(Se, {
                bold: a === 'scope',
                wrap: 'truncate',
                children: [a === 'scope' ? '> ' : '  ', Ie.t('app.settings.applyTo')],
              }),
              (0, Uo.jsx)(Fl, {
                items: M,
                initialIndex: 0,
                onSelect: z,
                onHighlight: Y,
                isFocused: a === 'scope',
                showNumbers: a === 'scope',
              }),
            ],
          }),
          (0, Uo.jsx)(Fe, { height: 1 }),
          (0, Uo.jsx)(Se, { color: Ue.Gray, children: Ie.t('app.settings.enterSelectTabFocus') }),
          m &&
            (0, Uo.jsx)(Se, {
              color: Ue.AccentYellow,
              children: Ie.t('app.settings.restartRequired'),
            }),
        ],
      }),
    })
  );
}
Qn();
import { EventEmitter as WMn } from 'events';
var Yv = new WMn();
function Dur(t, e) {
  let r = !1,
    n = (o) => {
      e(o);
      let l = o.message;
      setTimeout(() => {
        (r || t({ type: 'info', text: l }, Date.now()), e(null));
      }, 6e4);
    },
    i = () => {
      (e(null),
        t(
          { type: 'error', text: 'Automatic update failed. Please try updating manually' },
          Date.now()
        ));
    },
    a = () => {
      ((r = !0),
        e(null),
        t(
          {
            type: 'info',
            text: 'Update successful! The new version will be used on your next run.',
          },
          Date.now()
        ));
    },
    s = (o) => {
      t({ type: 'info', text: o.message }, Date.now());
    };
  return (
    Yv.on('update-received', n),
    Yv.on('update-failed', i),
    Yv.on('update-success', a),
    Yv.on('update-info', s),
    () => {
      (Yv.off('update-received', n),
        Yv.off('update-failed', i),
        Yv.off('update-success', a),
        Yv.off('update-info', s));
    }
  );
}
import { EventEmitter as zMn } from 'events';
var Rb = new zMn();
import JMn from 'node:os';
import wur from 'node:path';
import { promises as KMn } from 'node:fs';
async function XMn() {
  try {
    let t = process.env.XDG_CONFIG_HOME || wur.join(JMn.homedir(), '.config'),
      e = wur.join(t, 'koda', 'credentials.json'),
      r = await KMn.readFile(e, 'utf-8'),
      n = JSON.parse(r);
    return (typeof n.githubToken == 'string' ? n.githubToken : '') || null;
  } catch {
    return null;
  }
}
function ZMn() {
  return `${process.env.KODA_API_BASE || 'https://api.kodacode.ru'}/ftc`;
}
async function rqe() {
  let t = process.env.KODA_GITHUB_TOKEN || process.env.GITHUB_TOKEN || null;
  if ((t || (t = await XMn()), !t)) return null;
  let e = ZMn(),
    r = {
      Accept: 'application/json',
      'Accept-Encoding': 'identity',
      'Content-Type': 'application/json',
      Authorization: `Bearer ${t}`,
    };
  try {
    let n = await fetch(e, {
      method: 'POST',
      headers: r,
      body: JSON.stringify({ ghAuthToken: t }),
    });
    if (!n.ok) return null;
    let i = await n.json(),
      a = Number(i.count ?? 0),
      s = Number(i.limit ?? 0);
    if (!Number.isFinite(a) || !Number.isFinite(s)) return null;
    let o = Math.max(0, a);
    return { count: o, limit: s, remaining: s - o };
  } catch {
    return null;
  }
}
var Sr = qe(Ft(), 1);
var tLn = 1e3,
  Iur = (t) =>
    (0, Sr.jsx)(XKt, {
      children: (0, Sr.jsx)(pur, { settings: t.settings, children: (0, Sr.jsx)(rLn, { ...t }) }),
    }),
  rLn = ({ config: t, settings: e, startupWarnings: r = [], version: n }) => {
    let i = eXt();
    cur();
    let [a, s] = (0, vr.useState)(null),
      { stdout: o } = rH(),
      l = n.includes('nightly'),
      { history: u, addItem: c, clearItems: p, loadHistory: h } = iur(),
      [m, E] = (0, vr.useState)(!1),
      v = t.getIdeClient().getCurrentIde();
    (0, vr.useEffect)(() => {
      yk(() => t.getIdeClient().disconnect());
    }, [t]);
    let g = v && !t.getIdeMode() && !e.merged.hasSeenIdeIntegrationNudge && !m;
    (0, vr.useEffect)(() => Dur(c, s), [c]);
    let { consoleMessages: _, handleNewMessage: S, clearConsoleMessages: b } = rrr();
    (0, vr.useEffect)(() => {
      let Vt = new Q9({ onNewMessage: S, debugMode: t.getDebugMode() });
      (Vt.patch(), yk(Vt.cleanup));
    }, [S, t]);
    let { stats: I } = zg(),
      [R, F] = (0, vr.useState)(!1),
      [G, U] = (0, vr.useState)(0),
      M = (0, vr.useCallback)(() => {
        (o.write(x5.clearTerminal), U((Vt) => Vt + 1));
      }, [U, o]),
      [Y, z] = (0, vr.useState)(0),
      [se, j] = (0, vr.useState)(''),
      [N, H] = (0, vr.useState)(null),
      [ee, me] = (0, vr.useState)(null),
      [Ae, X] = (0, vr.useState)(null),
      [re, de] = (0, vr.useState)(0),
      [ye, he] = (0, vr.useState)(!1),
      [be, De] = (0, vr.useState)(t.isTrustedFolder()),
      [ce, Ce] = (0, vr.useState)(t.getModel()),
      [J, te] = (0, vr.useState)(!1),
      [ie, pe] = (0, vr.useState)(!1),
      [ue, ve] = (0, vr.useState)(!1),
      [ae, k] = (0, vr.useState)(void 0),
      [$, fe] = (0, vr.useState)(void 0),
      [Z, Q] = (0, vr.useState)(!1),
      [ge, xe] = (0, vr.useState)(null),
      He = (0, vr.useRef)(null),
      [mt, Tt] = (0, vr.useState)(!1),
      jt = (0, vr.useRef)(null),
      ht = (0, vr.useRef)(!1),
      [vt, kt] = (0, vr.useState)(!0),
      [an, Jn] = (0, vr.useState)(!1),
      [fi, Ai] = (0, vr.useState)(!1),
      [da, Mi] = (0, vr.useState)(void 0),
      [Be, rt] = (0, vr.useState)(),
      [nt, Rt] = (0, vr.useState)(!1),
      [pr, br] = (0, vr.useState)(!1);
    ((0, vr.useEffect)(() => {
      let Vt = t3.subscribeToIdeContext(rt);
      return (rt(t3.getIdeContext()), Vt);
    }, []),
      (0, vr.useEffect)(() => {
        let Vt = () => {
          (pe(!0), kt(!1));
        };
        Rb.on('open-debug-console', Vt);
        let qn = (fa) => {
          S({ type: 'error', content: String(fa), count: 1 });
        };
        return (
          Rb.on('log-error', qn),
          () => {
            (Rb.off('open-debug-console', Vt), Rb.off('log-error', qn));
          }
        );
      }, [S]));
    let fr = (0, vr.useCallback)(() => {
        Jn(!0);
      }, []),
      Lr = (0, vr.useCallback)(
        (Vt) => {
          if (!Vt) {
            (k(void 0), fe(void 0), (ht.current = !1));
            return;
          }
          (k(Vt.count),
            fe(Vt.limit),
            Vt.limit > 0 && Vt.count >= Vt.limit
              ? ht.current ||
                (c({ type: 'info', text: Ie.t('app.trial.limitReached') }, Date.now()),
                (ht.current = !0))
              : (ht.current = !1));
        },
        [c, k, fe]
      ),
      Or = (0, vr.useCallback)((Vt) => {
        Rt(Vt);
      }, []),
      Zs = (0, vr.useRef)(!1),
      hl = (0, vr.useMemo)(
        () => _.filter((Vt) => Vt.type === 'error').reduce((Vt, qn) => Vt + qn.count, 0),
        [_]
      ),
      {
        isThemeDialogOpen: tc,
        openThemeDialog: kc,
        handleThemeSelect: Uc,
        handleThemeHighlight: cu,
      } = DXt(e, H, c),
      { isSettingsDialogOpen: eo, openSettingsDialog: zp, closeSettingsDialog: Jp } = _ur(),
      {
        isModelDialogOpen: Je,
        openModelDialog: $e,
        closeModelDialog: ot,
        models: Ct,
        loading: st,
        error: dr,
        unauthorizedUserError: Fr,
        handleModelSelect: Gn,
      } = QXt(t, e),
      { isFolderTrustDialogOpen: si, handleFolderTrustSelect: Is } = YXt(e, De),
      {
        isAuthDialogOpen: Kn,
        openAuthDialog: Ti,
        handleAuthSelect: hs,
        isAuthenticating: Yr,
        cancelAuthentication: xi,
        verificationUri: pa,
        userCode: ra,
      } = GXt(e, me, t);
    ((0, vr.useEffect)(() => {
      if (e.merged.selectedAuthType && !e.merged.useExternalAuth) {
        let Vt = Sb(e.merged.selectedAuthType);
        Vt && (me(Vt), Ti());
      }
    }, [e.merged.selectedAuthType, e.merged.useExternalAuth, Ti, me]),
      (0, vr.useEffect)(() => {
        Yr || Mi(t.getGeminiClient()?.getUserTier());
      }, [t, Yr]));
    let {
        isEditorDialogOpen: Al,
        openEditorDialog: Vs,
        handleEditorSelect: Ts,
        exitEditorDialog: Xn,
      } = WXt(e, X, c),
      Ho = (0, vr.useCallback)(() => {
        he((Vt) => !Vt);
      }, []),
      ga = (0, vr.useCallback)(async () => {
        c({ type: 'info', text: Ie.t('app.memory.refreshing') }, Date.now());
        try {
          let { memoryContent: Vt, fileCount: qn } = await $Ge(
            nqe.cwd(),
            e.merged.loadMemoryFromIncludeDirectories
              ? t.getWorkspaceContext().getDirectories()
              : [],
            t.getDebugMode(),
            t.getFileService(),
            e.merged,
            t.getExtensionContextFilePaths(),
            e.merged.memoryImportFormat || 'tree',
            t.getFileFilteringOptions()
          );
          (t.setUserMemory(Vt), t.setGeminiMdFileCount(qn), z(qn));
          let fa =
            Vt.length > 0
              ? Ie.t('app.memory.refreshSuccess', { charCount: Vt.length, fileCount: qn })
              : Ie.t('app.memory.refreshSuccessEmpty');
          (c({ type: 'info', text: fa }, Date.now()),
            t.getDebugMode() &&
              console.log(
                `[DEBUG] Refreshed memory content in config: ${Vt.substring(0, 200)}...`
              ));
        } catch (Vt) {
          let qn = ir(Vt);
          (c({ type: 'error', text: Ie.t('app.memory.refreshError', { error: qn }) }, Date.now()),
            console.error('Error refreshing memory:', Vt));
        }
      }, [t, c, e.merged]);
    ((0, vr.useEffect)(() => {
      let Vt = () => {
        let fa = t.getModel();
        fa !== ce && Ce(fa);
      };
      Vt();
      let qn = setInterval(Vt, 1e3);
      return () => clearInterval(qn);
    }, [t, ce]),
      (0, vr.useEffect)(() => {
        (async () => {
          try {
            let Vt = await rqe();
            Lr(Vt);
          } catch {
            Lr(null);
          }
        })();
      }, [e.merged.selectedAuthType, ce, Lr]),
      (0, vr.useEffect)(() => {
        let Vt = async (qn, fa, gn) => {
          let Ht;
          if (t.getContentGeneratorConfig().authType === hn.LOGIN_WITH_GITHUB) {
            let As = da === oh.LEGACY || da === oh.STANDARD;
            (gn && JS(gn)
              ? As
                ? (Ht = Ie.t('app.flashFallback.proQuotaExceeded', {
                    currentModel: qn,
                    fallbackModel: fa,
                  }))
                : (Ht = Ie.t('app.flashFallback.freeQuotaExceeded', {
                    currentModel: qn,
                    fallbackModel: fa,
                  }))
              : gn && Yx(gn)
                ? As
                  ? (Ht = Ie.t('app.flashFallback.proGenericQuota', {
                      currentModel: qn,
                      fallbackModel: fa,
                    }))
                  : (Ht = Ie.t('app.flashFallback.freeGenericQuota', {
                      currentModel: qn,
                      fallbackModel: fa,
                    }))
                : As
                  ? (Ht = Ie.t('app.flashFallback.proDefault', {
                      currentModel: qn,
                      fallbackModel: fa,
                    }))
                  : (Ht = Ie.t('app.flashFallback.freeDefault', {
                      currentModel: qn,
                      fallbackModel: fa,
                    })),
              c({ type: 'info', text: Ht }, Date.now()),
              Ai(!0),
              t.setQuotaErrorOccurred(!0));
          }
          return (
            t.setModel(fa),
            t.setFallbackMode(!0),
            jae(t, new TN(t.getContentGeneratorConfig().authType)),
            !1
          );
        };
        t.setFlashFallbackHandler(Vt);
      }, [t, c, da]));
    let { rows: Sn, columns: So } = w2(),
      xs = Ab(So),
      { stdin: qi, setRawMode: rc } = CE(),
      Bs = (0, vr.useRef)(!0),
      Gs = Math.max(20, Math.floor(So * 0.9) - 3),
      Re = Math.max(20, Math.floor(So * 0.8)),
      Me = (0, vr.useCallback)((Vt) => {
        try {
          return TAe.existsSync(Vt) && TAe.statSync(Vt).isFile();
        } catch {
          return !1;
        }
      }, []),
      Ze = (0, vr.useCallback)(() => {
        let Vt = e.merged.preferredEditor;
        if (!_z(Vt)) {
          Vs();
          return;
        }
        return Vt;
      }, [e, Vs]),
      lt = (0, vr.useCallback)(() => {
        (me(Ie.t('app.auth.reauthRequired')), Ti());
      }, [Ti, me]),
      { vimEnabled: Et, vimMode: Bt, toggleVimEnabled: $t } = nU(),
      {
        handleSlashCommand: Nt,
        slashCommands: Wt,
        pendingHistoryItems: Jt,
        commandContext: nr,
        shellConfirmationRequest: Wr,
        confirmationRequest: gi,
      } = err(t, e, c, p, h, M, j, kc, Ti, Vs, $e, Ho, xe, fr, zp, $t, br, z),
      Ea = Fnr({
        initialText: '',
        viewport: { height: 10, width: Gs },
        stdin: qi,
        setRawMode: rc,
        isValidPath: Me,
        shellModeActive: J,
      }),
      [Wn, uo] = (0, vr.useState)([]),
      Ul = (0, vr.useCallback)(() => {
        let Vt = Wn.at(-1);
        Vt && Ea.setText(Vt);
      }, [Ea, Wn]),
      {
        streamingState: bo,
        submitQuery: co,
        initError: U1,
        pendingHistoryItems: Kp,
        thought: Kd,
        cancelOngoingRequest: Yf,
        activeActivity: UA,
      } = aXt(t.getGeminiClient(), u, c, t, j, Nt, J, Ze, lt, ga, fi, Ai, M, Ul);
    (0, vr.useEffect)(() => {
      bo === 'idle' &&
        (async () => {
          try {
            let Vt = await rqe();
            Vt && Lr(Vt);
          } catch {}
        })();
    }, [bo, Lr]);
    let Wf = (0, vr.useCallback)(
        (Vt) => {
          let qn = Vt.trim();
          qn.length > 0 && co(qn);
        },
        [co]
      ),
      du = (0, vr.useCallback)(
        (Vt) => {
          (Vt.userSelection === 'yes'
            ? (Vt.isExtensionPreInstalled ? Nt('/ide enable') : Nt('/ide install'),
              e.setValue('User', 'hasSeenIdeIntegrationNudge', !0))
            : Vt.userSelection === 'dismiss' &&
              e.setValue('User', 'hasSeenIdeIntegrationNudge', !0),
            E(!0));
        },
        [Nt, e]
      ),
      { handleInput: z0 } = hur(Ea, Wf),
      Ed = [...Jt];
    Ed.push(...Kp);
    let { elapsedTime: zf, currentLoadingPhrase: H1 } = lXt(bo, UA),
      V1 = trr({ config: t }),
      Hc = Dhe(),
      vh = (0, vr.useCallback)(
        (Vt, qn, fa) => {
          Vt
            ? (fa.current && clearTimeout(fa.current), Nt('/quit'))
            : (qn(!0),
              (fa.current = setTimeout(() => {
                (qn(!1), (fa.current = null));
              }, tLn)));
        },
        [Nt]
      ),
      J0 = (0, vr.useCallback)(
        (Vt) => {
          let qn = !1;
          if ((vt || ((qn = !0), kt(!0)), Wa.showErrorDetails(Vt))) pe((fa) => !fa);
          else if (Wa.toggleToolDescriptions(Vt)) {
            let fa = !ue;
            ve(fa);
            let gn = t.getMcpServers();
            Object.keys(gn || {}).length > 0 && Nt(fa ? '/mcp desc' : '/mcp nodesc');
          } else if (Wa.toggleIDEContextDetail(Vt) && t.getIdeMode() && Be) Nt('/ide status');
          else if (Wa.quit(Vt)) {
            if (Yr) return;
            (Z || Yf?.(), vh(Z, Q, He));
          } else if (Wa.exit(Vt)) {
            if (Ea.text.length > 0) return;
            vh(mt, Tt, jt);
          } else Wa.showMoreLines(Vt) && !qn && kt(!1);
        },
        [vt, kt, pe, ue, ve, t, Be, vh, Z, Q, He, Ea.text.length, mt, Tt, jt, Nt, Yr, Yf]
      );
    (ja(J0, { isActive: !0, kittyProtocolEnabled: Hc.enabled, config: t }),
      (0, vr.useEffect)(() => {
        t && z(t.getGeminiMdFileCount());
      }, [t, t.getGeminiMdFileCount]));
    let HA = rme();
    (0, vr.useEffect)(() => {
      (async () => {
        let qn = (await HA?.getPreviousUserMessages()) || [],
          gn = [
            ...u
              .filter(
                (As) => As.type === 'user' && typeof As.text == 'string' && As.text.trim() !== ''
              )
              .map((As) => As.text)
              .reverse(),
            ...qn,
          ],
          Ht = [];
        if (gn.length > 0) {
          Ht.push(gn[0]);
          for (let As = 1; As < gn.length; As++) gn[As] !== gn[As - 1] && Ht.push(gn[As]);
        }
        uo(Ht.reverse());
      })();
    }, [u, HA]);
    let i6 = bo === 'idle' && !U1 && !pr,
      nc = (0, vr.useCallback)(() => {
        (p(), b(), console.clear(), M());
      }, [p, b, M]),
      VA = (0, vr.useRef)(null),
      a6 = (0, vr.useRef)(null);
    (0, vr.useEffect)(() => {
      if (VA.current) {
        let Vt = e6e(VA.current);
        de(Vt.height);
      }
    }, [Sn, _, ie]);
    let GA = 3,
      s6 = (0, vr.useMemo)(() => Sn - re - GA, [Sn, re]);
    ((0, vr.useEffect)(() => {
      if (Bs.current) {
        Bs.current = !1;
        return;
      }
      let Vt = setTimeout(() => {
        (F(!1), M());
      }, 300);
      return () => {
        clearTimeout(Vt);
      };
    }, [So, Sn, M]),
      (0, vr.useEffect)(() => {
        bo === 'idle' && R && (F(!1), M());
      }, [bo, M, R]));
    let G1 = (0, vr.useMemo)(
        () => (t.getDebugMode() ? _ : _.filter((Vt) => Vt.type !== 'debug')),
        [_, t]
      ),
      K0 = lur(t.getTargetDir()),
      Vc = (0, vr.useMemo)(() => {
        let Vt = e.merged.contextFileName;
        return Vt ? (Array.isArray(Vt) ? Vt : [Vt]) : TS();
      }, [e.merged.contextFileName]),
      X0 = (0, vr.useMemo)(() => t.getQuestion(), [t]),
      yd = t.getGeminiClient();
    if (
      ((0, vr.useEffect)(() => {
        X0 &&
          !Zs.current &&
          !Yr &&
          !Kn &&
          !tc &&
          !Al &&
          !an &&
          yd?.isInitialized?.() &&
          (co(X0), (Zs.current = !0));
      }, [X0, co, Yr, Kn, tc, Al, an, yd]),
      ge)
    )
      return (0, Sr.jsx)(Fe, {
        flexDirection: 'column',
        marginBottom: 1,
        children: ge.map((Vt) =>
          (0, Sr.jsx)(
            bAe,
            {
              availableTerminalHeight: vt ? s6 : void 0,
              terminalWidth: So,
              item: Vt,
              isPending: !1,
              config: t,
            },
            Vt.id
          )
        ),
      });
    let q1 = Math.floor(So * 0.9),
      qA = Math.floor(Math.max(Sn * 0.2, 5)),
      Wv = Math.max(Sn * 4, 100),
      V9 = Et ? Ie.t('app.placeholders.vim') : Ie.t('app.placeholders.default');
    return (0, Sr.jsx)(cVe.Provider, {
      value: bo,
      children: (0, Sr.jsxs)(Fe, {
        flexDirection: 'column',
        width: '90%',
        children: [
          (0, Sr.jsx)(
            dX,
            {
              items: [
                (0, Sr.jsxs)(
                  Fe,
                  {
                    flexDirection: 'column',
                    children: [
                      !e.merged.hideBanner && (0, Sr.jsx)(gnr, { version: n, nightly: l }),
                      !e.merged.hideTips && (0, Sr.jsx)(vlr, { config: t }),
                    ],
                  },
                  'header'
                ),
                ...u.map((Vt) =>
                  (0, Sr.jsx)(
                    bAe,
                    {
                      terminalWidth: q1,
                      availableTerminalHeight: Wv,
                      item: Vt,
                      isPending: !1,
                      config: t,
                      commands: Wt,
                    },
                    Vt.id
                  )
                ),
              ],
              children: (Vt) => Vt,
            },
            G
          ),
          (0, Sr.jsx)(khe, {
            children: (0, Sr.jsxs)(Fe, {
              ref: a6,
              flexDirection: 'column',
              children: [
                Ed.map((Vt, qn) =>
                  (0, Sr.jsx)(
                    bAe,
                    {
                      availableTerminalHeight: vt ? s6 : void 0,
                      terminalWidth: q1,
                      item: { ...Vt, id: 0 },
                      isPending: !0,
                      config: t,
                      isFocused: !Al,
                    },
                    qn
                  )
                ),
                (0, Sr.jsx)(DAe, { constrainHeight: vt }),
              ],
            }),
          }),
          (0, Sr.jsxs)(Fe, {
            flexDirection: 'column',
            ref: VA,
            children: [
              a && (0, Sr.jsx)(Aur, { message: a.message }),
              r.length > 0 &&
                (0, Sr.jsx)(Fe, {
                  borderStyle: 'round',
                  borderColor: Ue.AccentYellow,
                  paddingX: 1,
                  marginY: 1,
                  flexDirection: 'column',
                  children: r.map((Vt, qn) =>
                    (0, Sr.jsx)(Se, { color: Ue.AccentYellow, children: Vt }, qn)
                  ),
                }),
              g && v
                ? (0, Sr.jsx)(aur, { ide: v, onComplete: du })
                : si
                  ? (0, Sr.jsx)(qXt, { onSelect: Is })
                  : Wr
                    ? (0, Sr.jsx)(isr, { request: Wr })
                    : gi
                      ? (0, Sr.jsxs)(Fe, {
                          flexDirection: 'column',
                          children: [
                            gi.prompt,
                            (0, Sr.jsx)(Fe, {
                              paddingY: 1,
                              children: (0, Sr.jsx)(Fl, {
                                items: [
                                  { label: Ie.t('app.confirmation.yes'), value: !0 },
                                  { label: Ie.t('app.confirmation.no'), value: !1 },
                                ],
                                onSelect: (Vt) => {
                                  gi.onConfirm(Vt);
                                },
                              }),
                            }),
                          ],
                        })
                      : tc
                        ? (0, Sr.jsxs)(Fe, {
                            flexDirection: 'column',
                            children: [
                              N &&
                                (0, Sr.jsx)(Fe, {
                                  marginBottom: 1,
                                  children: (0, Sr.jsx)(Se, { color: Ue.AccentRed, children: N }),
                                }),
                              (0, Sr.jsx)(Kar, {
                                onSelect: Uc,
                                onHighlight: cu,
                                settings: e,
                                availableTerminalHeight: vt ? Sn - GA : void 0,
                                terminalWidth: q1,
                              }),
                            ],
                          })
                        : eo
                          ? (0, Sr.jsx)(Fe, {
                              flexDirection: 'column',
                              children: (0, Sr.jsx)(bur, {
                                settings: e,
                                onSelect: () => Jp(),
                                onRestartRequest: () => nqe.exit(0),
                              }),
                            })
                          : Je
                            ? (0, Sr.jsx)(Fe, {
                                flexDirection: 'column',
                                children: (0, Sr.jsx)(Xar, {
                                  settings: e,
                                  models: Ct,
                                  loading: st,
                                  error: dr,
                                  unauthorizedUserError: Fr,
                                  onSelect: Gn,
                                  onExit: ot,
                                }),
                              })
                            : Yr
                              ? (0, Sr.jsxs)(Sr.Fragment, {
                                  children: [
                                    (0, Sr.jsx)(tsr, {
                                      onTimeout: () => {
                                        (me(Ie.t('app.auth.timeout')), xi(), Ti());
                                      },
                                      verificationUri: pa,
                                      userCode: ra,
                                    }),
                                    ie &&
                                      (0, Sr.jsx)(khe, {
                                        children: (0, Sr.jsxs)(Fe, {
                                          flexDirection: 'column',
                                          children: [
                                            (0, Sr.jsx)(jGe, {
                                              messages: G1,
                                              maxHeight: vt ? qA : void 0,
                                              width: Gs,
                                            }),
                                            (0, Sr.jsx)(DAe, { constrainHeight: vt }),
                                          ],
                                        }),
                                      }),
                                  ],
                                })
                              : Kn
                                ? (0, Sr.jsx)(Fe, {
                                    flexDirection: 'column',
                                    children: (0, Sr.jsx)(esr, {
                                      onSelect: hs,
                                      settings: e,
                                      initialErrorMessage: ee,
                                    }),
                                  })
                                : Al
                                  ? (0, Sr.jsxs)(Fe, {
                                      flexDirection: 'column',
                                      children: [
                                        Ae &&
                                          (0, Sr.jsx)(Fe, {
                                            marginBottom: 1,
                                            children: (0, Sr.jsx)(Se, {
                                              color: Ue.AccentRed,
                                              children: Ae,
                                            }),
                                          }),
                                        (0, Sr.jsx)(nsr, { onSelect: Ts, settings: e, onExit: Xn }),
                                      ],
                                    })
                                  : an
                                    ? (0, Sr.jsx)(Cur, { onExit: () => Jn(!1), config: t })
                                    : (0, Sr.jsxs)(Sr.Fragment, {
                                        children: [
                                          (0, Sr.jsx)(Snr, {
                                            thought:
                                              bo === 'waiting_for_confirmation' ||
                                              t.getAccessibility()?.disableLoadingPhrases
                                                ? void 0
                                                : Kd,
                                            currentLoadingPhrase: t.getAccessibility()
                                              ?.disableLoadingPhrases
                                              ? void 0
                                              : H1,
                                            elapsedTime: zf,
                                          }),
                                          (0, Sr.jsxs)(Fe, {
                                            marginTop: 1,
                                            justifyContent: 'space-between',
                                            width: '100%',
                                            flexDirection: xs ? 'column' : 'row',
                                            alignItems: xs ? 'flex-start' : 'center',
                                            children: [
                                              (0, Sr.jsxs)(Fe, {
                                                children: [
                                                  nqe.env.GEMINI_SYSTEM_MD &&
                                                    (0, Sr.jsx)(Se, {
                                                      color: Ue.AccentRed,
                                                      children: '|_| ',
                                                    }),
                                                  Z
                                                    ? (0, Sr.jsx)(Se, {
                                                        color: Ue.AccentYellow,
                                                        children: Ie.t(
                                                          'app.prompts.pressCtrlCAgain'
                                                        ),
                                                      })
                                                    : mt
                                                      ? (0, Sr.jsx)(Se, {
                                                          color: Ue.AccentYellow,
                                                          children: Ie.t(
                                                            'app.prompts.pressCtrlDAgain'
                                                          ),
                                                        })
                                                      : nt
                                                        ? (0, Sr.jsx)(Se, {
                                                            color: Ue.Gray,
                                                            children: Ie.t(
                                                              'app.prompts.pressEscAgain'
                                                            ),
                                                          })
                                                        : (0, Sr.jsx)(nur, {
                                                            ideContext: Be,
                                                            geminiMdFileCount: Y,
                                                            contextFileNames: Vc,
                                                            mcpServers: t.getMcpServers(),
                                                            blockedMcpServers:
                                                              t.getBlockedMcpServers(),
                                                            showToolDescriptions: ue,
                                                          }),
                                                ],
                                              }),
                                              (0, Sr.jsxs)(Fe, {
                                                paddingTop: xs ? 1 : 0,
                                                children: [
                                                  V1 !== La.DEFAULT &&
                                                    !J &&
                                                    (0, Sr.jsx)(bnr, { approvalMode: V1 }),
                                                  J && (0, Sr.jsx)(Dnr, {}),
                                                ],
                                              }),
                                            ],
                                          }),
                                          ie &&
                                            (0, Sr.jsx)(khe, {
                                              children: (0, Sr.jsxs)(Fe, {
                                                flexDirection: 'column',
                                                children: [
                                                  (0, Sr.jsx)(jGe, {
                                                    messages: G1,
                                                    maxHeight: vt ? qA : void 0,
                                                    width: Gs,
                                                  }),
                                                  (0, Sr.jsx)(DAe, { constrainHeight: vt }),
                                                ],
                                              }),
                                            }),
                                          i6 &&
                                            (0, Sr.jsx)(Znr, {
                                              buffer: Ea,
                                              inputWidth: Gs,
                                              suggestionsWidth: Re,
                                              onSubmit: Wf,
                                              userMessages: Wn,
                                              onClearScreen: nc,
                                              config: t,
                                              slashCommands: Wt,
                                              commandContext: nr,
                                              shellModeActive: J,
                                              setShellModeActive: te,
                                              onEscapePromptChange: Or,
                                              focus: i,
                                              vimHandleInput: z0,
                                              placeholder: V9,
                                            }),
                                        ],
                                      }),
              U1 &&
                bo !== 'responding' &&
                (0, Sr.jsx)(Fe, {
                  borderStyle: 'round',
                  borderColor: Ue.AccentRed,
                  paddingX: 1,
                  marginBottom: 1,
                  children: u.find((Vt) => Vt.type === 'error' && Vt.text?.includes(U1))?.text
                    ? (0, Sr.jsx)(Se, {
                        color: Ue.AccentRed,
                        children: u.find((Vt) => Vt.type === 'error' && Vt.text?.includes(U1))
                          ?.text,
                      })
                    : (0, Sr.jsxs)(Sr.Fragment, {
                        children: [
                          (0, Sr.jsx)(Se, {
                            color: Ue.AccentRed,
                            children: Ie.t('app.init.error', { error: U1 }),
                          }),
                          (0, Sr.jsx)(Se, {
                            color: Ue.AccentRed,
                            children: Ie.t('app.init.checkConfig'),
                          }),
                        ],
                      }),
                }),
              (0, Sr.jsx)(sir, {
                model: ce,
                targetDir: t.getTargetDir(),
                debugMode: t.getDebugMode(),
                branchName: K0,
                debugMessage: se,
                corgiMode: ye,
                errorCount: hl,
                showErrorDetails: ie,
                showMemoryUsage: t.getDebugMode() || e.merged.showMemoryUsage || !1,
                promptTokenCount: I.lastPromptTokenCount,
                nightly: l,
                vimMode: Et ? Bt : void 0,
                isTrustedFolder: be,
                trialRequestsUsed: ae,
                trialRequestsLimit: $,
              }),
            ],
          }),
        ],
      }),
    });
  };
async function Tur() {
  return new Promise((e, r) => {
    let n = '',
      i = 0;
    process.stdin.setEncoding('utf8');
    let a = () => {
        let u;
        for (; (u = process.stdin.read()) !== null; ) {
          if (i + u.length > 8388608) {
            let c = 8388608 - i;
            ((n += u.slice(0, c)),
              console.warn('Warning: stdin input truncated to 8388608 bytes.'),
              process.stdin.destroy());
            break;
          }
          ((n += u), (i += u.length));
        }
      },
      s = () => {
        (l(), e(n));
      },
      o = (u) => {
        (l(), r(u));
      },
      l = () => {
        (process.stdin.removeListener('readable', a),
          process.stdin.removeListener('end', s),
          process.stdin.removeListener('error', o));
      };
    (process.stdin.on('readable', a), process.stdin.on('end', s), process.stdin.on('error', o));
  });
}
import { basename as XLn } from 'node:path';
import ZLn from 'node:v8';
import eFn from 'node:os';
import tFn from 'node:dns';
import { spawn as rFn } from 'node:child_process';
var UJ = qe(ace(), 1);
import { exec as nLn, execSync as Nb, spawn as aU } from 'node:child_process';
import D3 from 'node:os';
import U9 from 'node:path';
import Wp from 'node:fs';
import { readFile as iLn } from 'node:fs/promises';
import { promisify as aLn } from 'util';
var iqe = aLn(nLn);
function yh(t) {
  if (D3.platform() !== 'win32') return t;
  let r = t.replace(/\\/g, '/').match(/^([A-Z]):\/(.*)/i);
  return r ? `/${r[1].toLowerCase()}/${r[2]}` : t;
}
var Bur = 'gemini-cli-sandbox',
  xAe = 'gemini-cli-sandbox',
  YB = 'gemini-cli-sandbox-proxy',
  sLn = [
    'permissive-open',
    'permissive-closed',
    'permissive-proxied',
    'restrictive-open',
    'restrictive-closed',
    'restrictive-proxied',
  ];
async function oLn() {
  let t = process.env.SANDBOX_SET_UID_GID?.toLowerCase().trim();
  if (t === '1' || t === 'true') return !0;
  if (t === '0' || t === 'false') return !1;
  if (D3.platform() === 'linux')
    try {
      let e = await iLn('/etc/os-release', 'utf8');
      if (
        e.includes('ID=debian') ||
        e.includes('ID=ubuntu') ||
        e.match(/^ID_LIKE=.*debian.*/m) ||
        e.match(/^ID_LIKE=.*ubuntu.*/m)
      )
        return (
          console.error(
            'INFO: Defaulting to use current user UID/GID for Debian/Ubuntu-based Linux.'
          ),
          !0
        );
    } catch {
      console.warn(
        'Warning: Could not read /etc/os-release to auto-detect Debian/Ubuntu for UID/GID default.'
      );
    }
  return !1;
}
function lLn(t) {
  let [e, r] = t.split(':'),
    n = e.split('/').at(-1) ?? 'unknown-image';
  return r ? `${n}-${r}` : n;
}
function Rur() {
  return (process.env.SANDBOX_PORTS ?? '')
    .split(',')
    .filter((t) => t.trim())
    .map((t) => t.trim());
}
function uLn(t) {
  let e = D3.platform() === 'win32',
    r = yh(t),
    n = [],
    i = e ? ';' : ':',
    a = '';
  if (process.env.PATH) {
    let p = process.env.PATH.split(i);
    for (let h of p) {
      let m = yh(h);
      m.toLowerCase().startsWith(r.toLowerCase()) && (a += `:${m}`);
    }
  }
  a && n.push(`export PATH="$PATH${a}";`);
  let s = '';
  if (process.env.PYTHONPATH) {
    let p = process.env.PYTHONPATH.split(i);
    for (let h of p) {
      let m = yh(h);
      m.toLowerCase().startsWith(r.toLowerCase()) && (s += `:${m}`);
    }
  }
  s && n.push(`export PYTHONPATH="$PYTHONPATH${s}";`);
  let o = U9.join(Uv, 'sandbox.bashrc');
  (Wp.existsSync(o) && n.push(`source ${yh(o)};`),
    Rur().forEach((p) =>
      n.push(
        `socat TCP4-LISTEN:${p},bind=$(hostname -i),fork,reuseaddr TCP4:127.0.0.1:${p} 2> /dev/null &`
      )
    ));
  let l = process.argv.slice(2).map((p) => (0, UJ.quote)([p])),
    u =
      process.env.NODE_ENV === 'development'
        ? process.env.DEBUG
          ? 'npm run debug --'
          : 'npm rebuild && npm run start --'
        : process.env.DEBUG
          ? `node --inspect-brk=0.0.0.0:${process.env.DEBUG_PORT || '9229'} $(which gemini)`
          : 'gemini';
  return ['bash', '-c', [...n, u, ...l].join(' ')];
}
async function Nur(t, e = [], r) {
  let n = new Q9({ debugMode: r?.getDebugMode() || !!process.env.DEBUG, stderr: !0 });
  n.patch();
  try {
    if (t.command === 'sandbox-exec') {
      process.env.BUILD_SANDBOX &&
        (console.error('ERROR: cannot BUILD_SANDBOX when using macOS Seatbelt'), process.exit(1));
      let M = (process.env.SEATBELT_PROFILE ??= 'permissive-open'),
        Y = new URL(`sandbox-macos-${M}.sb`, import.meta.url).pathname;
      (sLn.includes(M) || (Y = U9.join(Uv, `sandbox-macos-${M}.sb`)),
        Wp.existsSync(Y) ||
          (console.error(`ERROR: missing macos seatbelt profile file '${Y}'`), process.exit(1)),
        console.error(`using macos seatbelt (profile: ${M}) ...`));
      let z = [...(process.env.DEBUG ? ['--inspect-brk'] : []), ...e].join(' '),
        se = [
          '-D',
          `TARGET_DIR=${Wp.realpathSync(process.cwd())}`,
          '-D',
          `TMP_DIR=${Wp.realpathSync(D3.tmpdir())}`,
          '-D',
          `HOME_DIR=${Wp.realpathSync(D3.homedir())}`,
          '-D',
          `CACHE_DIR=${Wp.realpathSync(Nb('getconf DARWIN_USER_CACHE_DIR').toString().trim())}`,
        ],
        j = 5,
        N = Wp.realpathSync(r?.getTargetDir() || ''),
        H = [];
      if (r) {
        let de = r.getWorkspaceContext().getDirectories();
        for (let ye of de) {
          let he = Wp.realpathSync(ye);
          he !== N && H.push(he);
        }
      }
      for (let re = 0; re < j; re++) {
        let de = '/dev/null';
        (re < H.length && (de = H[re]), se.push('-D', `INCLUDE_DIR_${re}=${de}`));
      }
      se.push(
        '-f',
        Y,
        'sh',
        '-c',
        [
          'SANDBOX=sandbox-exec',
          `NODE_OPTIONS="${z}"`,
          ...process.argv.map((re) => (0, UJ.quote)([re])),
        ].join(' ')
      );
      let ee = process.env.GEMINI_SANDBOX_PROXY_COMMAND,
        me,
        Ae,
        X = { ...process.env };
      if (ee) {
        let re =
          process.env.HTTPS_PROXY ||
          process.env.https_proxy ||
          process.env.HTTP_PROXY ||
          process.env.http_proxy ||
          'http://localhost:8877';
        ((X.HTTPS_PROXY = re), (X.https_proxy = re), (X.HTTP_PROXY = re), (X.http_proxy = re));
        let de = process.env.NO_PROXY || process.env.no_proxy;
        (de && ((X.NO_PROXY = de), (X.no_proxy = de)),
          (me = aU(ee, { stdio: ['ignore', 'pipe', 'pipe'], shell: !0, detached: !0 })));
        let ye = () => {
          (console.log('stopping proxy ...'), me?.pid && process.kill(-me.pid, 'SIGTERM'));
        };
        (process.on('exit', ye),
          process.on('SIGINT', ye),
          process.on('SIGTERM', ye),
          me.stderr?.on('data', (he) => {
            console.error(he.toString());
          }),
          me.on('close', (he, be) => {
            (console.error(`ERROR: proxy command '${ee}' exited with code ${he}, signal ${be}`),
              Ae?.pid && process.kill(-Ae.pid, 'SIGTERM'),
              process.exit(1));
          }),
          console.log('waiting for proxy to start ...'),
          await iqe('until timeout 0.25 curl -s http://localhost:8877; do sleep 0.25; done'));
      }
      ((Ae = aU(t.command, se, { stdio: 'inherit' })),
        await new Promise((re) => Ae?.on('close', re)));
      return;
    }
    console.error(`hopping into sandbox (command: ${t.command}) ...`);
    let i = Wp.realpathSync(process.argv[1]),
      a = U9.join(Uv, 'sandbox.Dockerfile'),
      s = Wp.existsSync(a),
      o = t.image,
      l = U9.resolve(process.cwd()),
      u = yh(l);
    if (process.env.BUILD_SANDBOX)
      if (!i.includes('gemini-cli/packages/'))
        (console.error(
          'ERROR: cannot build sandbox using installed gemini binary; run `npm link ./packages/cli` under gemini-cli repo to switch to linked binary.'
        ),
          process.exit(1));
      else {
        console.error('building sandbox ...');
        let M = i.split('/packages/')[0],
          Y = '',
          z = U9.join(Uv, 'sandbox.Dockerfile');
        (s && (console.error(`using ${z} for sandbox`), (Y += `-f ${U9.resolve(z)} -i ${o}`)),
          Nb(`cd ${M} && node scripts/build_sandbox.js -s ${Y}`, {
            stdio: 'inherit',
            env: { ...process.env, GEMINI_SANDBOX: t.command },
          }));
      }
    (await dLn(t.command, o)) ||
      (console.error(
        `ERROR: Sandbox image '${o}' is missing or could not be pulled. ${o === Bur ? 'Try running `npm run build:all` or `npm run build:sandbox` under the gemini-cli repo to build it locally, or check the image name and your network connection.' : 'Please check the image name, your network connection, or notify gemini-cli-dev@google.com if the issue persists.'}`
      ),
      process.exit(1));
    let c = ['run', '-i', '--rm', '--init', '--workdir', u];
    if (process.env.SANDBOX_FLAGS) {
      let M = (0, UJ.parse)(process.env.SANDBOX_FLAGS, process.env).filter(
        (Y) => typeof Y == 'string'
      );
      c.push(...M);
    }
    (process.stdin.isTTY && c.push('-t'), c.push('--volume', `${l}:${u}`));
    let p = HUe,
      h = yh(`/home/node/${Uv}`);
    (Wp.existsSync(p) || Wp.mkdirSync(p),
      c.push('--volume', `${p}:${h}`),
      h !== p && c.push('--volume', `${p}:${yh(p)}`),
      c.push('--volume', `${D3.tmpdir()}:${yh(D3.tmpdir())}`));
    let m = U9.join(D3.homedir(), '.config', 'gcloud');
    if (
      (Wp.existsSync(m) && c.push('--volume', `${m}:${yh(m)}:ro`),
      process.env.GOOGLE_APPLICATION_CREDENTIALS)
    ) {
      let M = process.env.GOOGLE_APPLICATION_CREDENTIALS;
      Wp.existsSync(M) &&
        (c.push('--volume', `${M}:${yh(M)}:ro`),
        c.push('--env', `GOOGLE_APPLICATION_CREDENTIALS=${yh(M)}`));
    }
    if (process.env.SANDBOX_MOUNTS) {
      for (let M of process.env.SANDBOX_MOUNTS.split(','))
        if (M.trim()) {
          let [Y, z, se] = M.trim().split(':');
          ((z = z || Y),
            (se = se || 'ro'),
            (M = `${Y}:${z}:${se}`),
            U9.isAbsolute(Y) ||
              (console.error(`ERROR: path '${Y}' listed in SANDBOX_MOUNTS must be absolute`),
              process.exit(1)),
            Wp.existsSync(Y) ||
              (console.error(`ERROR: missing mount path '${Y}' listed in SANDBOX_MOUNTS`),
              process.exit(1)),
            console.error(`SANDBOX_MOUNTS: ${Y} -> ${z} (${se})`),
            c.push('--volume', M));
        }
    }
    if ((Rur().forEach((M) => c.push('--publish', `${M}:${M}`)), process.env.DEBUG)) {
      let M = process.env.DEBUG_PORT || '9229';
      c.push('--publish', `${M}:${M}`);
    }
    let E = process.env.GEMINI_SANDBOX_PROXY_COMMAND;
    if (E) {
      let M =
        process.env.HTTPS_PROXY ||
        process.env.https_proxy ||
        process.env.HTTP_PROXY ||
        process.env.http_proxy ||
        'http://localhost:8877';
      ((M = M.replace('localhost', YB)),
        M &&
          (c.push('--env', `HTTPS_PROXY=${M}`),
          c.push('--env', `https_proxy=${M}`),
          c.push('--env', `HTTP_PROXY=${M}`),
          c.push('--env', `http_proxy=${M}`)));
      let Y = process.env.NO_PROXY || process.env.no_proxy;
      (Y && (c.push('--env', `NO_PROXY=${Y}`), c.push('--env', `no_proxy=${Y}`)),
        M &&
          (Nb(
            `${t.command} network inspect ${xAe} || ${t.command} network create --internal ${xAe}`
          ),
          c.push('--network', xAe),
          E && Nb(`${t.command} network inspect ${YB} || ${t.command} network create ${YB}`)));
    }
    let v = lLn(o),
      g = 0,
      _ = Nb(`${t.command} ps -a --format "{{.Names}}"`).toString().trim();
    for (; _.includes(`${v}-${g}`); ) g++;
    let S = `${v}-${g}`;
    (c.push('--name', S, '--hostname', S),
      process.env.KODA_API_KEY && c.push('--env', `KODA_API_KEY=${process.env.KODA_API_KEY}`),
      process.env.GOOGLE_API_KEY && c.push('--env', `GOOGLE_API_KEY=${process.env.GOOGLE_API_KEY}`),
      process.env.GOOGLE_GENAI_USE_VERTEXAI &&
        c.push('--env', `GOOGLE_GENAI_USE_VERTEXAI=${process.env.GOOGLE_GENAI_USE_VERTEXAI}`),
      process.env.GOOGLE_GENAI_USE_GCA &&
        c.push('--env', `GOOGLE_GENAI_USE_GCA=${process.env.GOOGLE_GENAI_USE_GCA}`),
      process.env.GOOGLE_CLOUD_PROJECT &&
        c.push('--env', `GOOGLE_CLOUD_PROJECT=${process.env.GOOGLE_CLOUD_PROJECT}`),
      process.env.GOOGLE_CLOUD_LOCATION &&
        c.push('--env', `GOOGLE_CLOUD_LOCATION=${process.env.GOOGLE_CLOUD_LOCATION}`),
      process.env.GEMINI_MODEL && c.push('--env', `GEMINI_MODEL=${process.env.GEMINI_MODEL}`),
      process.env.KODA_RESPONSE_LANGUAGE &&
        c.push('--env', `KODA_RESPONSE_LANGUAGE=${process.env.KODA_RESPONSE_LANGUAGE}`),
      process.env.TERM && c.push('--env', `TERM=${process.env.TERM}`),
      process.env.COLORTERM && c.push('--env', `COLORTERM=${process.env.COLORTERM}`));
    for (let M of [
      'KODA_CLI_IDE_SERVER_PORT',
      'GEMINI_CLI_IDE_SERVER_PORT',
      'GEMINI_CLI_IDE_WORKSPACE_PATH',
      'TERM_PROGRAM',
    ])
      process.env[M] && c.push('--env', `${M}=${process.env[M]}`);
    if (process.env.VIRTUAL_ENV?.toLowerCase().startsWith(l.toLowerCase())) {
      let M = U9.resolve(Uv, 'sandbox.venv');
      (Wp.existsSync(M) || Wp.mkdirSync(M, { recursive: !0 }),
        c.push('--volume', `${M}:${yh(process.env.VIRTUAL_ENV)}`),
        c.push('--env', `VIRTUAL_ENV=${yh(process.env.VIRTUAL_ENV)}`));
    }
    if (process.env.SANDBOX_ENV)
      for (let M of process.env.SANDBOX_ENV.split(','))
        (M = M.trim()) &&
          (M.includes('=')
            ? (console.error(`SANDBOX_ENV: ${M}`), c.push('--env', M))
            : (console.error(
                'ERROR: SANDBOX_ENV must be a comma-separated list of key=value pairs'
              ),
              process.exit(1)));
    let b = process.env.NODE_OPTIONS || '',
      I = [...(b ? [b] : []), ...e].join(' ');
    if (
      (I.length > 0 && c.push('--env', `NODE_OPTIONS="${I}"`),
      c.push('--env', `SANDBOX=${S}`),
      t.command === 'podman')
    ) {
      let M = U9.join(D3.tmpdir(), 'empty_auth.json');
      (Wp.writeFileSync(M, '{}', 'utf-8'), c.push('--authfile', M));
    }
    let R = '',
      F = uLn(l);
    if (process.env.GEMINI_CLI_INTEGRATION_TEST === 'true')
      (c.push('--user', 'root'), (R = '--user root'));
    else if (await oLn()) {
      c.push('--user', 'root');
      let M = Nb('id -u').toString().trim(),
        Y = Nb('id -g').toString().trim(),
        z = 'gemini',
        se = yh(D3.homedir()),
        j = [
          `groupadd -f -g ${Y} ${z}`,
          `id -u ${z} &>/dev/null || useradd -o -u ${M} -g ${Y} -d ${se} -s /bin/bash ${z}`,
        ].join(' && '),
        H = F[2].replace(/'/g, "'\\''"),
        ee = `su -p ${z} -c '${H}'`;
      ((F[2] = `${j} && ${ee}`), (R = `--user ${M}:${Y}`), c.push('--env', `HOME=${D3.homedir()}`));
    }
    (c.push(o), c.push(...F));
    let G, U;
    if (E) {
      let M = `${t.command} run --rm --init ${R} --name ${YB} --network ${YB} -p 8877:8877 -v ${process.cwd()}:${l} --workdir ${l} ${o} ${E}`;
      G = aU(M, { stdio: ['ignore', 'pipe', 'pipe'], shell: !0, detached: !0 });
      let Y = () => {
        (console.log('stopping proxy container ...'), Nb(`${t.command} rm -f ${YB}`));
      };
      (process.on('exit', Y),
        process.on('SIGINT', Y),
        process.on('SIGTERM', Y),
        G.stderr?.on('data', (z) => {
          console.error(z.toString().trim());
        }),
        G.on('close', (z, se) => {
          (console.error(
            `ERROR: proxy container command '${M}' exited with code ${z}, signal ${se}`
          ),
            U?.pid && process.kill(-U.pid, 'SIGTERM'),
            process.exit(1));
        }),
        console.log('waiting for proxy to start ...'),
        await iqe('until timeout 0.25 curl -s http://localhost:8877; do sleep 0.25; done'),
        await iqe(`${t.command} network connect ${xAe} ${YB}`));
    }
    ((U = aU(t.command, c, { stdio: 'inherit' })),
      U.on('error', (M) => {
        console.error('Sandbox process error:', M);
      }),
      await new Promise((M) => {
        U?.on('close', (Y, z) => {
          (Y !== 0 && console.log(`Sandbox process exited with code: ${Y}, signal: ${z}`), M());
        });
      }));
  } finally {
    n.cleanup();
  }
}
async function xur(t, e) {
  return new Promise((r) => {
    let i = aU(t, ['images', '-q', e]),
      a = '';
    (i.stdout &&
      i.stdout.on('data', (s) => {
        a += s.toString();
      }),
      i.on('error', (s) => {
        (console.warn(`Failed to start '${t}' command for image check: ${s.message}`), r(!1));
      }),
      i.on('close', (s) => {
        r(a.trim() !== '');
      }));
  });
}
async function cLn(t, e) {
  return (
    console.info(`Attempting to pull image ${e} using ${t}...`),
    new Promise((r) => {
      let i = aU(t, ['pull', e], { stdio: 'pipe' }),
        a = '',
        s = (p) => {
          console.info(p.toString().trim());
        },
        o = (p) => {
          ((a += p.toString()), console.error(p.toString().trim()));
        },
        l = (p) => {
          (console.warn(`Failed to start '${t} pull ${e}' command: ${p.message}`), c(), r(!1));
        },
        u = (p) => {
          p === 0
            ? (console.info(`Successfully pulled image ${e}.`), c(), r(!0))
            : (console.warn(`Failed to pull image ${e}. '${t} pull ${e}' exited with code ${p}.`),
              a.trim(),
              c(),
              r(!1));
        },
        c = () => {
          (i.stdout && i.stdout.removeListener('data', s),
            i.stderr && i.stderr.removeListener('data', o),
            i.removeListener('error', l),
            i.removeListener('close', u),
            i.connected && i.disconnect());
        };
      (i.stdout && i.stdout.on('data', s),
        i.stderr && i.stderr.on('data', o),
        i.on('error', l),
        i.on('close', u));
    })
  );
}
async function dLn(t, e) {
  return (
    console.info(`Checking for sandbox image: ${e}`),
    (await xur(t, e))
      ? (console.info(`Sandbox image ${e} found locally.`), !0)
      : (console.info(`Sandbox image ${e} not found locally.`),
        e === Bur
          ? !1
          : (await cLn(t, e))
            ? (await xur(t, e))
              ? (console.info(`Sandbox image ${e} is now available after pulling.`), !0)
              : (console.warn(
                  `Sandbox image ${e} still not found after a pull attempt. This might indicate an issue with the image name or registry, or the pull command reported success but failed to make the image available.`
                ),
                !1)
            : (console.error(`Failed to obtain sandbox image ${e} after check and pull attempt.`),
              !1))
  );
}
Qn();
import aqe from 'fs/promises';
import pLn from 'os';
import { join as fLn } from 'node:path';
var sqe = fLn(pLn.tmpdir(), 'gemini-cli-warnings.txt');
async function Our() {
  try {
    await aqe.access(sqe);
    let e = (await aqe.readFile(sqe, 'utf-8'))
      .split(
        `
`
      )
      .filter((r) => r.trim() !== '');
    try {
      await aqe.unlink(sqe);
    } catch {
      e.push('Warning: Could not delete temporary warnings file.');
    }
    return e;
  } catch (t) {
    return t instanceof Error && 'code' in t && t.code === 'ENOENT'
      ? []
      : [`Error checking/reading warnings file: ${ir(t)}`];
  }
}
import oqe from 'fs/promises';
import * as Mur from 'os';
import mLn from 'path';
var hLn = {
    id: 'home-directory',
    check: async (t) => {
      try {
        let [e, r] = await Promise.all([oqe.realpath(t), oqe.realpath(Mur.homedir())]);
        return e === r ? Ie.t('startupWarnings.homeDirectory.message') : null;
      } catch {
        return Ie.t('startupWarnings.fileSystemError.message');
      }
    },
  },
  ALn = {
    id: 'root-directory',
    check: async (t) => {
      try {
        let e = await oqe.realpath(t);
        return mLn.dirname(e) === e ? Ie.t('startupWarnings.rootDirectory.message') : null;
      } catch {
        return Ie.t('startupWarnings.fileSystemError.message');
      }
    },
  },
  gLn = [hLn, ALn];
async function Lur(t) {
  return (await Promise.all(gLn.map((r) => r.check(t)))).filter((r) => r !== null);
}
Qn();
async function Fur(t, e, r) {
  let n = new Q9({ stderr: !0, debugMode: t.getDebugMode() });
  try {
    (n.patch(),
      process.stdout.on('error', (p) => {
        p.code === 'EPIPE' && process.exit(0);
      }));
    let i = t.getGeminiClient(),
      a = await t.getToolRegistry(),
      s = {},
      o = [
        'search_file_content',
        'list_directory',
        'glob',
        'google_web_search',
        'save_memory',
        'run_shell_command',
      ];
    for (let p of o) {
      let h = `toolDescriptions.${p}`,
        m = Ie.t(h);
      m && m !== h && (s[p] = m);
    }
    Object.keys(s).length > 0 && a.updateToolDescriptions(s);
    let l = new AbortController(),
      u = [{ role: 'user', parts: [{ text: e }] }],
      c = 0;
    for (;;) {
      if ((c++, t.getMaxSessionTurns() >= 0 && c > t.getMaxSessionTurns())) {
        console.error(`
 Reached max session turns for this session. Increase the number of turns by specifying maxSessionTurns in settings.json.`);
        return;
      }
      let p = [],
        h = i.sendMessageStream(u[0]?.parts || [], l.signal, r);
      for await (let m of h) {
        if (l.signal.aborted) {
          console.error('Operation cancelled.');
          return;
        }
        if (m.type === Ls.Content) process.stdout.write(m.value);
        else if (m.type === Ls.ToolCallRequest) {
          let E = m.value,
            v = { name: E.name, args: E.args, id: E.callId };
          p.push(v);
        }
      }
      if (p.length > 0) {
        let m = [];
        for (let v of p) {
          let _ = {
              callId: v.id ?? `${v.name}-${Date.now()}`,
              name: v.name,
              args: v.args ?? {},
              isClientInitiated: !1,
              prompt_id: r,
            },
            S = await ake(t, _, a, l.signal);
          if (
            (S.error &&
              (console.error(
                `Error executing tool ${v.name}: ${S.resultDisplay || S.error.message}`
              ),
              S.errorType === ns.UNHANDLED_EXCEPTION && process.exit(1)),
            S.responseParts)
          ) {
            let b = Array.isArray(S.responseParts) ? S.responseParts : [S.responseParts];
            for (let I of b) typeof I == 'string' ? m.push({ text: I }) : I && m.push(I);
          }
        }
        let E = m.map((v) => ({ role: 'tool', parts: [v] }));
        u = E.length > 0 ? E : [{ role: 'user', parts: m }];
      } else {
        process.stdout.write(`
`);
        return;
      }
    }
  } catch (i) {
    (console.error(lk(i, t.getContentGeneratorConfig()?.authType)), process.exit(1));
  } finally {
    (n.cleanup(), v1() && (await VM(t)));
  }
}
Qn();
Qn();
function ELn() {
  return process.env.GOOGLE_GENAI_USE_GCA === 'true' ? hn.LOGIN_WITH_GITHUB : hn.WITHOUT_AUTH;
}
async function Pur(t, e, r) {
  let n = t || ELn();
  if (!n)
    return (
      console.warn(
        'No authentication method configured. Proceeding without authentication. You can authenticate later through the menu.'
      ),
      r
    );
  if (!e) {
    let i = Sb(n);
    i != null && (console.error(i), process.exit(1));
  }
  return (await r.refreshAuth(n), r);
}
Qn();
tS();
tS();
var WB = {
    authenticate: 'authenticate',
    initialize: 'initialize',
    session_cancel: 'session/cancel',
    session_load: 'session/load',
    session_new: 'session/new',
    session_prompt: 'session/prompt',
  },
  GJ = {
    fs_read_text_file: 'fs/read_text_file',
    fs_write_text_file: 'fs/write_text_file',
    session_request_permission: 'session/request_permission',
    session_update: 'session/update',
  },
  Qur = 1,
  yLn = W.object({ content: W.string(), path: W.string(), sessionId: W.string() }),
  vLn = W.object({
    limit: W.number().optional().nullable(),
    line: W.number().optional().nullable(),
    path: W.string(),
    sessionId: W.string(),
  }),
  CLn = W.union([
    W.literal('allow_once'),
    W.literal('allow_always'),
    W.literal('reject_once'),
    W.literal('reject_always'),
  ]),
  _Ln = W.union([W.literal('assistant'), W.literal('user')]),
  SLn = W.object({ mimeType: W.string().optional().nullable(), text: W.string(), uri: W.string() }),
  bLn = W.object({ blob: W.string(), mimeType: W.string().optional().nullable(), uri: W.string() }),
  lqe = W.union([
    W.literal('read'),
    W.literal('edit'),
    W.literal('delete'),
    W.literal('move'),
    W.literal('search'),
    W.literal('execute'),
    W.literal('think'),
    W.literal('fetch'),
    W.literal('other'),
  ]),
  uqe = W.union([
    W.literal('pending'),
    W.literal('in_progress'),
    W.literal('completed'),
    W.literal('failed'),
  ]),
  DLn = W.null(),
  wLn = W.object({ content: W.string() }),
  ILn = W.union([
    W.object({ outcome: W.literal('cancelled') }),
    W.object({ optionId: W.string(), outcome: W.literal('selected') }),
  ]),
  kur = W.object({ sessionId: W.string() }),
  pqe = W.object({ methodId: W.string() }),
  TLn = W.null(),
  xLn = W.object({ sessionId: W.string() }),
  BLn = W.null(),
  RLn = W.union([
    W.literal('end_turn'),
    W.literal('max_tokens'),
    W.literal('refusal'),
    W.literal('cancelled'),
  ]),
  NLn = W.object({ stopReason: RLn }),
  cqe = W.object({ line: W.number().optional().nullable(), path: W.string() }),
  OLn = W.object({
    content: W.string(),
    priority: W.union([W.literal('high'), W.literal('medium'), W.literal('low')]),
    status: W.union([W.literal('pending'), W.literal('in_progress'), W.literal('completed')]),
  }),
  MLn = W.object({ kind: CLn, name: W.string(), optionId: W.string() }),
  HJ = W.object({
    audience: W.array(_Ln).optional().nullable(),
    lastModified: W.string().optional().nullable(),
    priority: W.number().optional().nullable(),
  }),
  LLn = W.object({ outcome: ILn }),
  FLn = W.object({ readTextFile: W.boolean(), writeTextFile: W.boolean() }),
  PLn = W.object({ name: W.string(), value: W.string() }),
  Uur = W.object({
    args: W.array(W.string()),
    command: W.string(),
    env: W.array(PLn),
    name: W.string(),
  }),
  QLn = W.object({ loadSession: W.boolean() }),
  kLn = W.object({ description: W.string().nullable(), id: W.string(), name: W.string() }),
  wji = W.union([DLn, wLn, LLn]);
var ULn = W.union([SLn, bLn]),
  fqe = W.object({ cwd: W.string(), mcpServers: W.array(Uur) }),
  mqe = W.object({ cwd: W.string(), mcpServers: W.array(Uur), sessionId: W.string() }),
  HLn = W.object({
    agentCapabilities: QLn,
    authMethods: W.array(kLn),
    protocolVersion: W.number(),
  }),
  VJ = W.union([
    W.object({ annotations: HJ.optional().nullable(), text: W.string(), type: W.literal('text') }),
    W.object({
      annotations: HJ.optional().nullable(),
      data: W.string(),
      mimeType: W.string(),
      type: W.literal('image'),
    }),
    W.object({
      annotations: HJ.optional().nullable(),
      data: W.string(),
      mimeType: W.string(),
      type: W.literal('audio'),
    }),
    W.object({
      annotations: HJ.optional().nullable(),
      description: W.string().optional().nullable(),
      mimeType: W.string().optional().nullable(),
      name: W.string(),
      size: W.number().optional().nullable(),
      title: W.string().optional().nullable(),
      type: W.literal('resource_link'),
      uri: W.string(),
    }),
    W.object({ annotations: HJ.optional().nullable(), resource: ULn, type: W.literal('resource') }),
  ]),
  dqe = W.union([
    W.object({ content: VJ, type: W.literal('content') }),
    W.object({
      newText: W.string(),
      oldText: W.string().nullable(),
      path: W.string(),
      type: W.literal('diff'),
    }),
  ]),
  VLn = W.object({
    content: W.array(dqe).optional(),
    kind: lqe,
    locations: W.array(cqe).optional(),
    rawInput: W.unknown().optional(),
    status: uqe,
    title: W.string(),
    toolCallId: W.string(),
  }),
  GLn = W.object({ fs: FLn }),
  hqe = W.object({ prompt: W.array(VJ), sessionId: W.string() }),
  qLn = W.union([
    W.object({ content: VJ, sessionUpdate: W.literal('user_message_chunk') }),
    W.object({ content: VJ, sessionUpdate: W.literal('agent_message_chunk') }),
    W.object({ content: VJ, sessionUpdate: W.literal('agent_thought_chunk') }),
    W.object({
      content: W.array(dqe).optional(),
      kind: lqe,
      locations: W.array(cqe).optional(),
      rawInput: W.unknown().optional(),
      sessionUpdate: W.literal('tool_call'),
      status: uqe,
      title: W.string(),
      toolCallId: W.string(),
    }),
    W.object({
      content: W.array(dqe).optional().nullable(),
      kind: lqe.optional().nullable(),
      locations: W.array(cqe).optional().nullable(),
      rawInput: W.unknown().optional(),
      sessionUpdate: W.literal('tool_call_update'),
      status: uqe.optional().nullable(),
      title: W.string().optional().nullable(),
      toolCallId: W.string(),
    }),
    W.object({ entries: W.array(OLn), sessionUpdate: W.literal('plan') }),
  ]),
  Iji = W.union([HLn, TLn, xLn, BLn, NLn]),
  $Ln = W.object({ options: W.array(MLn), sessionId: W.string(), toolCall: VLn }),
  Aqe = W.object({ clientCapabilities: GLn, protocolVersion: W.number() }),
  Tji = W.object({ sessionId: W.string(), update: qLn }),
  xji = W.union([yLn, vLn, $Ln]),
  Bji = W.union([Aqe, pqe, fqe, mqe, hqe]);
var BAe = class {
    #e;
    constructor(e, r, n) {
      let i = e(this),
        a = async (s, o) => {
          switch (s) {
            case WB.initialize: {
              let l = Aqe.parse(o);
              return i.initialize(l);
            }
            case WB.session_new: {
              let l = fqe.parse(o);
              return i.newSession(l);
            }
            case WB.session_load: {
              if (!i.loadSession) throw H9.methodNotFound();
              let l = mqe.parse(o);
              return i.loadSession(l);
            }
            case WB.authenticate: {
              let l = pqe.parse(o);
              return i.authenticate(l);
            }
            case WB.session_prompt: {
              let l = hqe.parse(o);
              return i.prompt(l);
            }
            case WB.session_cancel: {
              let l = kur.parse(o);
              return i.cancel(l);
            }
            default:
              throw H9.methodNotFound(s);
          }
        };
      this.#e = new gqe(a, r, n);
    }
    async sessionUpdate(e) {
      return await this.#e.sendNotification(GJ.session_update, e);
    }
    async requestPermission(e) {
      return await this.#e.sendRequest(GJ.session_request_permission, e);
    }
    async readTextFile(e) {
      return await this.#e.sendRequest(GJ.fs_read_text_file, e);
    }
    async writeTextFile(e) {
      return await this.#e.sendRequest(GJ.fs_write_text_file, e);
    }
  },
  gqe = class {
    #e = new Map();
    #t = 0;
    #r;
    #n;
    #a = Promise.resolve();
    #i;
    constructor(e, r, n) {
      ((this.#r = e), (this.#n = r), (this.#i = new TextEncoder()), this.#u(n));
    }
    async #u(e) {
      let r = '',
        n = new TextDecoder();
      for await (let i of e) {
        r += n.decode(i, { stream: !0 });
        let a = r.split(`
`);
        r = a.pop() || '';
        for (let s of a) {
          let o = s.trim();
          if (o) {
            let l = JSON.parse(o);
            this.#l(l);
          }
        }
      }
    }
    async #l(e) {
      if ('method' in e && 'id' in e) {
        let r = await this.#s(e.method, e.params);
        await this.#o({ jsonrpc: '2.0', id: e.id, ...r });
      } else 'method' in e ? await this.#s(e.method, e.params) : 'id' in e && this.#c(e);
    }
    async #s(e, r) {
      try {
        return { result: (await this.#r(e, r)) ?? null };
      } catch (n) {
        if (n instanceof H9) return n.toResult();
        if (n instanceof W.ZodError)
          return H9.invalidParams(JSON.stringify(n.format(), void 0, 2)).toResult();
        let i;
        return (
          (n instanceof Error ||
            (typeof n == 'object' &&
              n != null &&
              'message' in n &&
              typeof n.message == 'string')) &&
            (i = n.message),
          H9.internalError(i).toResult()
        );
      }
    }
    #c(e) {
      let r = this.#e.get(e.id);
      r &&
        ('result' in e ? r.resolve(e.result) : 'error' in e && r.reject(e.error),
        this.#e.delete(e.id));
    }
    async sendRequest(e, r) {
      let n = this.#t++,
        i = new Promise((a, s) => {
          this.#e.set(n, { resolve: a, reject: s });
        });
      return (await this.#o({ jsonrpc: '2.0', id: n, method: e, params: r }), i);
    }
    async sendNotification(e, r) {
      await this.#o({ jsonrpc: '2.0', method: e, params: r });
    }
    async #o(e) {
      let r =
        JSON.stringify(e) +
        `
`;
      return (
        (this.#a = this.#a
          .then(async () => {
            let n = this.#n.getWriter();
            try {
              await n.write(this.#i.encode(r));
            } finally {
              n.releaseLock();
            }
          })
          .catch((n) => {
            console.error('ACP write error:', n);
          })),
        this.#a
      );
    }
  },
  H9 = class t extends Error {
    constructor(r, n, i) {
      super(n);
      this.code = r;
      ((this.name = 'RequestError'), i && (this.data = { details: i }));
    }
    data;
    static parseError(r) {
      return new t(-32700, 'Parse error', r);
    }
    static invalidRequest(r) {
      return new t(-32600, 'Invalid request', r);
    }
    static methodNotFound(r) {
      return new t(-32601, 'Method not found', r);
    }
    static invalidParams(r) {
      return new t(-32602, 'Invalid params', r);
    }
    static internalError(r) {
      return new t(-32603, 'Internal error', r);
    }
    static authRequired(r) {
      return new t(-32e3, 'Authentication required', r);
    }
    toResult() {
      return { error: { code: this.code, message: this.message, data: this.data } };
    }
  };
import { Readable as WLn, Writable as zLn } from 'node:stream';
tS();
import * as Vur from 'fs/promises';
import * as NAe from 'path';
import { randomUUID as JLn } from 'crypto';
async function Gur(t, e, r, n) {
  let i = zLn.toWeb(process.stdout),
    a = WLn.toWeb(process.stdin);
  ((console.log = console.error),
    (console.info = console.error),
    (console.debug = console.error),
    new BAe((s) => new Eqe(t, e, r, n, s), i, a));
}
var Eqe = class {
    constructor(e, r, n, i, a) {
      this.config = e;
      this.settings = r;
      this.extensions = n;
      this.argv = i;
      this.client = a;
    }
    sessions = new Map();
    async initialize(e) {
      let r = [
        { id: hn.LOGIN_WITH_GITHUB, name: 'Log in with GitHub', description: null },
        { id: hn.WITHOUT_AUTH, name: 'Continue without authentication', description: null },
      ];
      return { protocolVersion: Qur, authMethods: r, agentCapabilities: { loadSession: !1 } };
    }
    async authenticate({ methodId: e }) {
      let r = W.nativeEnum(hn).parse(e);
      (await bz(),
        await this.config.refreshAuth(r),
        this.settings.setValue('User', 'selectedAuthType', r));
    }
    async newSession({ cwd: e, mcpServers: r }) {
      let n = JLn(),
        i = await this.newSessionConfig(n, e, r),
        a = !1;
      if (this.settings.merged.selectedAuthType)
        try {
          (await i.refreshAuth(this.settings.merged.selectedAuthType), (a = !0));
        } catch (u) {
          console.error(`Authentication failed: ${u}`);
        }
      if (!a) throw H9.authRequired();
      let o = await i.getGeminiClient().startChat(),
        l = new yqe(n, o, i, this.client);
      return (this.sessions.set(n, l), { sessionId: n });
    }
    async newSessionConfig(e, r, n) {
      let i = { ...this.settings.merged.mcpServers };
      for (let { command: o, args: l, env: u, name: c } of n) {
        let p = {};
        for (let { name: h, value: m } of u) p[h] = m;
        i[c] = new Cz(o, l, p, r);
      }
      let a = { ...this.settings.merged, mcpServers: i },
        s = await gAe(a, this.extensions, e, this.argv, r);
      return (await s.initialize(), s);
    }
    async cancel(e) {
      let r = this.sessions.get(e.sessionId);
      if (!r) throw new Error(`Session not found: ${e.sessionId}`);
      await r.cancelPendingPrompt();
    }
    async prompt(e) {
      let r = this.sessions.get(e.sessionId);
      if (!r) throw new Error(`Session not found: ${e.sessionId}`);
      return r.prompt(e);
    }
  },
  yqe = class {
    constructor(e, r, n, i) {
      this.id = e;
      this.chat = r;
      this.config = n;
      this.client = i;
    }
    pendingPrompt = null;
    async cancelPendingPrompt() {
      if (!this.pendingPrompt) throw new Error('Not currently generating');
      (this.pendingPrompt.abort(), (this.pendingPrompt = null));
    }
    async prompt(e) {
      this.pendingPrompt?.abort();
      let r = new AbortController();
      this.pendingPrompt = r;
      let n = Math.random().toString(16).slice(2),
        i = this.chat,
        s = { role: 'user', parts: await this.#e(e.prompt, r.signal) };
      for (; s !== null; ) {
        if (r.signal.aborted) return (i.addHistory(s), { stopReason: 'cancelled' });
        let o = [];
        try {
          let l = await i.sendMessageStream(
            { message: s?.parts ?? [], config: { abortSignal: r.signal } },
            n
          );
          s = null;
          for await (let u of l) {
            if (r.signal.aborted) return { stopReason: 'cancelled' };
            if (u.candidates && u.candidates.length > 0) {
              let c = u.candidates[0];
              for (let p of c.content?.parts ?? []) {
                if (!p.text) continue;
                let h = { type: 'text', text: p.text };
                this.sendUpdate({
                  sessionUpdate: p.thought ? 'agent_thought_chunk' : 'agent_message_chunk',
                  content: h,
                });
              }
            }
            u.functionCalls && o.push(...u.functionCalls);
          }
        } catch (l) {
          throw iz(l) === 429 ? new H9(429, 'Rate limit exceeded. Try again later.') : l;
        }
        if (o.length > 0) {
          let l = [];
          for (let c of o) {
            let p = await this.runTool(r.signal, n, c),
              h = Array.isArray(p) ? p : [p];
            for (let m of h) typeof m == 'string' ? l.push({ text: m }) : m && l.push(m);
          }
          let u = l.map((c) => ({ role: 'tool', parts: [c] }));
          s = u.length > 0 ? u[0] : { role: 'user', parts: l };
        }
      }
      return { stopReason: 'end_turn' };
    }
    async sendUpdate(e) {
      let r = { sessionId: this.id, update: e };
      await this.client.sessionUpdate(r);
    }
    async runTool(e, r, n) {
      let i = n.id ?? `${n.name}-${Date.now()}`,
        a = n.args ?? {},
        s = Date.now(),
        o = (h) => {
          let m = Date.now() - s;
          return (
            m4(this.config, {
              'event.name': 'tool_call',
              'event.timestamp': new Date().toISOString(),
              prompt_id: r,
              function_name: n.name ?? '',
              function_args: a,
              duration_ms: m,
              success: !1,
              error: h.message,
            }),
            [{ functionResponse: { id: i, name: n.name ?? '', response: { error: h.message } } }]
          );
        };
      if (!n.name) return o(new Error('Missing function name'));
      let u = (await this.config.getToolRegistry()).getTool(n.name);
      if (!u) return o(new Error(`Tool "${n.name}" not found in registry.`));
      let c = u.build(a),
        p = await c.shouldConfirmExecute(e);
      if (p) {
        let h = [];
        p.type === 'edit' &&
          h.push({
            type: 'diff',
            path: p.fileName,
            oldText: p.originalContent,
            newText: p.newContent,
          });
        let m = {
            sessionId: this.id,
            options: KLn(p),
            toolCall: {
              toolCallId: i,
              status: 'pending',
              title: c.getDescription(),
              content: h,
              locations: c.toolLocations(),
              kind: u.kind,
            },
          },
          E = await this.client.requestPermission(m),
          v =
            E.outcome.outcome === 'cancelled'
              ? Tr.Cancel
              : W.nativeEnum(Tr).parse(E.outcome.optionId);
        switch ((await p.onConfirm(v), v)) {
          case Tr.Cancel:
            return o(new Error(`Tool "${n.name}" was canceled by the user.`));
          case Tr.ProceedOnce:
          case Tr.ProceedAlways:
          case Tr.ProceedAlwaysServer:
          case Tr.ProceedAlwaysTool:
          case Tr.ModifyWithEditor:
            break;
          default: {
            let g = v;
            throw new Error(`Unexpected: ${g}`);
          }
        }
      } else
        await this.sendUpdate({
          sessionUpdate: 'tool_call',
          toolCallId: i,
          status: 'in_progress',
          title: c.getDescription(),
          content: [],
          locations: c.toolLocations(),
          kind: u.kind,
        });
      try {
        let h = await c.execute(e),
          m = Hur(h);
        await this.sendUpdate({
          sessionUpdate: 'tool_call_update',
          toolCallId: i,
          status: 'completed',
          content: m ? [m] : [],
        });
        let E = Date.now() - s;
        return (
          m4(this.config, {
            'event.name': 'tool_call',
            'event.timestamp': new Date().toISOString(),
            function_name: n.name,
            function_args: a,
            duration_ms: E,
            success: !0,
            prompt_id: r,
          }),
          zQ(n.name, i, h.llmContent)
        );
      } catch (h) {
        let m = h instanceof Error ? h : new Error(String(h));
        return (
          await this.sendUpdate({
            sessionUpdate: 'tool_call_update',
            toolCallId: i,
            status: 'failed',
            content: [{ type: 'content', content: { type: 'text', text: m.message } }],
          }),
          o(m)
        );
      }
    }
    async #e(e, r) {
      let n = e.map((S) => {
          switch (S.type) {
            case 'text':
              return { text: S.text };
            case 'resource_link':
              return { fileData: { mimeData: S.mimeType, name: S.name, fileUri: S.uri } };
            case 'resource':
              return {
                fileData: {
                  mimeData: S.resource.mimeType,
                  name: S.resource.uri,
                  fileUri: S.resource.uri,
                },
              };
            default:
              throw new Error(`Unexpected chunk type: '${S.type}'`);
          }
        }),
        i = n.filter((S) => 'fileData' in S);
      if (i.length === 0) return n;
      let a = this.config.getFileService(),
        s = this.config.getFileFilteringRespectGitIgnore(),
        o = [],
        l = new Map(),
        u = [],
        c = [],
        p = await this.config.getToolRegistry(),
        h = p.getTool('read_many_files'),
        m = p.getTool('glob');
      if (!h) throw new Error('Error: read_many_files tool not found.');
      for (let S of i) {
        let b = S.fileData.fileUri;
        if (a.shouldGitIgnoreFile(b)) {
          (c.push(b),
            console.warn(
              `Path ${b} is ${s ? 'git-ignored and will be skipped' : 'ignored by custom patterns'}.`
            ));
          continue;
        }
        let I = b,
          R = !1;
        try {
          let F = NAe.resolve(this.config.getTargetDir(), b);
          Wj(F, this.config.getTargetDir())
            ? ((await Vur.stat(F)).isDirectory()
                ? ((I = b.endsWith('/') ? `${b}**` : `${b}/**`),
                  this.debug(`Path ${b} resolved to directory, using glob: ${I}`))
                : this.debug(`Path ${b} resolved to file: ${I}`),
              (R = !0))
            : this.debug(`Path ${b} is outside the project directory. Skipping.`);
        } catch (F) {
          if (Cs(F) && F.code === 'ENOENT')
            if (this.config.getEnableRecursiveFileSearch() && m) {
              this.debug(`Path ${b} not found directly, attempting glob search.`);
              try {
                let G = await m.buildAndExecute(
                  { pattern: `**/*${b}*`, path: this.config.getTargetDir() },
                  r
                );
                if (
                  G.llmContent &&
                  typeof G.llmContent == 'string' &&
                  !G.llmContent.startsWith('No files found') &&
                  !G.llmContent.startsWith('Error:')
                ) {
                  let U = G.llmContent.split(`
`);
                  if (U.length > 1 && U[1]) {
                    let M = U[1].trim();
                    ((I = NAe.relative(this.config.getTargetDir(), M)),
                      this.debug(`Glob search for ${b} found ${M}, using relative path: ${I}`),
                      (R = !0));
                  } else
                    this.debug(
                      `Glob search for '**/*${b}*' did not return a usable path. Path ${b} will be skipped.`
                    );
                } else
                  this.debug(
                    `Glob search for '**/*${b}*' found no files or an error. Path ${b} will be skipped.`
                  );
              } catch (G) {
                console.error(`Error during glob search for ${b}: ${ir(G)}`);
              }
            } else this.debug(`Glob tool not found. Path ${b} will be skipped.`);
          else console.error(`Error stating path ${b}. Path ${b} will be skipped.`);
        }
        R && (o.push(I), l.set(b, I), u.push(b));
      }
      let E = '';
      for (let S = 0; S < n.length; S++) {
        let b = n[S];
        if ('text' in b) E += b.text;
        else {
          let I = b.fileData && l.get(b.fileData.fileUri);
          if (S > 0 && E.length > 0 && !E.endsWith(' ') && I) {
            let R = n[S - 1];
            ('text' in R || ('fileData' in R && l.has(R.fileData.fileUri))) && (E += ' ');
          }
          I
            ? (E += `@${I}`)
            : (S > 0 &&
                E.length > 0 &&
                !E.endsWith(' ') &&
                !b.fileData?.fileUri.startsWith(' ') &&
                (E += ' '),
              b.fileData?.fileUri && (E += `@${b.fileData.fileUri}`));
        }
      }
      if (((E = E.trim()), c.length > 0)) {
        let S = s ? 'git-ignored' : 'custom-ignored';
        this.debug(`Ignored ${c.length} ${S} files: ${c.join(', ')}`);
      }
      if (o.length === 0)
        return (console.warn('No valid file paths found in @ commands to read.'), [{ text: E }]);
      let v = [{ text: E }],
        g = { paths: o, respectGitIgnore: s },
        _ = `${h.name}-${Date.now()}`;
      try {
        let S = h.build(g);
        await this.sendUpdate({
          sessionUpdate: 'tool_call',
          toolCallId: _,
          status: 'in_progress',
          title: S.getDescription(),
          content: [],
          locations: S.toolLocations(),
          kind: h.kind,
        });
        let b = await S.execute(r),
          I = Hur(b) || {
            type: 'content',
            content: { type: 'text', text: `Successfully read: ${u.join(', ')}` },
          };
        if (
          (await this.sendUpdate({
            sessionUpdate: 'tool_call_update',
            toolCallId: _,
            status: 'completed',
            content: I ? [I] : [],
          }),
          Array.isArray(b.llmContent))
        ) {
          let R = /^--- (.*?) ---\n\n([\s\S]*?)\n\n$/;
          v.push({
            text: `
--- Content from referenced files ---`,
          });
          for (let F of b.llmContent)
            if (typeof F == 'string') {
              let G = R.exec(F);
              if (G) {
                let U = G[1],
                  M = G[2].trim();
                (v.push({
                  text: `
Content from @${U}:
`,
                }),
                  v.push({ text: M }));
              } else v.push({ text: F });
            } else v.push(F);
          v.push({
            text: `
--- End of content ---`,
          });
        } else console.warn('read_many_files tool returned no content or empty content.');
        return v;
      } catch (S) {
        throw (
          await this.sendUpdate({
            sessionUpdate: 'tool_call_update',
            toolCallId: _,
            status: 'failed',
            content: [
              {
                type: 'content',
                content: { type: 'text', text: `Error reading files (${u.join(', ')}): ${ir(S)}` },
              },
            ],
          }),
          S
        );
      }
    }
    debug(e) {
      this.config.getDebugMode() && console.warn(e);
    }
  };
function Hur(t) {
  return t.returnDisplay
    ? typeof t.returnDisplay == 'string'
      ? { type: 'content', content: { type: 'text', text: t.returnDisplay } }
      : {
          type: 'diff',
          path: t.returnDisplay.fileName,
          oldText: t.returnDisplay.originalContent,
          newText: t.returnDisplay.newContent,
        }
    : null;
}
var RAe = [
  { optionId: Tr.ProceedOnce, name: 'Allow', kind: 'allow_once' },
  { optionId: Tr.Cancel, name: 'Reject', kind: 'reject_once' },
];
function KLn(t) {
  switch (t.type) {
    case 'edit':
      return [
        { optionId: Tr.ProceedAlways, name: 'Allow All Edits', kind: 'allow_always' },
        ...RAe,
      ];
    case 'exec':
      return [
        { optionId: Tr.ProceedAlways, name: `Always Allow ${t.rootCommand}`, kind: 'allow_always' },
        ...RAe,
      ];
    case 'mcp':
      return [
        {
          optionId: Tr.ProceedAlwaysServer,
          name: `Always Allow ${t.serverName}`,
          kind: 'allow_always',
        },
        {
          optionId: Tr.ProceedAlwaysTool,
          name: `Always Allow ${t.toolName}`,
          kind: 'allow_always',
        },
        ...RAe,
      ];
    case 'info':
      return [{ optionId: Tr.ProceedAlways, name: 'Always Allow', kind: 'allow_always' }, ...RAe];
    default: {
      let e = t;
      throw new Error(`Unexpected: ${e}`);
    }
  }
}
var OAe = qe(Ft(), 1);
function nFn(t) {
  let e = 'ipv4first';
  return t === void 0
    ? e
    : t === 'ipv4first' || t === 'verbatim'
      ? t
      : (console.warn(
          `Invalid value for dnsResolutionOrder in settings: "${t}". Using default "${e}".`
        ),
        e);
}
function iFn(t) {
  let e = eFn.totalmem() / 1048576,
    r = ZLn.getHeapStatistics(),
    n = Math.floor(r.heap_size_limit / 1024 / 1024),
    i = Math.floor(e * 0.5);
  return (
    t.getDebugMode() && console.debug(`Current heap size ${n.toFixed(2)} MB`),
    process.env.KODA_CLI_NO_RELAUNCH
      ? []
      : i > n
        ? (t.getDebugMode() &&
            console.debug(`Need to relaunch with more memory: ${i.toFixed(2)} MB`),
          [`--max-old-space-size=${i}`])
        : []
  );
}
async function aFn(t) {
  let e = [...t, ...process.argv.slice(1)],
    r = { ...process.env, KODA_CLI_NO_RELAUNCH: 'true' },
    n = rFn(process.execPath, e, { stdio: 'inherit', env: r });
  (await new Promise((i) => n.on('close', i)), process.exit(0));
}
function sFn() {
  let t = !1;
  process.on('unhandledRejection', (e, r) => {
    let n = `=========================================
This is an unexpected error. Please file a bug report using the /bug tool.
CRITICAL: Unhandled Promise Rejection!
=========================================
Reason: ${e}${
      e instanceof Error && e.stack
        ? `
Stack trace:
${e.stack}`
        : ''
    }`;
    (Rb.emit('log-error', n), t || ((t = !0), Rb.emit('open-debug-console')));
  });
}
